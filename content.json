{"pages":[],"posts":[{"title":"Brook crontabå®šæ—¶é‡å¯","text":"ä»¥ä¸‹åŒæ­¥æ—¶é—´é€‰æ‹©å…¶ä¸­ä¸€ç§,å¦‚æœæ— æ³•åŒæ­¥æœ¬åœ°æ—¶é—´è¯·googleä¸‹(å…³é”®å­—centos7æˆ–è€…centos6æˆ–è€…debianæ—¶é—´åŒæ­¥æœ¬åœ°æ—¶é—´ç­‰å…³é”®å­—)æ–¹æ³•1.æ ¡å‡†æ—¶é—´åŒæ­¥æœ¬åœ°æ—¶é—´ date -R æŸ¥çœ‹vpsæ—¶é—´ sudo -i rootæƒé™è¿›å…¥ 123yum -y install ntp ntpdate //å®‰è£…ntpdateå·¥å…·ntpdate cn.pool.ntp.org //è®¾ç½®ç³»ç»Ÿæ—¶é—´ä¸æœ¬åœ°ç½‘ç»œæ—¶é—´åŒæ­¥hwclock --systohc //å°†ç³»ç»Ÿæ—¶é—´å†™å…¥ç¡¬ä»¶æ—¶é—´ æ–¹æ³•2.æ ¡å‡†æ—¶é—´åŒæ­¥æœ¬åœ°æ—¶é—´ date -R æŸ¥çœ‹vpsæ—¶é—´ 123456yum install ntp //å®‰è£…ntpæœåŠ¡systemctl enable ntpd //å¼€æœºå¯åŠ¨æœåŠ¡systemctl start ntpd //å¯åŠ¨æœåŠ¡timedatectl set-timezone Asia/Shanghai //æ›´æ”¹æ—¶åŒºtimedatectl set-ntp yes //å¯ç”¨ntpåŒæ­¥ntpq -p //åŒæ­¥æ—¶é—´ crontabæœåŠ¡ 12/sbin/service crond start (å¼€å¯crontabæ— ä»»ä½•æç¤ºè¡¨ç¤ºå·²ç»å¼€å¯)/sbin/service crond status (æŸ¥çœ‹çŠ¶æ€) å®‰è£…crontabï¼š(æœ‰äº›ç³»ç»Ÿæ²¡æœ‰å®‰è£…crontabåˆ™éœ€è¦å®‰è£…,å¦‚æœç³»ç»Ÿæœ¬èº«å·²ç»å®‰è£…äº†è¯·è·³è¿‡è¿™ä¸€æ­¥éª¤) yum install crontabs (å®‰è£…crontab) æœåŠ¡æ“ä½œè¯´æ˜ï¼š123456789/sbin/service crond start (å¯åŠ¨æœåŠ¡)/sbin/service crond stop (å…³é—­æœåŠ¡)/sbin/service crond restart (é‡å¯æœåŠ¡)/sbin/service crond reload (é‡æ–°è½½å…¥é…ç½® //é‡æ–°è½½å…¥é…ç½®)/sbin/service crond status (æŸ¥çœ‹crondæ˜¯å¦æ­£å¸¸è¿è¡Œ) crontab -e (è¾“å…¥ié”®,å¤åˆ¶ä»¥ä¸‹ä»£ç ctrl+c,é»è´´ctrl+våˆ°åŠ å…¥è®¡åˆ’ä»»åŠ¡,å¯è‡ªå®šä¹‰æ·»åŠ éœ€è¦çš„åŠŸèƒ½) 123*/1 * * * * date &gt;&gt; ~/a.log 2&gt;&amp;1 */1 * * * * sudo journalctl -b -u brook &gt;&gt; ~/a.log 2&gt;&amp;1*/1 * * * * /bin/systemctl restart brook.service &gt;&gt; ~/a.log 2&gt;&amp;1 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133crontab -l (æŸ¥çœ‹å·²ç»æ·»åŠ çš„crontabä»»åŠ¡)tail ~/a.log æŸ¥çœ‹æœ€è¿‘10æ¡æ—¥å¿—more /root/a.log æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—tail -f /var/log/cron æŸ¥çœ‹æ­£å¸¸è¿è¡Œçš„crontabè®¡åˆ’ä»»åŠ¡éªŒè¯crontabè®¡åˆ’ä»»åŠ¡brookè¿è¡ŒçŠ¶æ€å¯ä»¥æ ¹æ®ç‰¹å®šå­—æ®µè¿‡æ»¤è¾“å‡ºjournalctl -b æ˜¾ç¤ºæœ¬æ¬¡å¯åŠ¨åçš„æ‰€æœ‰æ—¥å¿—ï¼šjournalctl -f æŸ¥çœ‹æ­£åœ¨è¾“å‡ºçš„è¿›ç¨‹sudo journalctl -b -u brook æŸ¥çœ‹brookçŠ¶æ€man 1 journalctl æŸ¥çœ‹æ‰€æœ‰ journalctlä½¿ç”¨æ–¹æ³•rm -rf ~/a.log æ—¥å¿—æ¸…é™¤æ–¹æ³•å®ä¾‹1ï¼šæ¯1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡commandå‘½ä»¤ï¼š* * * * * command å®ä¾‹2ï¼šæ¯å°æ—¶çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œå‘½ä»¤ï¼š3,15 * * * * command å®ä¾‹3ï¼šåœ¨ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œå‘½ä»¤ï¼š3,15 8-11 * * * command å®ä¾‹4ï¼šæ¯éš”ä¸¤å¤©çš„ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œå‘½ä»¤ï¼š3,15 8-11 */2 * * command å®ä¾‹5ï¼šæ¯ä¸ªæ˜ŸæœŸä¸€çš„ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œå‘½ä»¤ï¼š3,15 8-11 * * 1 command å®ä¾‹6ï¼šæ¯æ™šçš„21:30é‡å¯smb å‘½ä»¤ï¼š30 21 * * * /etc/init.d/smb restart å®ä¾‹7ï¼šæ¯æœˆ1ã€10ã€22æ—¥çš„4 : 45é‡å¯smb å‘½ä»¤ï¼š45 4 1,10,22 * * /etc/init.d/smb restart å®ä¾‹8ï¼šæ¯å‘¨å…­ã€å‘¨æ—¥çš„1 : 10é‡å¯smbå‘½ä»¤ï¼š10 1 * * 6,0 /etc/init.d/smb restart å®ä¾‹9ï¼šæ¯å¤©18 : 00è‡³23 : 00ä¹‹é—´æ¯éš”30åˆ†é’Ÿé‡å¯smb å‘½ä»¤ï¼š0,30 18-23 * * * /etc/init.d/smb restart å®ä¾‹10ï¼šæ¯æ˜ŸæœŸå…­çš„æ™šä¸Š11 : 00 pmé‡å¯smb å‘½ä»¤ï¼š0 23 * * 6 /etc/init.d/smb restart å®ä¾‹11ï¼šæ¯ä¸€å°æ—¶é‡å¯smb å‘½ä»¤ï¼š* */1 * * * /etc/init.d/smb restart å®ä¾‹12ï¼šæ™šä¸Š11ç‚¹åˆ°æ—©ä¸Š7ç‚¹ä¹‹é—´ï¼Œæ¯éš”ä¸€å°æ—¶é‡å¯smb å‘½ä»¤ï¼š* 23-7/1 * * * /etc/init.d/smb restart å®ä¾‹13ï¼šæ¯æœˆçš„4å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰çš„11ç‚¹é‡å¯smb å‘½ä»¤ï¼š0 11 4 * mon-wed /etc/init.d/smb restart å®ä¾‹14ï¼šä¸€æœˆä¸€å·çš„4ç‚¹é‡å¯smb å‘½ä»¤ï¼š0 4 1 jan * /etc/init.d/smb restart å®ä¾‹15ï¼šæ¯å°æ—¶æ‰§è¡Œ/etc/cron.hourlyç›®å½•å†…çš„è„šæœ¬å‘½ä»¤ï¼š01 * * * * root run-parts /etc/cron.hourly","link":"/2020/06/10/Brook-crontab%E5%AE%9A%E6%97%B6%E9%87%8D%E5%90%AF/"},{"title":"Brook centos7å®˜æ–¹è„šæœ¬æ­å»º","text":"1.æ›´æ–°æœåŠ¡å™¨1.è¾“å…¥sudo -i è¿›æ¥rootæƒé™, å¯è‡ªè¡Œé€‰æ‹©å‡çº§å†…æ ¸, yum update -yå‡çº§å†…æ ¸2.yum install wget ä¸‹è½½wgetå·¥å…·wget https://github.com/txthinking/brook/releases/download/v20190205/brook ä¸‹è½½brookæœåŠ¡å™¨ç‰ˆæœ¬3.è¾“å…¥cp brook /usr/bin æŠŠbrookæ‹·è´åˆ°binç›®å½•ä¸‹4.chmod +x /usr/bin/brook ç»™äºˆå½“å‰è·¯å¾„brookå¯æ‰§è¡Œæƒé™5.brook -h #æŸ¥çœ‹å¸®åŠ©6.nohup ./brook server -l :80 -p pass1234 &amp; æ·»åŠ brookç«¯å£å’Œå¯†ç ä¸”è®©brookåœ¨åå°è¿è¡Œå¤åˆ¶å¦‚ä¸‹ä»£ç  1234567sudo -i yum update -yyum install wgetwget https://github.com/txthinking/brook/releases/download/v20190205/brookcp brook /usr/binchmod +x /usr/bin/brooknohup ./brook server -l :80 -p pass1234 &amp; Brookè®¾ç½®éšç³»ç»Ÿå¯åŠ¨vi /etc/systemd/system/brook.service ç”¨viåˆ›å»ºbrook.serviceå¯åŠ¨è„šæœ¬ æŒ‰â€ i â€œè¿›å…¥insertæ¨¡å¼,è¾“å…¥è„šæœ¬å¦‚ä¸‹ 12345678[Unit]Description = This is brook [Service]ExecStart = /usr/bin/./brook server -l :80 -p pass1234 [Install]WantedBy = multi-user.target æŒ‰Escï¼Œè¾“å…¥â€shift+:â€è¾“å…¥wq å›è½¦ï¼Œä¿å­˜å¹¶é€€å‡º èµ‹äºˆå¯æ‰§è¡Œå±æ€§å¹¶ç”Ÿæ•ˆï¼š 1chmod +x /etc/systemd/system/brook.service å¼€å¯brook.service æœåŠ¡ 1systemctl enable /etc/systemd/system/brook.service reboot é‡å¯vps æŸ¥çœ‹brookæœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œè¿™å°å¦‚ä¸‹ä»£ç ï¼š 1234service brook status -l å¦‚æœæ­£å¸¸å¯åŠ¨ä¼šè¿”å›ç»¿è‰² active (running)service brook start å¼€å¯brookæœåŠ¡service brook stop åœæ­¢brookè¿è¡Œservice brook restart é‡å¯brookæœåŠ¡ systemctl list-unit-files æŸ¥çœ‹brookè„šæœ¬æ˜¯å¦ç”Ÿæ•ˆ å½“é‡æ–°ä¿®æ”¹brookå¯†ç å æˆ‘ä»¬éœ€é‡è½½ä¿¡æ¯è¾“å…¥systemctl daemon-reload æˆ–è€…é‡æ–°å¯åŠ¨vps è¾“å…¥reboot","link":"/2020/06/10/Brook%E5%AE%98%E6%96%B9%E8%84%9A%E6%9C%AC%E6%90%AD%E5%BB%BA/"},{"title":"SSRå¤šç”¨æˆ·è„šæœ¬æ­å»º","text":"æ­å»ºç¯å¢ƒcentos7/debianç³»ç»Ÿç¬¬ä¸€æ­¥sudo -i 1sudo -i ç¬¬äºŒæ­¥.ubuntu ç³»ç»Ÿå®‰è£… Curl 1apt-get update -y &amp;&amp; apt-get install curl -y ç¬¬äºŒæ­¥.centos ç³»ç»Ÿå®‰è£… Curl å’Œ wget 12yum update -y &amp;&amp; yum install curl -y yum install wget ç¬¬ä¸‰æ­¥.å®‰è£…ä¸€é”®è„šæœ¬ 1wget -N --no-check-certificate https://raw.githubusercontent.com/ComeBey/more-user-ssr/master/hasan.sh &amp;&amp; chmod +x hasan.sh &amp;&amp; bash hasan.sh ç¬¬å››æ­¥:è°ƒç”¨å‘½ä»¤è°ƒè¯• 1bash hasan.sh","link":"/2020/06/16/SSR%E5%A4%9A%E7%94%A8%E6%88%B7%E8%84%9A%E6%9C%AC%E6%90%AD%E5%BB%BA/"},{"title":"shadowsocksåŸç”Ÿéƒ¨ç½²","text":"ä¸€.å‡†å¤‡å·¥ä½œ1.rootæƒé™ 1sudo -i 2.ç³»ç»ŸåŒ…æ›´æ–° 1yum update äºŒ.ä¸‹è½½å®‰è£…pip123curl \"https://bootstrap.pypa.io/get-pip.py\" -o \"get-pip.py\" #ä¸‹è½½pippython get-pip.py #å®‰è£…pip ä¸‰.å®‰è£…SSå’Œé…ç½®SSå‚æ•°1.å®‰è£…shadowsocks 1pip install shadowsocks 2.rootæƒé™è¾“å…¥vi /etc/shadowsocks.json é…ç½®shadowsockså‚æ•°ï¼Œå¦‚æœä¸èƒ½viè¿›å»å¯ä»¥ä½¿ç”¨nanoæˆ–è€…vimè¿›è¡Œé…ç½® 1vi /etc/shadowsocks.json 123456{ \"server\":\"0.0.0.0\", \"server_port\":8388, \"password\":\"password\", \"method\":\"aes-256-cfb\"} å››.åˆ›å»ºå¯åŠ¨è„šæœ¬1vi /etc/systemd/system/shadowsocks.service 1234567[Unit]Description=Shadowsocks[Service]TimeoutStartSec=0ExecStart=/usr/bin/ssserver -c/etc/shadowsocks.json[Install]WantedBy=multi-user.target æ¸©é¦¨æç¤ºï¼šShadowsockséœ€è¦å®‰è£…libsodiumåŠ å¯†åº“ï¼Œå¦åˆ™åªèƒ½ä½¿ç”¨â€œaes-256-cfbâ€æ— æ³•ä½¿ç”¨å…¶ä»–åŠ å¯†åè®®ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š 123wget https://github.com/jedisct1/libsodium/releases/download/1.0.18-RELEASE/libsodium-1.0.18.tar.gztar xf libsodium-1.0.18.tar.gz &amp;&amp; cd libsodium-1.0.18 äº”.è°ƒè¯•æœåŠ¡12345systemctl enable shadowsocks #è®©æœåŠ¡ssæœåŠ¡ç”Ÿæ•ˆå¼€æœºå¯åŠ¨systemctl start shadowsocks #å¯åŠ¨sssystemctl status shadowsocks -l #æŸ¥çœ‹çŠ¶æ€ ç„¶åè‡ªå·±å»å®‰è£…BBRåŠ é€Ÿæ¸©é¦¨æç¤ºï¼šä½ çœŸçš„æ‡‚å—ï¼Ÿå¯¹äºæ‡‚å¾—ç”¨ssçš„æœ‹å‹æ¥è¯´å°±æ˜¯å¥½ç”¨ï¼Œå¯¹äºä¸æ‡‚å¾—ä½¿ç”¨ssçš„æœ‹å‹æ¥è¯´å³ä½¿æ‚¨ç°åœ¨ä½¿ç”¨çš„æ˜¯v2rayæˆ–è€…trojan GFWçœŸè¦å¢™ä½ IPä¹Ÿæ˜¯è½»è€Œæ˜“ä¸¾ï¼Œä¸ç®¡ä½¿ç”¨ä»»ä½•ç¿»å¢™è½¯ä»¶å¤§éƒ¨åˆ†æƒ…å†µæ˜¯åœ¨äºäººï¼Œåœ¨è°çš„æ‰‹ä¸­ä½¿ç”¨ï¼Œshadowsocksä¸€æ ·å¯ä»¥é…ç½®NGINXç­‰æœåŠ¡æ­é…ä½¿ç”¨ï¼Œä¸€æ ·å¯ä»¥åŠ CDNä¸è¦è¢«ä¸€äº›UPä¸»å¸¦åäº†èŠ‚å¥ï¼Œä»»ä½•é—®é¢˜å¦‚æœç»ä¸èµ·éªŒè¯éƒ½æ˜¯æ‰¯è›‹","link":"/2020/06/27/SS%E5%8E%9F%E7%94%9F%E9%83%A8%E7%BD%B2/"},{"title":"V2ray+WebSocket+TLS+Nginx","text":"centos7ç³»ç»Ÿç¯å¢ƒæ­å»ºï¼Œæ¸©é¦¨æç¤ºï¼šè¯·ä½¿ç”¨centos7ç³»ç»Ÿæ­å»ºï¼Œå¦‚æœå­¦ä¹ èƒ½åŠ›å¼ºå¯ä»¥Googleæœç´¢Debianæˆ–å…¶ä»–ç³»ç»Ÿæ­å»ºæ–¹æ³•ï¼Œåªæ˜¯éƒ¨åˆ†ä»£ç ä¸ä¸€æ ·è€Œå·²ï¼ŒV2Ray+WebSocket+TLS+Nginx å‰å‡ æœŸè§†é¢‘åˆ†åˆ«æåˆ°è¿‡ TLS å’Œ WebSocket çš„é…ç½®æ–¹æ³•ï¼Œè€Œæœ¬æ–‡æ­é… Web æœåŠ¡å¹¶åŒæ—¶å®ç° TLS å’Œ WebSocketæµè§ˆå™¨åŸŸåè®¿é—®è‡ªåŠ¨è·³è½¬httpsæœ‰ç®€å•å‰ç«¯ç½‘é¡µã€‚å…³äº Web çš„è½¯ä»¶å®˜æ–¹ç»™å‡ºNginxï¼ŒCaddy å’Œ Apache ä¸‰ä¸ªä¾‹å­ï¼Œä¸‰é€‰ä¸€å³å¯ ä¸€.å®‰è£…å‰å‡†å¤‡1.æ›´æ–°æœåŠ¡å™¨ï¼Œå¤§æ¦‚å‡ åˆ†é’Ÿå·¦å³è€å¿ƒç­‰å¾… 1yum update -y 2.æŠŠVPSæœåŠ¡å™¨åŒæ­¥æœ¬åœ°æ—¶é—´åŠæ—¶åŒºï¼ˆæ¸©é¦¨æç¤ºï¼šå¦‚æœä½ åœ¨å›½å¤–è¯·åŒæ­¥æ‰€åœ¨å›½å®¶æ—¶åŒºï¼‰Centos7ç³»ç»ŸåŒæ­¥æ—¶é—´å¦‚ä¸‹ï¼š 1234date -R //æŸ¥çœ‹æœåŠ¡å™¨æ—¶é—´timedatectl set-local-rtc 1timedatectl set-timezone Asia/Shanghaidate -R //æŸ¥çœ‹æœåŠ¡å™¨æ—¶é—´ Debianç³»ç»ŸåŒæ­¥æ—¶é—´å¦‚ä¸‹ï¼š 1234date -R //æŸ¥çœ‹æœåŠ¡å™¨æ—¶é—´rm -rf /etc/localtimecp /usr/share/zoneinfo/Asia/Shanghai /etc/localtimedate -R //æŸ¥çœ‹æœåŠ¡å™¨æ—¶é—´ 2.å®‰è£…bbrï¼ˆå¯é€‰æ‹©å®‰è£…äº†v2rayä»¥ååœ¨å®‰è£…ï¼‰ 123456centos7ç³»ç»Ÿyum -y install wgetwget \"https://github.com/chiakge/Linux-NetSpeed/raw/master/tcp.sh\" &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh debianç³»ç»Ÿ è¯·ç¡®å®šæœåŠ¡å™¨å·²ç»å®‰è£…äº†wget å¦‚æ²¡æœ‰æŒ‰ç…§è¯·å…ˆæ‰§è¡Œè¿™æ¡ä»£ç  apt-get install wgetwget --no-check-certificate -O tcp.sh https://github.com/cx9208/Linux-NetSpeed/raw/master/tcp.sh &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh äºŒ.å®‰è£…v2rayå®˜æ–¹ä»£ç  ï¼ˆè€çš„å®˜æ–¹è„šæœ¬ï¼‰1bash &lt;(curl -L -s https://install.direct/go.sh) å®‰è£…æˆåŠŸåæ‰§è¡Œ vi /etc/v2ray/config.json é•¿æŒ‰é”®ç›˜Dé”®åˆ æ‰€æœ‰ä»£ç ï¼Œåœ¨è¾“å…¥é”®ç›˜Insé”®è¿›å…¥å¯ç¼–è¾‘çŠ¶æ€ï¼Œå¤åˆ¶ä»¥ä¸‹ä»£ç å é»è´´åˆ°é…ç½®ä¸­æŒ‰é”®ç›˜Escé”®ï¼Œåœ¨åŒæ—¶æŒ‰é”®ç›˜shift+ï¼šè¾“å…¥wqä¿å­˜é€€å‡º 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667//å¤åˆ¶ä»¥ä¸‹ä»£ç { \"log\" : { \"access\": \"/var/log/v2ray/access.log\", \"error\": \"/var/log/v2ray/error.log\", \"loglevel\": \"warning\" }, \"inbound\": { \"port\": 9000, //é‡ç‚¹(æ­¤ç«¯å£ä¸nginxé…ç½®ä¿æŒä¸€è‡´) \"listen\": \"127.0.0.1\", //é‡ç‚¹(æ­¤ç«¯å£ä¸nginxé…ç½®ä¿æŒä¸€è‡´) \"protocol\": \"vmess\", \"settings\": { \"clients\": [ { \"id\": \"eb950add-608e-409d-937f-e797324387093z\", //ä½ çš„UUIDï¼Œå¯æ›´æ”¹éœ€ä¸å®¢æˆ·ç«¯ä¿æŒä¸€è‡´ \"level\": 1, \"alterId\": 64 //æ­¤IDä¹Ÿéœ€ä¸å®¢æˆ·ç«¯ä¿æŒä¸€è‡´ï¼ˆä¸è¦è®¾ç½®è¶…è¿‡100ä»¥ä¸Šå¯è‡ªå®šä¹‰ï¼‰ } ] }, \"streamSettings\":{ \"network\": \"ws\", //å¯è®¾ç½®tcpç­‰ \"wsSettings\": { \"path\": \"/v2ray\" //ä¸nginxé…ç½®ç›¸å…³ï¼ˆå¯è‡ªå®šä¹‰ï¼‰ } } }, \"outbound\": { \"protocol\": \"freedom\", \"settings\": {} }, \"outboundDetour\": [ { \"protocol\": \"blackhole\", \"settings\": {}, \"tag\": \"blocked\" } ], \"routing\": { \"strategy\": \"rules\", \"settings\": { \"rules\": [ { \"type\": \"field\", \"ip\": [ \"0.0.0.0/8\", \"10.0.0.0/8\", \"100.64.0.0/10\", \"127.0.0.0/8\", \"169.254.0.0/16\", \"172.16.0.0/12\", \"192.0.0.0/24\", \"192.0.2.0/24\", \"192.168.0.0/16\", \"198.18.0.0/15\", \"198.51.100.0/24\", \"203.0.113.0/24\", \"::1/128\", \"fc00::/7\", \"fe80::/10\" ], \"outboundTag\": \"blocked\" } ] } }} 12ä½ å¯ä»¥è¾“å…¥ service v2ray restart åœ¨è¾“å…¥ service v2ray status -l #çœ‹çœ‹æ˜¯å¦è¿è¡ŒæˆåŠŸservice v2ray start|stop|status|reload|restart|force-reload #è°ƒè¯• V2Ray çš„è¿è¡Œä»£ç  æ‰“å¼€ 80ï¼ˆHTTPï¼‰å’Œ 443ï¼ˆHTTPSï¼‰ç«¯å£(å¦‚æœçœ‹è¿‡æˆ‘å‰å‡ æœŸè§†é¢‘ï¼Œç¡®å®šé˜²ç«å¢™è§„åˆ™è®¾ç½®å¥½äº†ï¼Œè°·æ­Œäº‘å¯ä»¥å¿½ç•¥ã€‚å…¶ä»–å“ç‰ŒæœåŠ¡å™¨è¯·ç¡®è®¤å·²ç»å¼€å¯äº†80å’Œ443ç«¯å£å¦‚æœæ²¡æœ‰å¯å°è¯•ä¸‹é¢ä»£ç æ“ä½œæˆ–è€…æœåŠ¡å™¨ç½‘é¡µç«¯å¼€å¯http80ç«¯å£å’Œhttps 443ç«¯å£) ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥æ‰“å¼€è¿™ä¸¤ä¸ªç«¯å£:è¯·è‡ªè¡Œå¼€å¯é˜²ç«å¢™å¼€æœºå¯åŠ¨ 123sudo firewall-cmd --permanent --zone=public --add-service=httpsudo firewall-cmd --permanent --zone=public --add-service=httpssudo firewall-cmd --reload ä¸‰.å®‰è£…NGINX123456789#å®‰è£… EPEL ä»“åº“ï¼ˆè°·æ­Œäº‘å¿½ç•¥æ­¤æ­¥éª¤ï¼Œå¦‚æœä½ æ˜¯ä½¿ç”¨å…¶ä»–å“ç‰ŒvpsæœåŠ¡å™¨å¦‚æœæ²¡æœ‰å®‰è£…EPELè¯·å…ˆå®‰è£…ï¼‰sudo yum install epel-release#å®‰è£… Nginx ã€ yum remove nginx å¦‚æœæƒ³åˆ é™¤nginxå¸è½½å‘½ä»¤ ã€‘sudo yum install nginxsudo systemctl enable nginx.service #è®¾ç½®å¼€æœºå¯åŠ¨Nginxsudo systemctl start nginx.service #å¯åŠ¨NginxæœåŠ¡ 1234567891011121314151617181920è°ƒè¯•ä»£ç å¦‚ä¸‹ï¼šsudo systemctl start nginx.service //å¼€å¯ Nginxsudo systemctl stop nginx.service //åœæ­¢ Nginxsudo systemctl status -l nginx.service //æŸ¥çœ‹ Nginxè¿è¡ŒçŠ¶æ€sudo systemctl restart nginx.service //é‡æ–°å¯åŠ¨ Nginxsudo systemctl disable nginx.service //å–æ¶ˆå¼€æœºå¯åŠ¨ Nginxsudo systemctl reload nginx.service //é‡è½½Nginx (å¦‚æ›´æ”¹Nginxé…ç½®éœ€è¦é‡æ–°è½½å…¥æ•°æ®)sudo systemctl enable nginx.service //å¼€æœºå¯åŠ¨ è°ƒè¯•ä»£ç å¦‚ä¸‹ï¼š Nginxè°ƒè¯•ä¹Ÿå¯ä»¥ä¸éœ€è¦ä»£ç åé¢æ·»åŠ  **.service** è¯·å…ˆ**sudo systemctl start nginx.service**å’Œ**sudo systemctl enable nginx.service** ç„¶ååœ¨é€šè¿‡ä¸‹é¢ä»£ç ä¹Ÿå¯ä»¥è°ƒè¯•.sudo systemctl start nginx //å¼€å¯ Nginxsudo systemctl stop nginx //åœæ­¢ Nginxsudo systemctl status -l nginx //æŸ¥çœ‹ Nginxè¿è¡ŒçŠ¶æ€sudo systemctl restart nginx //é‡æ–°å¯åŠ¨ Nginxsudo systemctl disable nginx //å–æ¶ˆå¼€æœºå¯åŠ¨ Nginxsudo systemctl reload nginx //é‡è½½Nginx (å¦‚æ›´æ”¹Nginxé…ç½®éœ€è¦é‡æ–°è½½å…¥æ•°æ®)sudo systemctl enable nginx //å¼€æœºå¯åŠ¨ é€šè¿‡ä»¥ä¸Šæ–¹å¼å®‰è£…çš„ Nginxï¼Œæ‰€æœ‰ç›¸å…³çš„é…ç½®æ–‡ä»¶éƒ½åœ¨ /etc/nginx/ ç›®å½•ä¸­Nginx çš„ä¸»é…ç½®æ–‡ä»¶æ˜¯ /etc/nginx/nginx.confNginx æ—¥å¿—æ–‡ä»¶ï¼ˆaccess.log å’Œ error.log ï¼‰ä½äº /var/log/nginx/ ç›®å½•ä¸­ã€‚ å¦‚æœåœ¨è®¾ç½®å®Œæˆä¹‹åä¸èƒ½æˆåŠŸä½¿ç”¨ï¼Œå¯èƒ½æ˜¯ç”±äº SElinux æœºåˆ¶(å¦‚æœä½ æ˜¯ CentOS 7 çš„ç”¨æˆ·è¯·ç‰¹åˆ«ç•™æ„SElinux è¿™ä¸€æœºåˆ¶)é˜»æ­¢äº† Nginx è½¬å‘å‘å†…ç½‘çš„æ•°æ®å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œåœ¨V2Rayçš„æ—¥å¿—é‡Œä¸ä¼šæœ‰è®¿é—®ä¿¡æ¯ï¼Œåœ¨ Nginx çš„æ—¥å¿—é‡Œä¼šå‡ºç°å¤§é‡çš„ â€œPermission Deniedâ€ å­—æ®µè¦è§£å†³è¿™ä¸€é—®é¢˜éœ€è¦åœ¨ç»ˆç«¯ä¸‹é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼š 1setsebool -P httpd_can_network_connect 1 //debianå¿½ç•¥ éªŒè¯ Nginx æ˜¯å¦æˆåŠŸå¯åŠ¨ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://YOUR_IP æ³¨æ„ï¼šæ‰“å¼€åˆ™æ˜¾ç¤ºcentosç½‘é¡µ ä½†æ˜¯æç¤ºä¸å®‰å…¨ç½‘ç«™æ²¡å¼€å¯sslåŠ å¯†https å››.ç”Ÿæˆè¯ä¹¦å¦‚æœä½ å·²ç»æœ‰å…¶ä»–è¯ä¹¦å¯å¿½ç•¥ï¼ŒæŠŠè¯ä¹¦å’Œå¯†é’¥æ”¾åˆ°æœåŠ¡å™¨æŒ‡å®šç›®å½•ä¸‹ï¼Œåªéœ€åœ¨Nginx ä¸­æŒ‡å®š è¯ä¹¦å’Œå¯†é’¥è·¯å¾„ã€‚ç”³è¯·è¯ä¹¦æ–¹æ³•å¤ªå¤šå¯é€šè¿‡å®‰è£…acme.shå·¥å…·ç”Ÿæˆè¯ä¹¦æˆ–å…¶ä»–æ–¹æ³•ç”Ÿæˆè¯ä¹¦ï¼Œå¯Googleæœç´¢ã€‚ 1.å®‰è£…acem.shè¯ä¹¦ç”Ÿæˆå·¥å…·ï¼Œä»¥ä¸‹æä¾›3ç§æ–¹æ³•å®‰è£…ï¼Œé€‰å…¶ä¸­ä»»æ„ä¸€ç§æ–¹æ³•å®‰è£…è¯ä¹¦å·¥å…· (æ¸©é¦¨æç¤ºï¼šè‡ªåŠ¨å‡çº§acme.shåœ¨rootä¸‹è¾“å…¥ acme.sh upgrade) 12345curl https://get.acme.sh | sh // å¦‚æç¤ºå®‰è£…å¤±è´¥ è¯·å…ˆå®‰è£…curl è¾“å…¥ yum -y install curlwget -O - https://get.acme.sh | sh //å¦‚æç¤ºå®‰è£…å¤±è´¥è¯·ï¼ˆå…ˆå®‰è£…wgetï¼‰è¾“å…¥ yum -y install wget å·²ç»å®‰è£…äº†å¿½ç•¥git clone https://github.com/acmesh-official/acme.sh.git // å¦‚æç¤ºå®‰è£…å¤±è´¥ å…ˆå®‰è£…git å·²ç»å®‰è£…äº†çš„å¿½ç•¥ è¾“å…¥ yum install gitcd ./acme.sh./acme.sh --install é€šè¿‡ä»¥ä¸Šä»£ç å®‰è£…acme.shæç¤ºçº¢è‰²æŠ±é”™ ä½ å¯ä»¥æŒ‰å®é™…ç›¸å…³æƒ…å†µè€Œå®šå®‰è£…ä¾èµ– æ¯”å¦‚å®‰è£…socat æˆ–è€… netcat 1234567centos7 yum install socat #é€šè¿‡80ç«¯å£ç”Ÿæˆè¯ä¹¦çš„ä¾èµ–centos7 yum isntall netcatdebian apt-get install openssl cron socat curldebian apt-get -y install netcatå®‰è£…æˆåŠŸåæ‰§è¡Œ source ~/.bashrc ä»¥ç¡®ä¿è„šæœ¬æ‰€è®¾ç½®çš„å‘½ä»¤åˆ«åç”Ÿæ•ˆ 2.ç”Ÿæˆè¯ä¹¦ è·¯å¾„ä¸º/root/.acme.shæ–‡ä»¶ä¸‹ å®‰è£…å¥½åå¯è‡ªè¡ŒæŸ¥çœ‹ æ¸©é¦¨æç¤ºï¼šé€šè¿‡acme.shç”Ÿæˆè¯ä¹¦æœ‰å¤šç§æ–¹æ³•ï¼š ä¾‹å¦‚â€”è‡ªåŠ¨DNS APIé›†æˆ å¦‚ï¼šcloudflare DNS API ä»¤ç‰Œ å’Œ ä½¿ç”¨å…¨å±€APIå¯†é’¥ acme.shæ”¯æŒå¤§å¤šæ•°dnsç”Ÿæˆè¯ä¹¦ ä¾‹å¦‚â€”ä½¿ç”¨DNSæ‰‹åŠ¨æ¨¡å¼ï¼Œç­‰å¤šç§å…¶ä»–å®‰è£…æ–¹æ³•ï¼Œå¦‚æœä½ æ˜¯ä¸ªå¥½å­¦çš„äººå¯Google ç”Ÿæˆè¯ä¹¦å¦‚ä¸‹ï¼šæœ¬æœŸè§†é¢‘åªç”¨æŒ‡å®šç«¯å£ ç”Ÿæˆè¯ä¹¦ æ¨èä½¿ç”¨443ç«¯å£ç”Ÿæˆè¯ä¹¦ ï¼ˆä¸€èˆ¬ç”¨å•åŸŸåè¶³ä»¥ï¼Œæ¯•ç«Ÿæ˜¯ç¿»å¢™ç”¨æ— éœ€æé‚£ä¹ˆå¤šèŠ±é‡Œèƒ¡å“¨çš„å¤šåŸŸï¼Œæ¯”å¦‚ï¼šä¸»åŸŸbaidu.comé‚£ä¹ˆä¸å»ºè®®ä½¿ç”¨www.baidu.com,å› ä¸ºæ˜¯ç¿»å¢™çš„å‰ç«¯webè¯·è‡ªå®šä¹‰æ¯”å¦‚tw.baidu.com,å‰ç¼€twå¯ä»¥è‡ªå®šä¹‰è¯·ä¸è¦å†™å¤ªé•¿ï¼Œä¸»åŸŸbaidu.comå’ŒäºŒçº§www.baidu.comå¯ä»¥å¤‡ç”¨ä½ æ‡‚çš„ï¼‰ 1.é€šè¿‡ä¾¦å¬80ç«¯å£ç”³è¯·è¯ä¹¦ï¼Œå¦‚æœ80ç«¯å£è¢«å ç”¨,è¯·ä½¿ç”¨443ç«¯å£,è¯·ç¡®ä¿è¿™äº›ç«¯å£éƒ½æ‰“å¼€äº† 1sudo ~/.acme.sh/acme.sh --issue -d åŸŸå --standalone -k ec-256 2.å¦‚æœæ‚¨80åœ¨åå‘ä»£ç†æˆ–è´Ÿè½½å‡è¡¡å™¨åé¢ä½¿ç”¨éæ ‡å‡†ç«¯å£ï¼Œåˆ™å¯ä»¥â€“httpportç”¨æ¥æŒ‡å®šç«¯å£ 1sudo ~/.acme.sh/acme.sh --issue -d åŸŸå --standalone --httpport ç«¯å£ 3.ä¾¦å¬443ç«¯å£ä»¥é¢å‘è¯ä¹¦ï¼Œè¯·ç¡®ä¿443ç«¯å£å¼€å¯ 1sudo ~/.acme.sh/acme.sh --issue -d åŸŸå --alpn -k ec-256 4.å¦‚æœæ‚¨443åœ¨åå‘ä»£ç†æˆ–è´Ÿè½½å‡è¡¡å™¨åé¢ä½¿ç”¨éæ ‡å‡†ç«¯å£ï¼Œåˆ™å¯ä»¥â€“tlsportç”¨æ¥æŒ‡å®šç«¯å£ 1sudo ~/.acme.sh/acme.sh --issue -d åŸŸå --alpn --tlsport ç«¯å£ -k è¡¨ç¤ºå¯†é’¥é•¿åº¦ï¼Œåé¢çš„å€¼å¯ä»¥æ˜¯ ec-256 ã€ec-384ã€2048ã€3072ã€4096ã€8192ï¼Œå¸¦æœ‰ ec è¡¨ç¤ºç”Ÿæˆçš„æ˜¯ ECC è¯ä¹¦ï¼Œæ²¡æœ‰åˆ™æ˜¯ RSA è¯ä¹¦ã€‚åœ¨å®‰å…¨æ€§ä¸Š 256 ä½çš„ ECC è¯ä¹¦ç­‰åŒäº 3072 ä½çš„ RSA è¯ä¹¦ äº”.æŠŠè¯ä¹¦å’Œå¯†é’¥å®‰è£…åˆ°æŒ‡å®šè·¯å¾„ /etc/v2ray ï¼ˆè·¯å¾„å¯è‡ªå®šä¹‰ï¼‰123ecc å®‰è£…ä»£ç  sudo ~/.acme.sh/acme.sh --installcert -d åŸŸå --fullchainpath /etc/v2ray/v2ray.crt --keypath /etc/v2ray/v2ray.key --eccrsa å®‰è£…ä»£ç  sudo ~/.acme.sh/acme.sh --installcert -d åŸŸå --fullchainpath /etc/v2ray/v2ray.crt --keypath /etc/v2ray/v2ray.key å…­.é…ç½®NGINX *.confvi /etc/nginx/nginx.conf #è¿›å…¥ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼šé•¿æŒ‰é”®ç›˜ä¸ŠDé”®åˆ é™¤æ‰€æœ‰é…ç½®ä¿¡æ¯ï¼Œå†æŒ‰é”®ç›˜Insé”®è¿›å…¥ç¼–è¾‘æ¨¡å¼å¤åˆ¶å¦‚ä¸‹ä»£ç é»è´´åˆ°é…ç½®ä¸­ç¼–è¾‘ï¼Œå¡«å†™å¯¹åº”è‡ªå·±çš„é…ç½®ä¿¡æ¯åã€‚æœ€ååŒæ—¶æŒ‰é”®ç›˜ä¸Š shift+: é”®ï¼Œåœ¨è¾“å…¥wqä¿å­˜é€€å‡º 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061user nginx;worker_processes auto;error_log /var/log/nginx/error.log;pid /run/nginx.pid;include /usr/share/nginx/modules/*.conf;events { worker_connections 1024;}http { log_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' '$status $body_bytes_sent \"$http_referer\" ' '\"$http_user_agent\" \"$http_x_forwarded_for\"'; access_log /var/log/nginx/access.log main; sendfile on; tcp_nopush on; tcp_nodelay on; keepalive_timeout 65; types_hash_max_size 2048; include /etc/nginx/mime.types; default_type application/octet-stream; include /etc/nginx/conf.d/*.conf;server { listen 80; server_name åŸŸå; rewrite ^/(.*) https://åŸŸå$1 permanent; #å¡«å†™è‡ªå·±åŸŸå} server #å…³é”®ä»£ç  { # SSL configuration listen 443 ssl http2 default_server; listen [::]:443 ssl http2 default_server; ssl_certificate /è·¯å¾„/*.pem; #ä½ çš„sslè¯ä¹¦*.crt æˆ–è€… *.peméƒ½å¯ä»¥ ssl_certificate_key /è·¯å¾„/*.key; #ä½ çš„ssl key ssl_ciphers EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+ECDSA+AES128:EECDH+aRSA+AES128:RSA+AES128:EECDH+ECDSA+AES256:EECDH+aRSA+AES256:RSA+AES256:EECDH+ECDSA+3DES:EECDH+aRSA+3DES:RSA+3DES:!MD5; #å¥—ä»¶RSAå’Œeccä¸ä¸€æ ·åœ¨ä¸‹é¢æˆ‘ä¼šåˆ†åˆ«ç»™å‡º ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3; root /usr/share/nginx/html; #ç½‘é¡µè·¯å¾„ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥æ”¾ä½ ä»¬è‡ªå·±çš„htmlç½‘ç«™æ›¿æ¢ä¸‹å°±å¯ä»¥äº† server_name åŸŸå; #ä½ çš„æœåŠ¡å™¨åŸŸå location /ray { #/ray åˆ‡è®°è·¯å¾„éœ€è¦å’Œv2rayæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ä¿æŒä¸€è‡´ å¯è‡ªå®šä¹‰åå­— proxy_redirect off; proxy_pass http://127.0.0.1:ç«¯å£; #æ­¤IPåœ°å€å’Œç«¯å£éœ€è¦å’Œv2rayæœåŠ¡å™¨ç«¯é…ç½®ä¿æŒä¸€è‡´ï¼Œ proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \"upgrade\"; proxy_set_header Host $http_host;}}} å¥—ä»¶å¦‚ä¸‹ï¼š 1ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384; #RSAå¥—ä»¶ 1EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+ECDSA+AES128:EECDH+aRSA+AES128:RSA+AES128:EECDH+ECDSA+AES256:EECDH+aRSA+AES256:RSA+AES256:EECDH+ECDSA+3DES:EECDH+aRSA+3DES:RSA+3DES:!MD5; #Eccå¥—ä»¶ ä¿®æ”¹ Nginx é…ç½®åï¼Œè¯·åŠ¡å¿…é‡æ–°åŠ è½½é…ç½® è¾“å…¥ sudo systemctl reload nginx.service #å¿…é¡»è¿™æ ·æ“ä½œ æŸ¥è¯¢æ˜¯å¦å¼€å¯ssl æ‰“å¼€ç½‘ç«™https://myssl.com/ssl.htmlè¾“å…¥è‡ªå·±åŸŸåï¼Œç«¯å£è¾“å…¥443 æˆ–è€… æ‰“å¼€https://www.ssllabs.com/ssltest/index.html æŸ¥è¯¢ ï¼Œä¹Ÿå¯ä»¥googleæœç´¢å…³é”®å­—sslæŸ¥è¯¢ï¼Œå¾ˆå¤šç½‘ç«™å¯ä»¥æŸ¥è¯¢ï¼Œè¯„åˆ†æ˜¯å¦åˆ°è¾¾Açº§åˆ« æ¸©é¦¨æç¤ºï¼šé€šè¿‡acme.shå·¥å…·ç”Ÿæˆè¯ä¹¦è¯·ä½¿ç”¨443ç«¯å£ ä»£ç å¦‚ä¸‹ï¼šsudo ~/.acme.sh/acme.sh â€“issue -d åŸŸå â€“alpn -k ec-256 ï¼ˆä¾¦å¬443ç«¯å£ä»¥é¢å‘è¯ä¹¦ï¼Œè¯·ç¡®ä¿443ç«¯å£å¼€å¯ æŒ‰æ–‡ç« æµç¨‹æ“ä½œ80ç«¯å£ç”Ÿæˆè¯ä¹¦æ—¶ä¼šæç¤ºç«¯å£å ç”¨ï¼Œå½“ç„¶å¦‚æœä½ æƒ³ç®€å•ç‚¹å¯ä»¥é€šè¿‡å·²æœ‰è´­ä¹°çš„è¯ä¹¦æˆ–è€…é€šè¿‡å®å¡”ç”³è¯·çš„æˆ–è€…å…¶ä»–è¯ä¹¦ï¼ŒæŠŠå¯†é’¥å’Œè¯ä¹¦ç›´æ¥å¤åˆ¶æ‹·è´åˆ°æœåŠ¡å™¨æŒ‡å®šè·¯å¾„ä¸‹ï¼Œåœ¨é…ç½®nginxæŒ‡å‘è¯ä¹¦å’Œè·¯å¾„ã€‚éƒ¨åˆ†å…è´¹è¯ä¹¦ä¼šç¼ºå°‘CAè¯ä¹¦é‚£ä¹ˆåœ¨ç½‘ç«™sslè¯„åˆ†å°±ä¼šå¤§æ‰“æŠ˜æ‰£ï¼Œè§£å†³åŠæ³•æ˜¯é‡æ–°æŠŠCAè¯ä¹¦æ·»åŠ ä¸‹å°±å¯ä»¥äº† é€šè¿‡åœ¨æµè§ˆå™¨è¾“å…¥è‡ªå·±åŸŸåæŸ¥è¯¢æ˜¯å¦å‘ç°ç½‘ç«™åŠ äº†ä¸€æŠŠé”ğŸ”’å¼€å¯äº†httpsï¼Œ ä¸”ç½‘ç«™åŸŸåsslè¯„åˆ†åˆ°è¾¾A å¦‚æœæ˜¯ï¼Œæ­å–œä½ æ­å»ºæˆåŠŸ.å¦‚æœä½ å·²ç»å­¦ä¼šäº†é‚£ä¹ˆæ¥ä¸‹æ¥çš„è¯¾ç¨‹ä¼šè¶Šæ¥è¶Šæœ‰æ„æ€.","link":"/2020/06/16/V2ray+WebSocket+TLS+Nginx/"},{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2020/06/26/hello-world/"},{"title":"hexoéƒ¨ç½²å‘½ä»¤æŠ¥é”™","text":"1234567891011121314151617INFO Deploying: gitINFO Clearing .deploy_git folder...INFO Copying files from public folder...INFO Copying files from extend dirs...fatal: Unable to create '/drives/c/blog/.deploy_git/.git/index.lock': File exists.Another git process seems to be running in this repository, e.g.an editor opened by 'git commit'. Please make sure all processesare terminated then try again. If it still fails, a git processmay have crashed in this repository earlier:remove the file manually to continue.FATAL Something's wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.htmlError: Spawn failed at ChildProcess.&lt;anonymous&gt; (C:\\blog\\node_modules\\hexo-util\\lib\\spawn.js:51:21) at ChildProcess.emit (events.js:310:20) at ChildProcess.cp.emit (C:\\blog\\node_modules\\cross-spawn\\lib\\enoent.js:34:29) at Process.ChildProcess._handle.onexit (internal/child_process.js:275:12) è§£å†³æ–¹æ¡ˆfixedï¼š 12delete .deploy_git directoryï¼š$ rm -rf .deploy_git #deletere-deployï¼š$ hexo d -g #é‡æ–°éƒ¨ç½²","link":"/2020/06/09/hexo%E6%97%B6%E9%83%A8%E7%BD%B2%E5%91%BD%E4%BB%A4%EF%BC%8C%E5%8F%91%E7%94%9F%E9%94%99%E8%AF%AF/"},{"title":"V2ray+WS+TCP+TLSé…ç½®","text":"v2ray+WS+TCP+TLS å®‰å…¨çº§åˆ«ä¸é”™ ç¨³å®šæ€§ä¸é”™ æ¨èéƒ¨ç½² centos7ç³»ç»Ÿé…ç½®å’ŒDebianç³»ç»Ÿé…ç½®ï¼Œacme.shè„šæœ¬æ‰€æœ‰è¯ä¹¦å°†æ¯60å¤©è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡ï¼ˆå¦‚æœä½ éè¦æ‰‹åŠ¨æ›´æ–°éšæ„) ç¬¬ä¸€æ­¥.V2RAYå®˜æ–¹è„šæœ¬æ­å»ºcentos7æ›´æ–°æœåŠ¡å™¨ yum update -y (éƒ¨åˆ†ç³»ç»Ÿæç¤ºNO packages marked for updateåˆ™æ— éœ€æ›´æ–°)è®¾ç½®ç¡¬ä»¶æ—¶é’Ÿè°ƒæ•´ä¸ºä¸æœ¬åœ°æ—¶é’Ÿä¸€è‡´, è®¾ç½®æ—¶åŒºä¸ºä¸Šæµ· date -R æ˜¯æŸ¥çœ‹æœåŠ¡å™¨å½“å‰æ—¶é—´ 123date -Rtimedatectl set-local-rtc 1timedatectl set-timezone Asia/Shanghai Debianç³»ç»ŸåŒæ­¥æ—¶é—´å¦‚ä¸‹ï¼š 123date -Rrm -rf /etc/localtimecp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime ç¬¬äºŒæ­¥.å®‰è£…bbr12345678910111213#centos7 å¤åˆ¶è¿™æ¡ä»£ç å®‰è£…bbråŠ é€Ÿå¦‚ä¸‹:yum -y install wgetwget \"https://github.com/chiakge/Linux-NetSpeed/raw/master/tcp.sh\" &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh #debian9 å¤åˆ¶è¿™æ¡ä»£ç å®‰è£…bbråŠ é€Ÿå¦‚ä¸‹:#æ–¹æ³•ä¸€å¦‚ä¸‹ï¼šapt-get install wgetwget -N --no-check-certificate https://bit.ly/2VWUksq &amp;&amp; chmod + hasan.sh &amp;&amp; bash hasan.sh#å¤‡ç”¨ä»£ç apt-get install wgetwget -N --no-check-certificate https://raw.githubusercontent.com/ComeBey/bbr/master/hasan.sh &amp;&amp; chmod + hasan.sh &amp;&amp; bash hasan.sh ç¬¬ä¸‰æ­¥.å®‰è£…v2rayå®˜æ–¹ä»£ç 123bash &lt;(curl -L -s https://install.direct/go.sh) vim /etc/v2ray/config.json #v2rayé…ç½®æ–‡ä»¶ervice v2ray start|stop|status|reload|restart|force-reload æ§åˆ¶ V2Ray çš„è¿è¡Œ ç¬¬å››æ­¥.å®‰è£…acme.shhttps://my.freenom.com/å…è´¹æ³¨å†Œåœ°å€ å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªè¡Œè´­ä¹°ä»˜è´¹åŸŸåè¯ä¹¦ç”Ÿæˆå·¥å…· (æ¸©é¦¨æç¤ºæ‚¨è¿˜å¯ä»¥å¯ç”¨è‡ªåŠ¨å‡çº§acme.shåœ¨rootä¸‹è¾“å…¥ acme.sh upgrade)ä»¥ä¸‹æä¾›3ç§æ–¹æ³•é€‰å…¶ä¸­ä»»æ„ä¸€ç§æ–¹æ³•å®‰è£…è¯ä¹¦å·¥å…· 12345678910curl https://get.acme.sh | sh #å¦‚æç¤ºå®‰è£…å¤±è´¥ è¯·å…ˆå®‰è£…curl è¾“å…¥ yum -y install curl æˆ–è€… apt-get install curlwget -O - https://get.acme.sh | sh #å¦‚æç¤ºå®‰è£…å¤±è´¥è¯·ï¼ˆå…ˆå®‰è£…wgetï¼‰è¾“å…¥ yum -y install wget æˆ–è€… apt-get install wget å·²ç»å®‰è£…äº†å¿½ç•¥git clone https://github.com/acmesh-official/acme.sh.gitcd ./acme.sh./acme.sh --install #å¦‚æç¤ºå®‰è£…å¤±è´¥ å…ˆå®‰è£…git å·²ç»å®‰è£…äº†çš„å¿½ç•¥ è¾“å…¥ yum install git æˆ–è€… apt-get install git è°·æ­Œäº‘ç›´æ¥å®‰è£…ï¼ˆå¦‚æœå…¶ä»–å“ç‰Œvpsä¹Ÿæç¤º install socat firtä¹Ÿè¯·å®‰è£…socatï¼‰centos7ç³»ç»Ÿæ‰§è¡Œ yum install socatdebianç³»ç»Ÿæ‰§è¡Œ apt-get install openssl cron socat curlsocatä¸º80ç«¯å£å¿…é¡»ç”¨çš„ä¾èµ–æ¥ç”³è¯·è¯ä¹¦ç”¨ï¼Œå¦‚æœæ‚¨ä½¿ç”¨443ç«¯å£ç”³è¯·è¯ä¹¦åˆ™æ— éœ€å®‰è£…socat æ‰§è¡Œè¿™æ¡å‘½ä»¤source ~/.bashrc å®‰è£…è¿‡ç¨‹ä¸­å¦‚æœæŠ¥é”™è¯·æŸ¥çœ‹é¢æ¿æç¤ºä¿¡æ¯ï¼Œå°è¯•å®‰è£…acme.shç›¸å…³ä¾èµ–é¡¹ï¼Œæ¯”å¦‚å®‰è£… netcat æˆ– socat å¦‚æœæç¤ºæŠ¥é”™æ‰å®‰è£…ï¼Œä¸æç¤ºæŠ¥é”™å¿½ç•¥acme.sh ä¼šå®‰è£…åˆ° ~/.acme.sh ç›®å½•ä¸‹ ï¼ˆå¯é€šè¿‡rootå‘½ä»¤ä¸‹ è¾“å…¥cd ~/.acme.shæŸ¥çœ‹ï¼Œä¸æ‡‚çš„æœ‹å‹è¯·å¿½ç•¥ç»§ç»­ä¸‹ä¸€æ­¥ï¼‰ ç¬¬äº”æ­¥.acme.sh ç”Ÿæˆè¯ä¹¦ä»¥ä¸‹çš„å‘½ä»¤ä¼šä¸´æ—¶ç›‘å¬ 80 ç«¯å£ï¼Œè¯·ç¡®ä¿æ‰§è¡Œè¯¥å‘½ä»¤å‰ 80 ç«¯å£æ²¡æœ‰å ç”¨ (80æ˜¯httpç«¯å£)ä¸æ¨èä½¿ç”¨80ç«¯å£ç”Ÿæˆè¯ä¹¦ æ¨èä½¿ç”¨443ç«¯å£ç”Ÿæˆè¯ä¹¦centos7ç³»ç»Ÿ æ‰§è¡Œ sudo ~/.acme.sh/acme.sh â€“issue -d åŸŸå â€“standalone -k ec-256Debianç³»ç»Ÿ æ‰§è¡Œ bash ~/.acme.sh/acme.sh â€“issue -d åŸŸå â€“standalone -k ec-256 ä»¥ä¸‹çš„å‘½ä»¤ä¼šä¸´æ—¶ç›‘å¬ 443 ç«¯å£ï¼Œè¯·ç¡®ä¿æ‰§è¡Œè¯¥å‘½ä»¤å‰ 443 ç«¯å£æ²¡æœ‰ä½¿ç”¨ ï¼ˆ443æ˜¯httpsç«¯å£ï¼‰centos7ç³»ç»Ÿ æ‰§è¡Œsudo ~/.acme.sh/acme.sh â€“issue -d åŸŸå â€“alpn -k ec-256 å¦‚æœæ‚¨443åœ¨åå‘ä»£ç†æˆ–è´Ÿè½½å‡è¡¡å™¨åé¢ä½¿ç”¨éæ ‡å‡†ç«¯å£ï¼Œåˆ™å¯ä»¥â€“tlsportç”¨æ¥æŒ‡å®šç«¯å£centos7ç³»ç»Ÿ æ‰§è¡Œsudo ~/.acme.sh/acme.sh â€“issue -d åŸŸå â€“alpn â€“tlsport ç«¯å£ -k ec-256 Debianç³»ç»Ÿ æ‰§è¡Œbash ~/.acme.sh/acme.sh â€“issue -d åŸŸå â€“alpn -k ec-256 å¦‚æœæ‚¨443åœ¨åå‘ä»£ç†æˆ–è´Ÿè½½å‡è¡¡å™¨åé¢ä½¿ç”¨éæ ‡å‡†ç«¯å£ï¼Œåˆ™å¯ä»¥â€“tlsportç”¨æ¥æŒ‡å®šç«¯å£Debianç³»ç»Ÿ æ‰§è¡Œbash ~/.acme.sh/acme.sh â€“issue -d åŸŸå â€“alpn â€“tlsport ç«¯å£ -k ec-256 -k è¡¨ç¤ºå¯†é’¥é•¿åº¦ï¼Œåé¢çš„å€¼å¯ä»¥æ˜¯ ec-256 ã€ec-384ã€2048ã€3072ã€4096ã€8192ï¼Œå¸¦æœ‰ ec è¡¨ç¤ºç”Ÿæˆçš„æ˜¯ ECC è¯ä¹¦ï¼Œæ²¡æœ‰åˆ™æ˜¯ RSA è¯ä¹¦ã€‚åœ¨å®‰å…¨æ€§ä¸Š 256 ä½çš„ ECC è¯ä¹¦ç­‰åŒäº 3072 ä½çš„ RSA è¯ä¹¦ ç¬¬å…­æ­¥.è¯ä¹¦å’Œå¯†é’¥å®‰è£…åˆ°æŒ‡å®šç›®å½•/etc/v2rayç›®å½•ï¼ˆè·¯å¾„å¯ä»¥è‡ªå®šä¹‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é»˜è®¤ï¼‰ 12sudo ~/.acme.sh/acme.sh --installcert -d åŸŸå --fullchainpath /etc/v2ray/v2ray.crt --keypath /etc/v2ray/v2ray.key --ecc # ecc å®‰è£…ä»£ç  sudo ~/.acme.sh/acme.sh --installcert -d åŸŸå --fullchainpath /etc/v2ray/v2ray.crt --keypath /etc/v2ray/v2ray.key #rsa å®‰è£…ä»£ç  ç¬¬ä¸ƒæ­¥.é…ç½®æ–‡ä»¶ config.jsonvim /etc/v2ray/config.json 12345678910111213141516171819202122232425262728293031323334{ \"inbounds\": [ { \"port\": 443, // æœåŠ¡å™¨ç«¯å£ \"protocol\": \"vmess\", \"settings\": { \"clients\": [ { \"id\": \"23ad6b10-8d1a-40f7-8ad0-e3e35cd38297\", \"alterId\": 64 } ] }, \"streamSettings\": { \"network\": \"tcp\", \"security\": \"tls\", // security è¦è®¾ç½®ä¸º tls æ‰ä¼šå¯ç”¨ TLS \"tlsSettings\": { \"certificates\": [ { \"certificateFile\": \"/etc/v2ray/v2ray.crt\", // è¯ä¹¦æ–‡ä»¶ \"keyFile\": \"/etc/v2ray/v2ray.key\" // å¯†é’¥æ–‡ä»¶ } ] } } } ], \"outbounds\": [ { \"protocol\": \"freedom\", \"settings\": {} } ]} service v2ray start|stop|status|reload|restart|force-reload æ§åˆ¶ V2Ray çš„è¿è¡Œ ç¬¬å…«æ­¥.éªŒè¯æ˜¯å¦æ­£å¸¸å¼€å¯TLS https://www.ssllabs.com/ssltest/index.html æ‰‹åŠ¨æ›´æ–°è¯ä¹¦å¯†é’¥ç”Ÿæˆåˆ° /etc/v2ray ï¼ˆæ¸©é¦¨æç¤ºï¼šè§†é¢‘ä¸­æˆ‘è®²é”™äº†acme.shè„šæœ¬æ‰€æœ‰è¯ä¹¦å°†æ¯60å¤©è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡ï¼Œå¤§å®¶æ— éœ€æ‹…å¿ƒè¯ä¹¦åˆ°æœŸæ— æ³•ä½¿ç”¨ï¼‰ecc sudo ~/.acme.sh/acme.sh â€“renew -d åŸŸå â€“force â€“eccrsa sudo ~/.acme.sh/acme.sh â€“renew -d åŸŸå â€“force â€“rsa æ¸©é¦¨æç¤ºï¼šV2Ray çš„ TLS ä¸æ˜¯ä¼ªè£…æˆ–æ··æ·†ï¼Œè¿™æ˜¯çœŸæ­£çš„ TLSã€‚å› æ­¤æ‰éœ€è¦åŸŸåå’Œè¯ä¹¦ã€‚ WS(WebSocket) ä¹Ÿä¸æ˜¯ä¼ªè£… æ³¨æ„ï¼šä½¿ç”¨ Qualys SSL Labsâ€™s SSL Server Test è¦æ±‚ä½¿ç”¨ 443 ç«¯å£ï¼Œæ„å‘³ç€ä½ æœåŠ¡å™¨é…ç½®çš„ inbound.port åº”å½“æ˜¯ 443","link":"/2020/06/10/v2ray+WS+TCP+TLS%E9%85%8D%E7%BD%AE/"},{"title":"v2ray TCPåŸç”Ÿé…ç½®","text":"Linux å®‰è£…è„šæœ¬V2Ray æä¾›äº†ä¸€ä¸ªåœ¨ Linux ä¸­çš„è‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬ã€‚è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹æœ‰æ²¡æœ‰å®‰è£…è¿‡ V2Rayï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œå®Œæ•´çš„å®‰è£…å’Œé…ç½®ï¼›å¦‚æœä¹‹å‰å®‰è£…è¿‡ V2Rayï¼Œåˆ™åªæ›´æ–° V2Ray äºŒè¿›åˆ¶ç¨‹åºè€Œä¸æ›´æ–°é…ç½®ã€‚ ä»¥ä¸‹æŒ‡ä»¤å‡è®¾å·²åœ¨ su ç¯å¢ƒä¸‹ï¼Œå¦‚æœä¸æ˜¯ï¼Œè¯·å…ˆè¿è¡Œ sudo suã€‚ è¿è¡Œä¸‹é¢çš„æŒ‡ä»¤ä¸‹è½½å¹¶å®‰è£… V2Rayã€‚å½“ yum æˆ– apt-get å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œæ­¤è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£… unzip å’Œ daemonã€‚è¿™ä¸¤ä¸ªç»„ä»¶æ˜¯å®‰è£… V2Ray çš„å¿…è¦ç»„ä»¶ã€‚å¦‚æœä½ ä½¿ç”¨çš„ç³»ç»Ÿä¸æ”¯æŒ yum æˆ– apt-getï¼Œè¯·è‡ªè¡Œå®‰è£… unzip å’Œ daemon å®‰è£…v2rayå®˜æ–¹ä»£ç (è€ç‰ˆæœ¬ä»£ç )12sudo -ibash &lt;(curl -L -s https://install.direct/go.sh) è¿è¡Œä¸‹é¢çš„æŒ‡ä»¤ä¸‹è½½å¹¶å®‰è£… V2Rayã€‚å½“ yum æˆ– apt-get å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œæ­¤è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£… unzip å’Œ daemonã€‚è¿™ä¸¤ä¸ªç»„ä»¶æ˜¯å®‰è£… V2Ray çš„å¿…è¦ç»„ä»¶ã€‚å¦‚æœä½ ä½¿ç”¨çš„ç³»ç»Ÿä¸æ”¯æŒ yum æˆ– apt-getï¼Œè¯·è‡ªè¡Œå®‰è£… unzip å’Œ daemon vpsæœåŠ¡å™¨æ—¶é—´åŒæ­¥æœ¬åœ°æ—¶é—´debianç³»ç»Ÿvpsæ—¶é—´åŒæ­¥æœ¬åœ°æ—¶é—´ (å…ˆè¾“å…¥sudo -iåœ¨åŒæ­¥æ—¶é—´ å¿…é¡»åŒæ­¥æ—¶é—´åˆ‡è®°) 1234sudo -i #rootæƒé™sudo -R #æŸ¥çœ‹vpsæœåŠ¡å™¨æ—¶é—´rm -rf /etc/localtime cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime #åŒæ­¥ä¸Šæµ·æ—¶é—´ï¼Œå¦‚æœæ‚¨åœ¨æµ·å¤–è¯·åŒæ­¥æ‰€åœ¨å›½å®¶çš„æ—¶é—´centos7ç³»ç»Ÿvpsæ—¶é—´åŒæ­¥æœ¬åœ°æ—¶é—´ï¼ˆå…ˆè¾“å…¥dudo -iåœ¨åŒæ­¥æ—¶é—´ å¿…é¡»åŒæ­¥æ—¶é—´åˆ‡è®°ï¼‰ 1234sudo -itimedatectl set-local-rtc 1timedatectl set-timezone Asia/Shangha #åŒæ­¥ä¸Šæµ·æ—¶é—´ï¼Œå¦‚æœæ‚¨åœ¨æµ·å¤–è¯·åŒæ­¥æ‰€åœ¨å›½å®¶çš„æ—¶é—´sudo -R #é‡æ–°æŸ¥çœ‹æœ¬åœ°æ—¶é—´ é…ç½®v2rayæœåŠ¡ç«¯rootæƒé™ä¸‹è¾“å…¥vi /etc/v2ray/config.jsoné…ç½®ç•Œé¢é•¿æŒ‰é”®ç›˜ä¸Š Dé”® æ¸…é™¤æ‰€æœ‰å½“å‰é…ç½®ï¼Œåœ¨æŒ‰é”®ç›˜ä¸Š Insé”® æˆ–è€… é”®ç›˜ ié”®æŠŠä¸‹é¢ä»£ç å¤åˆ¶å¹¶ä¸”é»è´´åˆ°æœåŠ¡å™¨ä¸­ï¼Œåœ¨æŒ‰é”®ç›˜ä¸ŠESCé”®ï¼Œè¾“å…¥ ï¼šwq ä¿å­˜é€€å‡º 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960{ \"log\": { \"access\": \"/var/log/v2ray/access.log\", \"error\": \"/var/log/v2ray/error.log\", \"loglevel\": \"warning\" }, \"inbound\": { \"port\": 12345, //è¯·åœ¨é˜²ç«å¢™å¼€å¯å¯¹åº”çš„ç«¯å£ \"protocol\": \"vmess\", //vmessåè®® \"settings\": { \"clients\": [ { \"id\": \"db790014-700d-9b1c-d987-5aed2afa60ae\", //UUid è¿™ä¸ªIDå¯ä»¥é€šè¿‡v2rayå®¢æˆ·ç«¯ç”Ÿæˆnewæ›¿æ¢ \"level\": 1, \"alterId\": 52 //é¢å¤–id } ] } }, \"outbound\": { \"protocol\": \"freedom\", \"settings\": {} }, \"inboundDetour\": [], \"outboundDetour\": [ { \"protocol\": \"blackhole\", \"settings\": {}, \"tag\": \"blocked\" } ], \"routing\": { \"strategy\": \"rules\", \"settings\": { \"rules\": [ { \"type\": \"field\", \"ip\": [ \"0.0.0.0/8\", \"10.0.0.0/8\", \"100.64.0.0/10\", \"127.0.0.0/8\", \"169.254.0.0/16\", \"172.16.0.0/12\", \"192.0.0.0/24\", \"192.0.2.0/24\", \"192.168.0.0/16\", \"198.18.0.0/15\", \"198.51.100.0/24\", \"203.0.113.0/24\", \"::1/128\", \"fc00::/7\", \"fe80::/10\" ], \"outboundTag\": \"blocked\" } ] } }} é˜²ç«å¢™è®¾ç½®ä¸åŒVPSæœåŠ¡å™¨è®¾ç½®ä¸ä¸€æ ·ï¼Œè¯·åœ¨æœåŠ¡å™¨ç½‘é¡µåå°æ·»åŠ é˜²ç«å¢™è§„åˆ™ï¼Œæœ‰äº›æœåŠ¡å™¨åå°æ²¡æœ‰é˜²ç«å¢™è®¾ç½®åˆ™éœ€è¦ä»£ç å¼€å¯å¯åŠ¨é˜²ç«å¢™ï¼š systemctl start firewalldå¼€æœºå¯åŠ¨ï¼šsystemctl enable firewalld.serviceæŸ¥çœ‹çŠ¶æ€ï¼š systemctl status firewalldå¼€å¯12345ç«¯å£ï¼šfirewall-cmd â€“zone=public â€“add-port=12345/tcp â€“permanen å¼€12345tcpç«¯å£ï¼ˆç«¯å£è‡ªå®šä¹‰ä¿æŒå’Œv2rayç«¯å£ä¸€è‡´ï¼‰é‡æ–°åŠ è½½é˜²ç«å¢™ï¼šsudo firewall-cmd â€“reloadé‡æ–°å¯åŠ¨é˜²ç«å¢™ï¼šsystemctl restart firewalld æŸ¥çœ‹v2rayè¿è¡Œç¨‹åº è¾“å…¥ä»£ç service v2ray start å¼€å¯v2ray è¾“å…¥ä»£ç service v2ray stop å…³é—­v2ray è¾“å…¥ä»£ç service v2ray restart é‡æ–°å¯åŠ¨v2ray è¾“å…¥ä»£ç service v2ray status -l æŸ¥çœ‹v2rayè¿è¡ŒçŠ¶æ€","link":"/2020/06/10/v2ray-TCP%E5%8E%9F%E7%94%9F%E9%85%8D%E7%BD%AE/"},{"title":"v2ray mkcpåŸç”Ÿæ­å»º","text":"1.æ›´æ–°æœåŠ¡å™¨1yum update -y #æ¸©é¦¨æç¤ºï¼šæ›´æ–°å¤§æ¦‚å‡ åˆ†é’Ÿè¯·è€å¿ƒç­‰å¾… è®¾ç½®ç¡¬ä»¶æ—¶é’Ÿè°ƒæ•´ä¸ºä¸æœ¬åœ°æ—¶é’Ÿä¸€è‡´ï¼ŒåŒæ­¥ä¸Šæµ·æ—¶é—´ 12timedatectl set-local-rtc 1timedatectl set-timezone Asia/Shanghai 2.å®‰è£…v2rayå®˜æ–¹ä»£ç ï¼ˆè€ç‰ˆæœ¬ä»£ç ï¼‰1bash &lt;(curl -L -s https://install.direct/go.sh) 1vi /etc/v2ray/config.json #é…ç½®æ–‡ä»¶ service v2ray start|stop|status|reload|restart|force-reload æ§åˆ¶ V2Ray çš„è¿è¡Œ 3.v2rayæœåŠ¡ç«¯é…ç½®config.json é…ç½®ä»£ç  {ä¼ªè£…åè®®utpã€srtpã€wechat-videoã€dtlsã€wireguard æˆ–è€… none}è¿™å‡ ä¸ªåˆ†åˆ«å°† mKCP æ•°æ®ä¼ªè£…æˆ BT ä¸‹è½½ã€è§†é¢‘é€šè¯ã€å¾®ä¿¡è§†é¢‘é€šè¯ã€dtlsã€wireguardä»¥åŠä¸è¿›è¡Œä¼ªè£…ã€‚ 123456789101112131415161718192021222324252627282930313233{ \"inbounds\": [ { \"port\": ç«¯å£, //è‡ªå®šä¹‰ç«¯å£ \"protocol\": \"vmess\", \"settings\": { \"clients\": [ { \"id\": \"b831381d-6324-4d53-ad4f-8cda48b30811\", //è‡ªå®šä¹‰UUID \"alterId\": 32 //é¢å¤–IDä¸è¦è®¾ç½®å¤ªå¤§æ¨è4~50 } ] }, \"streamSettings\": { \"network\": \"mkcp\", //æ­¤å¤„çš„ mkcp ä¹Ÿå¯å†™æˆ kcpï¼Œä¸¤ç§å†™æ³•æ˜¯èµ·åŒæ ·çš„æ•ˆæœ \"kcpSettings\": { \"uplinkCapacity\": 5, \"downlinkCapacity\": 100, \"congestion\": true, \"header\": { \"type\": \"è¿™é‡Œæ›¿æ¢ä¼ªè£…\" //ä¼ªè£…åè®®utpã€srtpã€wechat-videoã€dtlsã€wireguard æˆ–è€… none } } } } ], \"outbounds\": [ { \"protocol\": \"freedom\", \"settings\": {} } ]} 4.å®‰è£…bbræ¸©é¦¨æç¤ºï¼šå¦‚æœæ²¡æœ‰å®‰è£…wgetè¯·æ‰§è¡Œ yum install wget 12yum -y install wgetwget \"https://github.com/chiakge/Linux-NetSpeed/raw/master/tcp.sh\" &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh","link":"/2020/06/07/v2ray-mkcp%E5%8E%9F%E7%94%9F%E6%90%AD%E5%BB%BA/"},{"title":"v2rayä¸‹è½½å®‰è£…","text":"v2rayä¸»è¦ç‰¹å¾ å¤šå…¥å£å¤šå‡ºå£: ä¸€ä¸ª V2Ray è¿›ç¨‹å¯å¹¶å‘æ”¯æŒå¤šä¸ªå…¥ç«™å’Œå‡ºç«™åè®®ï¼Œæ¯ä¸ªåè®®å¯ç‹¬ç«‹å·¥ä½œã€‚ å¯å®šåˆ¶åŒ–è·¯ç”±: å…¥ç«™æµé‡å¯æŒ‰é…ç½®ç”±ä¸åŒçš„å‡ºå£å‘å‡ºã€‚è½»æ¾å®ç°æŒ‰åŒºåŸŸæˆ–æŒ‰åŸŸååˆ†æµï¼Œä»¥è¾¾åˆ°æœ€ä¼˜çš„ç½‘ç»œæ€§èƒ½ã€‚ å¤šåè®®æ”¯æŒ: V2Ray å¯åŒæ—¶å¼€å¯å¤šä¸ªåè®®æ”¯æŒï¼ŒåŒ…æ‹¬ Socksã€HTTPã€Shadowsocksã€VMess ç­‰ã€‚æ¯ä¸ªåè®®å¯å•ç‹¬è®¾ç½®â€“ ä¼ è¾“è½½ ä½“ï¼Œæ¯”å¦‚ TCPã€mKCPã€WebSocket ç­‰ã€‚ éšè”½æ€§: V2Ray çš„èŠ‚ç‚¹å¯ä»¥ä¼ªè£…æˆæ­£å¸¸çš„ç½‘ç«™ï¼ˆHTTPSï¼‰ï¼Œå°†å…¶æµé‡ä¸æ­£å¸¸çš„ç½‘é¡µæµé‡æ··æ·†ï¼Œä»¥é¿å¼€ç¬¬ä¸‰æ–¹å¹²æ‰°ã€‚ åå‘ä»£ç†: é€šç”¨çš„åå‘ä»£ç†æ”¯æŒï¼Œå¯å®ç°å†…ç½‘ç©¿é€åŠŸèƒ½ã€‚ å¤šå¹³å°æ”¯æŒ: åŸç”Ÿæ”¯æŒæ‰€æœ‰å¸¸è§å¹³å°ï¼Œå¦‚ Windowsã€Mac OSã€Linuxï¼Œå¹¶å·²æœ‰ç¬¬ä¸‰æ–¹æ”¯æŒç§»åŠ¨å¹³å° v2rayåœ¨ä»¥ä¸‹å¹³å°ä¸­å¯ä½¿ç”¨ Windows 7 åŠä¹‹åç‰ˆæœ¬ï¼ˆx86 / amd64ï¼‰ï¼› Mac OS X 10.10 Yosemite åŠä¹‹åç‰ˆæœ¬ï¼ˆamd64ï¼‰ï¼› Linux 2.6.23 åŠä¹‹åç‰ˆæœ¬ï¼ˆx86 / amd64 / arm / arm64 / mips64 / mipsï¼‰ï¼›åŒ…æ‹¬ä½†ä¸é™äº Debian 7 / 8ã€Ubuntu 12.04 / 14.04 åŠåç»­ç‰ˆæœ¬ã€CentOS 6 / 7ã€Arch Linuxï¼› FreeBSD (x86 / amd64)ï¼› OpenBSD (x86 / amd64)ï¼› Dragonfly BSD (amd64)ï¼› IOS/å®‰å“/è½¯è·¯ç”±ç­‰ ä¸‹è½½ v2ray Github Release: github.com/v2ray/v2ray-core Github åˆ†æµ: github.com/v2ray/dist Homebrew: github.com/v2ray/homebrew-v2ray Arch Linux: packages/community/x86_64/v2ray Snapcraft: snapcraft.io/v2ray-core å‹ç¼©åŒ…å‡ä¸º zip æ ¼å¼ï¼Œæ‰¾åˆ°å¯¹åº”å¹³å°çš„å‹ç¼©åŒ…ï¼Œä¸‹è½½è§£å‹å³å¯ä½¿ç”¨ã€‚ éªŒè¯å®‰è£…åŒ… V2Ray æä¾›ä¸¤ç§éªŒè¯æ–¹å¼ï¼š å®‰è£…åŒ… zip æ–‡ä»¶çš„ SHA1 / SHA256 æ‘˜è¦ï¼Œåœ¨æ¯ä¸ªå®‰è£…åŒ…å¯¹åº”çš„.dgstæ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°ã€‚ å¯è¿è¡Œç¨‹åºï¼ˆv2ray æˆ– v2ray.exeï¼‰çš„ gpg ç­¾åï¼Œæ–‡ä»¶ä½äºå®‰è£…åŒ…ä¸­çš„ v2ray.sig æˆ– v2ray.exe.sigã€‚ç­¾åå…¬é’¥å¯ä»¥åœ¨ä»£ç åº“ä¸­æ‰¾åˆ°ã€‚ Windows å’Œ Mac OS å®‰è£…æ–¹å¼ é€šè¿‡ä¸Šè¿°æ–¹å¼ä¸‹è½½çš„å‹ç¼©åŒ…ï¼Œè§£å‹ä¹‹åå¯çœ‹åˆ° v2ray æˆ– v2ray.exeã€‚ç›´æ¥è¿è¡Œå³å¯ã€‚ Linux å‘è¡Œç‰ˆä»“åº“ éƒ¨åˆ†å‘è¡Œç‰ˆå¯èƒ½å·²æ”¶å½• V2Ray åˆ°å…¶å®˜æ–¹ç»´æŠ¤å’Œæ”¯æŒçš„è½¯ä»¶ä»“åº“/è½¯ä»¶æºä¸­ã€‚ å‡ºäºå…¼å®¹æ€§ã€é€‚é…æ€§è€ƒè™‘ï¼Œæ‚¨å¯ä»¥è€ƒè™‘é€‰ç”¨ç”±æ‚¨å‘è¡Œç‰ˆå¼€å‘å›¢é˜Ÿç»´æŠ¤çš„è½¯ä»¶åŒ…æˆ–ä¸‹æ–‡çš„å®‰è£…è„šæœ¬äº¦æˆ–åŸºäºå·²å‘å¸ƒçš„äºŒè¿›åˆ¶æ–‡ä»¶æˆ–æºä»£&emsp;ç å®‰è£…ã€‚ Linux å®‰è£…è„šæœ¬ V2Ray æä¾›äº†ä¸€ä¸ªåœ¨ Linux ä¸­çš„è‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬ã€‚è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹æœ‰æ²¡æœ‰å®‰è£…è¿‡ V2Rayï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œå®Œæ•´çš„å®‰è£…å’Œé… ç½®ï¼›å¦‚æœä¹‹å‰å®‰è£…è¿‡ V2Rayï¼Œåˆ™åªæ›´æ–° V2Ray äºŒè¿›åˆ¶ç¨‹åºè€Œä¸æ›´æ–°é…ç½®ã€‚ ä»¥ä¸‹æŒ‡ä»¤å‡è®¾å·²åœ¨ su ç¯å¢ƒä¸‹ï¼Œå¦‚æœä¸æ˜¯ï¼Œè¯·å…ˆè¿è¡Œ sudo suã€‚ è¿è¡Œä¸‹é¢çš„æŒ‡ä»¤ä¸‹è½½å¹¶å®‰è£… V2Rayã€‚å½“ yum æˆ– apt-get å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œæ­¤è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£… unzip å’Œ daemonã€‚ è¿™ä¸¤ä¸ªç»„ä»¶æ˜¯å®‰ è£… V2Ray çš„å¿…è¦ç»„ä»¶ã€‚å¦‚æœä½ ä½¿ç”¨çš„ç³»ç»Ÿä¸æ”¯æŒ yum æˆ– apt-getï¼Œè¯·è‡ªè¡Œå®‰è£… unzip å’Œ daemon 1bash &lt;(curl -L -s https://install.direct/go.sh) æ­¤è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…ä»¥ä¸‹æ–‡ä»¶ï¼š 12345/usr/bin/v2ray/v2rayï¼šV2Ray ç¨‹åºï¼›/usr/bin/v2ray/v2ctlï¼šV2Ray å·¥å…·ï¼›/etc/v2ray/config.jsonï¼šé…ç½®æ–‡ä»¶ï¼›/usr/bin/v2ray/geoip.datï¼šIP æ•°æ®æ–‡ä»¶/usr/bin/v2ray/geosite.datï¼šåŸŸåæ•°æ®æ–‡ä»¶ æ­¤è„šæœ¬ä¼šé…ç½®è‡ªåŠ¨è¿è¡Œè„šæœ¬ã€‚è‡ªåŠ¨è¿è¡Œè„šæœ¬ä¼šåœ¨ç³»ç»Ÿé‡å¯ä¹‹åï¼Œè‡ªåŠ¨è¿è¡Œ V2Rayã€‚ç›®å‰è‡ªåŠ¨è¿è¡Œè„šæœ¬åªæ”¯æŒå¸¦æœ‰ Systemd çš„ç³» ç»Ÿï¼Œä»¥åŠ Debian / Ubuntu å…¨ç³»åˆ—ã€‚ è¿è¡Œè„šæœ¬ä½äºç³»ç»Ÿçš„ä»¥ä¸‹ä½ç½®ï¼š 12/etc/systemd/system/v2ray.service: Systemd/etc/init.d/v2ray: SysV è„šæœ¬è¿è¡Œå®Œæˆåï¼Œä½ éœ€è¦ï¼š è¾“å…¥vi/etc/v2ray/config.jsonæ–‡ä»¶æ¥é…ç½®ä½ éœ€è¦çš„ä»£ç†æ–¹å¼ï¼› è¿è¡Œ service v2ray start æ¥å¯åŠ¨ V2Ray è¿›ç¨‹ï¼› ä¹‹åå¯ä»¥ä½¿ç”¨ service v2ray start|stop|status|reload|restart|force-reload æ§åˆ¶ V2Ray çš„è¿è¡Œã€‚ go.sh å‚æ•° go.sh æ”¯æŒå¦‚ä¸‹å‚æ•°ï¼Œå¯åœ¨æ‰‹åŠ¨å®‰è£…æ—¶æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ï¼š -p æˆ– â€“proxy: ä½¿ç”¨ä»£ç†æœåŠ¡å™¨æ¥ä¸‹è½½ V2Ray çš„æ–‡ä»¶ï¼Œæ ¼å¼ä¸ curl æ¥å—çš„å‚æ•°ä¸€è‡´ï¼Œæ¯”å¦‚ â€œsocks5://127.0.0.1:1080â€ æˆ– â€œhttp://127.0.0.1:3128&quot;ã€‚ -f æˆ– â€“force: å¼ºåˆ¶å®‰è£…ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœå½“å‰ç³»ç»Ÿä¸­å·²æœ‰æœ€æ–°ç‰ˆæœ¬çš„ V2Rayï¼Œgo.sh ä¼šåœ¨æ£€æµ‹ä¹‹åå°±é€€å‡ºã€‚å¦‚æœéœ€è¦å¼ºåˆ¶ é‡è£…ä¸€éï¼Œåˆ™éœ€è¦æŒ‡å®šè¯¥å‚æ•°ã€‚ version: æŒ‡å®šéœ€è¦å®‰è£…çš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚ â€œv1.13â€ã€‚é»˜è®¤å€¼ä¸ºæœ€æ–°ç‰ˆæœ¬ã€‚ local: ä½¿ç”¨ä¸€ä¸ªæœ¬åœ°æ–‡ä»¶è¿›è¡Œå®‰è£…ã€‚å¦‚æœä½ å·²ç»ä¸‹è½½äº†æŸä¸ªç‰ˆæœ¬çš„ V2Rayï¼Œåˆ™å¯é€šè¿‡è¿™ä¸ªå‚æ•°æŒ‡å®šä¸€ä¸ªæ–‡ä»¶è·¯å¾„æ¥è¿›è¡Œå®‰è£…ã€‚ ç¤ºä¾‹å¦‚ä¸‹ï¼š ä½¿ç”¨åœ°å€ä¸º 127.0.0.1:1080 çš„ SOCKS ä»£ç†ä¸‹è½½å¹¶å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼š./go.sh -p socks5://127.0.0.1:1080 å®‰è£…æœ¬åœ°çš„ v1.13 ç‰ˆæœ¬ï¼š./go.sh â€“version v1.13 â€“local /path/to/v2ray.zip V2Ray æä¾›äº†ä¸¤ä¸ªé¢„ç¼–è¯‘çš„ Docker imageï¼š v2ray/official: åŒ…å«æœ€æ–°å‘å¸ƒçš„ç‰ˆæœ¬ï¼Œæ¯å‘¨è·Ÿéšæ–°ç‰ˆæœ¬æ›´æ–°ï¼› v2ray/dev: åŒ…å«ç”±æœ€æ–°çš„ä»£ç ç¼–è¯‘è€Œæˆçš„ç¨‹åºæ–‡ä»¶ï¼Œéšä»£ç åº“æ›´æ–°ï¼› ä¸¤ä¸ª image çš„æ–‡ä»¶ç»“æ„ç›¸åŒï¼š 12345/etc/v2ray/config.json #é…ç½®æ–‡ä»¶/usr/bin/v2ray/v2ray # V2Ray ä¸»ç¨‹åº/usr/bin/v2ray/v2ctl #V2Ray è¾…åŠ©å·¥å…·/usr/bin/v2ray/geoip.dat # IP æ•°æ®æ–‡ä»¶/usr/bin/v2ray/geosite.dat # åŸŸåæ•°æ®æ–‡ä»¶","link":"/2020/06/09/v2ray%E5%AE%98%E6%96%B9%E8%84%9A%E6%9C%AC%E9%85%8D%E7%BD%AE/"},{"title":"v2rayå®šæ—¶é‡å¯æœåŠ¡crontab","text":"1.æœåŠ¡å™¨åŒæ­¥æœ¬åœ°æ—¶é—´ä»¥ä¸‹centos7åŒæ­¥æ—¶é—´é€‰æ‹©å…¶ä¸­ä¸€ç§æ–¹æ³•ä¸€.æ ¡å‡†æ—¶é—´åŒæ­¥æœ¬åœ°æ—¶é—´ date -R æŸ¥çœ‹vpsæ—¶é—´ 1234sudo -i #rootæƒé™yum -y install ntp ntpdate #å®‰è£…ntpdateå·¥å…·ntpdate cn.pool.ntp.org #è®¾ç½®ç³»ç»Ÿæ—¶é—´ä¸æœ¬åœ°ç½‘ç»œæ—¶é—´åŒæ­¥hwclock --systohc #å°†ç³»ç»Ÿæ—¶é—´å†™å…¥ç¡¬ä»¶æ—¶é—´ æ–¹æ³•äºŒ.æ ¡å‡†æ—¶é—´åŒæ­¥ date -R æŸ¥çœ‹vpsæ—¶é—´ 123456yum install ntp //å®‰è£…ntpæœåŠ¡systemctl enable ntpd //å¼€æœºå¯åŠ¨æœåŠ¡systemctl start ntpd //å¯åŠ¨æœåŠ¡timedatectl set-timezone Asia/Shanghai //æ›´æ”¹æ—¶åŒºtimedatectl set-ntp yes //å¯ç”¨ntpåŒæ­¥ntpq -p //åŒæ­¥æ—¶é—´ æ–¹æ³•ä¸‰.æ ¡å‡†æ—¶é—´åŒæ­¥ä¸Šæµ·æ—¶é—´æ—¶åŒº date -R æŸ¥çœ‹vpsæ—¶é—´ 1234date -R //æŸ¥çœ‹æœåŠ¡å™¨æ—¶é—´timedatectl set-local-rtc 1timedatectl set-timezone Asia/Shanghaidate -R //æŸ¥çœ‹æœåŠ¡å™¨æ—¶é—´ Debianç³»ç»ŸåŒæ­¥æ—¶é—´å¦‚ä¸‹ï¼š 1234date -R //æŸ¥çœ‹æœåŠ¡å™¨æ—¶é—´rm -rf /etc/localtimecp /usr/share/zoneinfo/Asia/Shanghai /etc/localtimedate -R //æŸ¥çœ‹æœåŠ¡å™¨æ—¶é—´ 2.crontabæœåŠ¡1.å¼€å¯crontab,å¦‚æœæç¤ºé”™è¯¯éœ€è¦å®‰è£…crontab,åˆ™è¾“å…¥ä»£ç æ— ä»»ä½•æç¤ºè¡¨ç¤ºå·²ç»å¼€å¯ 1/sbin/service crond start 2.è¾“å…¥æç¤ºç»¿è‰²è¿”å›å€¼è¯æ˜å·²ç»å®‰è£…å¹¶ä¸”å¼€å¯ 1/sbin/service crond status #è¾“å…¥æç¤ºç»¿è‰²è¿”å›å€¼è¯æ˜å·²ç»å®‰è£…å¹¶ä¸”å¼€å¯ 3.å®‰è£…crontabï¼š(æœ‰äº›ç³»ç»Ÿæ²¡æœ‰å®‰è£…crontabåˆ™éœ€è¦å®‰è£…,å¦‚æœç³»ç»Ÿæœ¬èº«å·²ç»å®‰è£…äº†è¯·è·³è¿‡è¿™ä¸€æ­¥éª¤) 1yum install crontabs #å®‰è£…crontab æœåŠ¡æ“ä½œè¯´æ˜ï¼š12345/sbin/service crond start #å¯åŠ¨æœåŠ¡/sbin/service crond stop #å…³é—­æœåŠ¡/sbin/service crond restart #é‡å¯æœåŠ¡/sbin/service crond reload #é‡æ–°è½½å…¥é…ç½®/sbin/service crond status #æŸ¥çœ‹crondæ˜¯å¦æ­£å¸¸è¿è¡Œ 1vim /etc/v2ray/config.json #è¿›å…¥é…ç½®æ–‡ä»¶ä¿¡æ¯ 123456789101112131415161718192021222324252627{ \"log\": { \"loglevel\": \"warning\", //å¯ç”¨infoå’Œdebugå’Œerrorå’Œwarningå’Œnoneç­‰5ç§æ¨¡å¼ \"access\": \"/var/log/v2ray/access.log\", // è¿™æ˜¯è·¯å¾„ \"error\": \"/var/log/v2ray/error.log\" // è¿™æ˜¯è·¯å¾„ }, \"inbounds\": [ { \"port\": 16823, //ç«¯å£è‡ªå®šä¹‰ \"protocol\": \"vmess\", \"settings\": { \"clients\": [ { \"id\": \"b831381d-6324-4d53-ad4f-8cda48b30811\", //uuidè‡ªå®šä¹‰ \"alterId\": 64 //é¢å¤–IDè‡ªå®šä¹‰ } ] } } ], \"outbounds\": [ { \"protocol\": \"freedom\", \"settings\": {} } ]} 5.crontab -eè¾“å…¥ié”®,å¤åˆ¶ä»¥ä¸‹ä»£ç ctrl+c,é»è´´ctrl+vç„¶åè¾“å…¥shift+:åœ¨è¾“å…¥wqä¿å­˜å¹¶ä¸”é€€å‡ºåŠ å…¥è®¡åˆ’ä»»åŠ¡,å¯è‡ªå®šä¹‰æ·»åŠ éœ€è¦çš„åŠŸèƒ½ 12345*/1 * * * * date &gt;&gt; ~/a.log 2&gt;&amp;1*/1 * * * * sudo journalctl -b -u v2ray &gt;&gt; ~/a.log 2&gt;&amp;1*/1 * * * * cat /var/log/v2ray/access.log &gt;&gt; ~/c.log 2&gt;&amp;1*/1 * * * * cat /var/log/v2ray/error.log &gt;&gt; ~/b.log 2&gt;&amp;1*/1 * * * * /bin/systemctl restart v2ray.service &gt;&gt; ~/a.log 2&gt;&amp;1 ä»¥ä¸Šè„šæœ¬å¯è‡ªè¡Œç¼–å†™å¤šåŠŸèƒ½è„šæœ¬123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140crontab -l #æŸ¥çœ‹å·²ç»æ·»åŠ çš„crontabä»»åŠ¡tailæˆ–è€…(cat) ~/a.logæˆ–è€…~/b.log #æŸ¥çœ‹æœ€è¿‘10æ¡æ—¥å¿—more /root/a.logæˆ–è€…/b.log #æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—tail -f /var/log/cron #æŸ¥çœ‹æ­£å¸¸è¿è¡Œçš„crontabè®¡åˆ’ä»»åŠ¡#éªŒè¯crontabè®¡åˆ’ä»»åŠ¡v2rayè¿è¡ŒçŠ¶æ€#å¯ä»¥æ ¹æ®ç‰¹å®šå­—æ®µè¿‡æ»¤è¾“å‡ºjournalctl -b #æ˜¾ç¤ºæœ¬æ¬¡å¯åŠ¨åçš„æ‰€æœ‰æ—¥å¿—ï¼šjournalctl -f #æŸ¥çœ‹æ­£åœ¨è¾“å‡ºçš„è¿›ç¨‹sudo journalctl -b -u v2ray #æŸ¥çœ‹brookçŠ¶æ€man 1 journalctl #æŸ¥çœ‹æ‰€æœ‰ journalctlä½¿ç”¨æ–¹æ³•rm -rf ~/a.log æˆ–è€…~/b.log #æ—¥å¿—æ¸…é™¤æ–¹æ³•#å®ä¾‹1ï¼šæ¯1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡commandå‘½ä»¤ï¼š* * * * * command å®ä¾‹2ï¼šæ¯å°æ—¶çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œå‘½ä»¤ï¼š3,15 * * * * command #å®ä¾‹3ï¼šåœ¨ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œå‘½ä»¤ï¼š3,15 8-11 * * * command #å®ä¾‹4ï¼šæ¯éš”ä¸¤å¤©çš„ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œå‘½ä»¤ï¼š3,15 8-11 */2 * * command #å®ä¾‹5ï¼šæ¯ä¸ªæ˜ŸæœŸä¸€çš„ä¸Šåˆ8ç‚¹åˆ°11ç‚¹çš„ç¬¬3å’Œç¬¬15åˆ†é’Ÿæ‰§è¡Œå‘½ä»¤ï¼š3,15 8-11 * * 1 command #å®ä¾‹6ï¼šæ¯æ™šçš„21:30é‡å¯smb å‘½ä»¤ï¼š30 21 * * * /etc/init.d/smb restart #å®ä¾‹7ï¼šæ¯æœˆ1ã€10ã€22æ—¥çš„4 : 45é‡å¯smb å‘½ä»¤ï¼š45 4 1,10,22 * * /etc/init.d/smb restart #å®ä¾‹8ï¼šæ¯å‘¨å…­ã€å‘¨æ—¥çš„1 : 10é‡å¯smbå‘½ä»¤ï¼š10 1 * * 6,0 /etc/init.d/smb restart #å®ä¾‹9ï¼šæ¯å¤©18 : 00è‡³23 : 00ä¹‹é—´æ¯éš”30åˆ†é’Ÿé‡å¯smb å‘½ä»¤ï¼š0,30 18-23 * * * /etc/init.d/smb restart #å®ä¾‹10ï¼šæ¯æ˜ŸæœŸå…­çš„æ™šä¸Š11 : 00 pmé‡å¯smb å‘½ä»¤ï¼š0 23 * * 6 /etc/init.d/smb restart #å®ä¾‹11ï¼šæ¯ä¸€å°æ—¶é‡å¯smb å‘½ä»¤ï¼š* */1 * * * /etc/init.d/smb restart #å®ä¾‹12ï¼šæ™šä¸Š11ç‚¹åˆ°æ—©ä¸Š7ç‚¹ä¹‹é—´ï¼Œæ¯éš”ä¸€å°æ—¶é‡å¯smb å‘½ä»¤ï¼š* 23-7/1 * * * /etc/init.d/smb restart #å®ä¾‹13ï¼šæ¯æœˆçš„4å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰çš„11ç‚¹é‡å¯smb å‘½ä»¤ï¼š0 11 4 * mon-wed /etc/init.d/smb restart å®ä¾‹14ï¼šä¸€æœˆä¸€å·çš„4ç‚¹é‡å¯smb å‘½ä»¤ï¼š0 4 1 jan * /etc/init.d/smb restart #å®ä¾‹14ï¼šæ¯å°æ—¶æ‰§è¡Œ/etc/cron.hourlyç›®å½•å†…çš„è„šæœ¬å‘½ä»¤ï¼š01 * * * * root run-parts /etc/cron.hourly","link":"/2020/06/16/v2ray%E5%AE%9A%E6%97%B6%E9%87%8D%E5%90%AF%E6%9C%8D%E5%8A%A1crontab/"}],"tags":[{"name":"Brook","slug":"Brook","link":"/tags/Brook/"},{"name":"ç¿»å¢™","slug":"ç¿»å¢™","link":"/tags/%E7%BF%BB%E5%A2%99/"},{"name":"å®šæ—¶é‡å¯","slug":"å®šæ—¶é‡å¯","link":"/tags/%E5%AE%9A%E6%97%B6%E9%87%8D%E5%90%AF/"},{"name":"brook","slug":"brook","link":"/tags/brook/"},{"name":"SSR","slug":"SSR","link":"/tags/SSR/"},{"name":"SS","slug":"SS","link":"/tags/SS/"},{"name":"ç§‘å­¦ä¸Šç½‘","slug":"ç§‘å­¦ä¸Šç½‘","link":"/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"},{"name":"v2ray","slug":"v2ray","link":"/tags/v2ray/"},{"name":"hexo","slug":"hexo","link":"/tags/hexo/"}],"categories":[{"name":"ç§‘å­¦ä¸Šç½‘","slug":"ç§‘å­¦ä¸Šç½‘","link":"/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"},{"name":"SS","slug":"ç§‘å­¦ä¸Šç½‘/SS","link":"/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/SS/"},{"name":"Brook","slug":"ç§‘å­¦ä¸Šç½‘/Brook","link":"/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/Brook/"},{"name":"v2ray","slug":"ç§‘å­¦ä¸Šç½‘/v2ray","link":"/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/v2ray/"},{"name":"Hexo","slug":"Hexo","link":"/categories/Hexo/"},{"name":"SSR","slug":"ç§‘å­¦ä¸Šç½‘/SSR","link":"/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/SSR/"}]}