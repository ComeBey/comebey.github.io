<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>comebey</title>
  
  
  <link href="/en/atom.xml" rel="self"/>
  
  <link href="https://www.rootfw.com/"/>
  <updated>2020-09-20T12:27:40.919Z</updated>
  <id>https://www.rootfw.com/</id>
  
  <author>
    <name>comebey</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>v2ray流量中转</title>
    <link href="https://www.rootfw.com/posts/f4a1c961.html"/>
    <id>https://www.rootfw.com/posts/f4a1c961.html</id>
    <published>2020-09-17T09:23:54.956Z</published>
    <updated>2020-09-20T12:27:40.919Z</updated>
    
    <content type="html"><![CDATA[<p>When we are surfing the Internet scientifically, sometimes because the server-to-you local delay is too high, it will affect our use. When all the server-side configurations meet the needs (of course, including line problems), constantly too high will definitely cause illness There are many ways to transfer servers. Today we use v2ray, which will directly cause data transmission and affect the access rate, at least: the network speed is very slow, replace the package, then how can we reduce the delay? How to improve it? We can solve this problem by transferring traffic. Let’s configure a very simple transfer. Warm reminder: Today I will only discuss pure transfer, not server lines.</p><p>! <a href="Https://cdn.jsdelivr.net/gh/ComeBey/imghosting/comebey-pic/20200708074625805.png"></a><br>I drew a topology diagram to briefly explain:<br><code>1. Suppose that when the PC accesses server B, the delay is 60ms + 80ms = 140ms or higher, and server B is a middle-upper configuration server with a large traffic G port. Assuming that the peak delay is not above 140 140~560/ms, even if your server is configured well and has a large traffic G port, because the continuity is too high. If the vps line itself is not optimized, the disease may be extremely high and the packets may be dropped. Once the packet is disconnected, it will directly affect the normal access data and network speed.</code><br>&lt;! -More-&gt;</p><p><code>2. Assuming that when the PC transfers to the server via server A, the delay is within 30 milliseconds. This server is not well configured, and is accessing the transferred server through the transfer server (finally accesses the external router server, assuming that the server is configured well). Server B is in 35ms delay, a total of 65ms, compared to the above 140ms-65ms = 75ms, which reduces the 75ms continuous, this kind of transfer is only possible, and the optimization effect of the BBR kernel is very very obvious.</code></p><h3 id="Dokodemo-door"><a href="#Dokodemo-door" class="headerlink" title="Dokodemo door"></a>Dokodemo door</h3><p>It is a predetermined data protocol, it can monitor the port, and the data entering this port is sent to the port of the designated server, so as to achieve the effect of port mapping and traffic forwarding.</p><p>###Local environment<br>One <code>vultr</code> server centos7 (of course you can also use other versions of servers)<br>Click this link to register and pay via Alipay with a minimum consumption of 10 US dollars = around 70 RMB, you can get (100 US dollars valid for 30 days use) <a href="https://www.vultr.com/?ref=8623585">https://www.vultr.com/?ref=8623585</a></p><p>The telecommunications network is 100 megabytes, the PC computer is about 30 meters away from the router, and the WiFi on both sides of the subnet uses 5G transmission<br>In the actual test vultr, I chose the lowest configuration in Japan that is 5 US dollars a month, and the delay is around 200~230 or even higher. The dropped packets within one minute are very, very alternate (I only say roughly)</p><p>###Install v2ray<br>Of course, you can also use the new version of the v2ray script or other circumvention services to install, Google search by yourself, this script is the old version of v2ray, please configure the relevant config.json` parameters after installation, and ensure that you can successfully access the external network.<br>Install v2ray official script<br>``<br>bash &lt;(curl -L -s <a href="https://install.direct/go.sh">https://install.direct/go.sh</a>)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">Configure config.json</span><br><span class="line">json</span><br><span class="line">&#123;</span><br><span class="line">  &quot;Inbound&quot;: [&#123;</span><br><span class="line">    &quot;Port&quot;: 10073, &#x2F;&#x2F;port</span><br><span class="line">    &quot;Protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">    &quot;Settings&quot;: &#123;</span><br><span class="line">      &quot;client&quot;:[</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;Id&quot;: &quot;e61f55bf-8450-4fa6-884e-4b46b64122c4&quot;, &#x2F;&#x2F; UUid</span><br><span class="line">          &quot;Level 1,</span><br><span class="line">          &quot;AlterId&quot;: 64</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;],</span><br><span class="line">  &quot;Outbound&quot;: [&#123;</span><br><span class="line">    &quot;Protocol&quot;: &quot;free&quot;,</span><br><span class="line">    &quot;Settings&quot;:&#123;&#125;</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    &quot;Protocol&quot;: &quot;blackhole&quot;,</span><br><span class="line">    &quot;Settings&quot;: &#123;&#125;,</span><br><span class="line">    &quot;Tag&quot;: &quot;Blocked&quot;</span><br><span class="line">  &#125;],</span><br><span class="line">  &quot;routing&quot;:&#123;</span><br><span class="line">    &quot;rule&quot;:[</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;Type&quot;: &quot;field&quot;,</span><br><span class="line">        &quot;Ip&quot;: [&quot; geoip: private&quot;],</span><br><span class="line">        &quot;OutboundTag&quot;: &quot;Blocked&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Open <code>port</code> in the v2ray configuration information (if it is Google Cloud, you can also add firewall rules)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone &#x3D; public --add-port&#x3D;port&#x2F;protocol --permanent</span><br><span class="line">Firewall cmd-reload</span><br></pre></td></tr></table></figure><p>Then see if you can access the Internet normally, and continue to look down if it makes sense</p><p>###Configure Dokodemo door<br>Prepare another server server Google Cloud or other brand servers, and also install the official v2ray script (please do not use one-click installation scripts other than the official script)</p><p>``<br>bash &lt;(curl -L -s <a href="https://install.direct/go.sh">https://install.direct/go.sh</a>)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Reminder: you can use &#96;vi or vim or nano&#96; to edit</span><br><span class="line">json</span><br><span class="line">vi &#x2F;etc&#x2F;v2ray&#x2F;config.json</span><br></pre></td></tr></table></figure><p>Delete all the initial configuration information, long press the keyboard <code>D key</code> to clear it, press the keyboard <code>I</code> until the prompt <code>inster</code> (press once if there is no prompt), and then paste the code below<br><strong>method one</strong><br>json<br>{<br>  “Inbound”: [{<br>  “Port”: 23213, // your inbound port of the rotor network<br>  “Listen”: “0.0.0.0”,<br>  “Protocol”: “dokodemo-door”,<br>  “Settings”: {<br>    “Address”:”111.222.333.444”,//You got the external router ip inside the information<br>    “Port”: 32334, //The port of the overseas router inside the information you obtained<br>    “Network”: “tcp, udp”<br>  },<br>  “Label”: “”,<br>  “Sniffing”: {<br>    “Enabled”: Yes,<br>    “DestOverride”:[<br>      “Http”,<br>      “Tls”<br>    ]<br>  }<br>}],</p><p>  “Outbound”: [{<br>    “Protocol”: “free”,<br>    “Settings”:{}<br>  }, {<br>    “Protocol”: “blackhole”,<br>    “Settings”: {},<br>    “Tag”: “Blocked”<br>  }],<br>  “routing”:{<br>    “rule”:[<br>      {<br>        “Type”: “field”,<br>        “Ip”: [“ geoip: private”],<br>        “OutboundTag”: “Blocked”<br>      }<br>    ]<br>  }<br>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">**Method Two**</span><br><span class="line">json</span><br><span class="line">&#123;</span><br><span class="line">  &quot;Log&quot;: &#123;</span><br><span class="line">    &quot;Access&quot;: &quot;&#x2F;var&#x2F;log&#x2F;v2ray&#x2F;access.log&quot;,</span><br><span class="line">    &quot;Error&quot;: &quot;&#x2F;var&#x2F;log&#x2F;v2ray&#x2F;error.log&quot;,</span><br><span class="line">    &quot;Loglevel&quot;: &quot;Warning&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;Inbound&quot;:[</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;Port&quot;: ###, &#x2F;&#x2F;port</span><br><span class="line">      &quot;Protocol&quot;: &quot;vmess&quot;,&#x2F;&#x2F;The inbound protocol is VMess</span><br><span class="line">      &quot;Settings&quot;: &#123;</span><br><span class="line">        &quot;client&quot;:[</span><br><span class="line">          &#123;</span><br><span class="line">            &quot;Id&quot;: &quot;#######&quot;, &#x2F;&#x2F; UUID</span><br><span class="line">            &quot;Level&quot;: 1,</span><br><span class="line">            &quot;AlterId&quot;: 64</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;Outbound&quot;:[</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;Protocol&quot;: &quot;vmess&quot;,</span><br><span class="line">      &quot;Settings&quot;: &#123;</span><br><span class="line">        &quot;Vnext&quot;:[</span><br><span class="line">          &#123;</span><br><span class="line">            &quot;Address&quot;:&quot; #######&quot;, &#x2F;&#x2F;server address</span><br><span class="line">            &quot;Port&quot;: #####,&#x2F;&#x2F;server port</span><br><span class="line">            &quot;user&quot;:[</span><br><span class="line">                &#123;&quot; id&quot;: &quot;#####&quot;&#125; &#x2F;&#x2F;User UUID, which should be the same as the foreign server configuration</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;Protocol&quot;: &quot;blackhole&quot;,</span><br><span class="line">      &quot;Settings&quot;: &#123;&#125;,</span><br><span class="line">      &quot;Tag&quot;: &quot;block&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;Increase free outgoing detours and direct domestic traffic</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;Protocol&quot;: &quot;free&quot;,</span><br><span class="line">      &quot;Tag&quot;: &quot;direct&quot;,</span><br><span class="line">      &quot;Settings&quot;:&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;Routing&quot;:&#123;&#x2F;&#x2F;Routing settings</span><br><span class="line">   &quot;DomainStrategy&quot;:&quot;IPOnDemand&quot;,</span><br><span class="line">    &quot;Strategy&quot;: &quot;rules&quot;,</span><br><span class="line">    &quot;rule&quot;:[</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;Type&quot;: &quot;field&quot;,&#x2F;&#x2F;Allow the client to access the initial address of the server to improve security</span><br><span class="line">        &quot;Ip&quot;:[</span><br><span class="line">          &quot;Geoip: private&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;OutboundTag&quot;: &quot;Block&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x2F;&#x2F;Configure domestic website and IP direct connection rules</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;Type&quot;: &quot;field&quot;, &#x2F;&#x2F;For some common domestic websites, direct connection mode is also used</span><br><span class="line">        &quot;area&quot;:[</span><br><span class="line">          &quot;Geosite:cn&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;OutboundTag&quot;: &quot;Direct&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;Type&quot;: &quot;field&quot;,&#x2F;&#x2F;For all domestic IP, direct connection mode is adopted</span><br><span class="line">        &quot;Ip&quot;:[</span><br><span class="line">          &quot;Geoip:cn&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;OutboundTag&quot;: &quot;Direct&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Finally restart v2ray to check whether v2ray is running successfully</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Service v2ray restart</span><br><span class="line">Service v2ray status -l</span><br></pre></td></tr></table></figure><p>The actual test of the blogger is very, very slow when there is no transfer, and the speed of the snail is the same. After the transfer, the speed is directly increased to more than 6w. I will explain it in detail in the video.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;When we are surfing the Internet scientifically, sometimes because the server-to-you local delay is too high, it will affect our use. Whe
      
    
    </summary>
    
    
      <category term="-vpn -v2ray" scheme="https://www.rootfw.com/categories/vpn-v2ray/"/>
    
    
  </entry>
  
  <entry>
    <title>Centos7 upgrade python2 to python3</title>
    <link href="https://www.rootfw.com/posts/cf6ba610.html"/>
    <id>https://www.rootfw.com/posts/cf6ba610.html</id>
    <published>2020-09-11T01:50:16.000Z</published>
    <updated>2020-09-20T12:05:48.294Z</updated>
    
    <content type="html"><![CDATA[<p>Linux’s centos7 has python2.7.5 installed by default, and needs to be upgraded to the latest version</p><a id="more"></a><h3 id="View-python-version"><a href="#View-python-version" class="headerlink" title="View python version"></a>View python version</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -V</span><br></pre></td></tr></table></figure><h3 id="View-soft-link-direction"><a href="#View-soft-link-direction" class="headerlink" title="View soft link direction"></a>View soft link direction</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -al &#x2F;usr&#x2F;bin&#x2F;python</span><br></pre></td></tr></table></figure><h3 id="Rename-soft-connection"><a href="#Rename-soft-connection" class="headerlink" title="Rename soft connection"></a>Rename soft connection</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv &#x2F;usr&#x2F;bin&#x2F;python &#x2F;usr&#x2F;bin&#x2F;python2.7.5</span><br></pre></td></tr></table></figure><h3 id="Download-and-unzip-python"><a href="#Download-and-unzip-python" class="headerlink" title="Download and unzip python"></a>Download and unzip python</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;www.python.org&#x2F;ftp&#x2F;python&#x2F;3.6.4&#x2F;Python-3.6.4.tgz</span><br><span class="line">tar -xf Python-3.6.4.tgz</span><br></pre></td></tr></table></figure><h3 id="Install-python"><a href="#Install-python" class="headerlink" title="Install python"></a>Install python</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd Python-3.6.4</span><br><span class="line">.&#x2F;configure</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p>python3.6.4 has been installed in the system. python2.7.5 has been renamed due to soft link. and so. When you check the python version. Will not exist</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Command: python -V</span><br><span class="line">Result: -bash: &#x2F;usr&#x2F;bin&#x2F;python: No such file or directory</span><br></pre></td></tr></table></figure><h3 id="Let-the-system-use-Python-3-6-4-by-default"><a href="#Let-the-system-use-Python-3-6-4-by-default" class="headerlink" title="Let the system use Python 3.6.4 by default"></a>Let the system use Python 3.6.4 by default</h3><p>The direction of the soft link has been modified. Yum cannot be used at this time. Need to edit the yum configuration file</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;usr&#x2F;bin&#x2F;yum</span><br></pre></td></tr></table></figure><p>Put the file header</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python</span><br></pre></td></tr></table></figure><p>Change to</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;usr&#x2F;bin&#x2F;python2.7.5</span><br></pre></td></tr></table></figure><p>Save and exit! shift+: enter wq</p><h3 id="Create-a-new-link"><a href="#Create-a-new-link" class="headerlink" title="Create a new link"></a>Create a new link</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rm -rf &#x2F;usr&#x2F;bin&#x2F;python</span><br><span class="line">rm -rf &#x2F;usr&#x2F;bin&#x2F;py</span><br><span class="line">ln -s &#x2F;usr&#x2F;local&#x2F;bin&#x2F;python3.6 &#x2F;usr&#x2F;bin&#x2F;python</span><br></pre></td></tr></table></figure><h3 id="Verification-is-successful"><a href="#Verification-is-successful" class="headerlink" title="Verification is successful"></a>Verification is successful</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -V</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Linux’s centos7 has python2.7.5 installed by default, and needs to be upgraded to the latest version&lt;/p&gt;
    
    </summary>
    
    
      <category term="-Centos7 -python" scheme="https://www.rootfw.com/categories/Centos7-python/"/>
    
    
      <category term="-python" scheme="https://www.rootfw.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>v2ray VS Trojan</title>
    <link href="https://www.rootfw.com/posts/b93a8b04.html"/>
    <id>https://www.rootfw.com/posts/b93a8b04.html</id>
    <published>2020-09-05T08:14:40.000Z</published>
    <updated>2020-09-20T12:23:07.920Z</updated>
    
    <content type="html"><![CDATA[<p>Trojan<br><progress class="progress is-primary" value="15" max="100">15%</progress><br>V2ay<br><progress class="progress is-warning" value="90" max="100">90%</progress></p><article class="message is-success"><div class="message-body"><p>v2ray vmess multi-layer encryption is too safe to change socks, trojan stands at attention and stands! ! ! Do you really understand v2ray?</p></div></article><a id="more"></a><p>I discussed trojan and v2ray with you in Telegram before! So I am writing an article today! Bloggers have used v2ray for many years, can they be very responsible to tell everyone that v2ray is currently the most secure encryption, multi-layer encryption, is it considered insecure and outdated? It’s nonsense! No matter what FQ service you use here, we respect it, but we really feel that some UPs are ignorant and mislead many people. At present, v2ray has been taken over by the v2fly project and the public test of vless is also effective! And other important updates…! ! So why am I writing this blog post today? It is because I want to tell some novices that v2ray can drop the current mainstream FQ service in seconds. <code>Trojan is blown up!</code>Because v2ray is an all-rounder, there are really few UPs that can really make V2ray clear on YouTube. Because v2ray is more complicated to configure than other services, but it has powerful functions. In order to better hide the characteristics of the traffic, v2ray+tls+ws+nginx was born, TLS is a layer of encryption, and vmess is also a layer of encryption. However, the vmess protocol requires a relatively large amount of calculation. And Trojan’s <code>Dansheng</code> is improved in this respect, it is direct tls encryption, so it should be faster.</p><p><code>So is it true that v2ray cannot be compared with trojan?</code>NO Today, let’s talk about socks! The socks protocol is definitely less computationally intensive than the vmess protocol. For example, ss, ssr, boork are finally connected to us by the socks5 protocol, and network games must pass through socks5, so it is impossible to calculate too much. Socks does not have that much encryption either, <code>SOCKS is actually a network proxy protocol. SOCKS proxy is divided into SOCKS4 and SOCKS5. The difference between the two is that SOCKS4 proxy only supports TCP protocol (that is, transmission control protocol), while SOCKS5 proxy supports both TCP protocol and UDP protocol (that is, user data packet protocol). Various authentication mechanisms, server-side domain name resolution, etc. SOCKS5 that SOCK4 can do are available, but SOCK4 that SOCKS5 can do may not be able to do it! There is no need for time-based calculations like vmess.</code>But I know that the socks protocol used to play games is definitely no problem. <code>SOCKS is completely different from general application layer proxy servers. The general application layer proxy server works at the application layer and provides different processing methods for different network applications, such as HTTP, SMTP, etc. Once a new network application appears, the application layer proxy server cannot provide a proxy for the application , So the scalability of the application layer proxy server is not good; different from the application layer proxy server, the SOCKS proxy server aims to provide a generalized S proxy work and then the circuit layer (that is, between the application layer and the transport layer)!</code>So today we will talk about v2ray+tls+ws+nginx! After the configuration is successful, v2ray (no vmess or vless protocol)+tls+ws+nginx! Speed ​​will certainly not let you down! Everyone knows ss or ssr! ! !</p><h3 id="v2ray-server"><a href="#v2ray-server" class="headerlink" title="v2ray server"></a>v2ray server</h3><figure class="highlight json"><figcaption><span>/usr/local/etc/v2ray</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"inbounds"</span>: [&#123;</span><br><span class="line">    <span class="attr">"port"</span>: port,</span><br><span class="line">    <span class="attr">"listen"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"protocol"</span>: <span class="string">"socks"</span>,</span><br><span class="line"><span class="attr">"sniffing"</span>:</span><br><span class="line">&#123;</span><br><span class="line">        <span class="attr">"enabled"</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">"destOverride"</span>: [<span class="string">"http"</span>, <span class="string">"tls"</span>]</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">"settings"</span>:</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"auth"</span>: <span class="string">"noauth"</span>,</span><br><span class="line">  <span class="attr">"udp"</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">"userLevel"</span>: <span class="number">10</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">"streamSettings"</span>:&#123;<span class="attr">"network"</span>:<span class="string">"ws"</span>,<span class="attr">"wsSettings"</span>:&#123;<span class="attr">"path"</span>:<span class="string">"/comebey520"</span>&#125;&#125;</span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="attr">"outbounds"</span>: [&#123;</span><br><span class="line">    <span class="attr">"protocol"</span>: <span class="string">"freedom"</span>,</span><br><span class="line">    <span class="attr">"settings"</span>: &#123;&#125;</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="v2ray-client-configuration"><a href="#v2ray-client-configuration" class="headerlink" title="v2ray client configuration"></a>v2ray client configuration</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"inbounds"</span>: [&#123;</span><br><span class="line">       <span class="attr">"port"</span>: <span class="number">1080</span>, <span class="comment">//v2ray default 10808 SOCKS5 port actual situation fill in</span></span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"socks"</span>,</span><br><span class="line">      <span class="attr">"sniffing"</span>: &#123;</span><br><span class="line">        <span class="attr">"enabled"</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">"destOverride"</span>: [<span class="string">"http"</span>, <span class="string">"tls"</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"auth"</span>: <span class="string">"noauth"</span>,</span><br><span class="line">        <span class="attr">"udp"</span>: <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="attr">"outbounds"</span>: [&#123;</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"socks"</span>,</span><br><span class="line">      <span class="attr">"settings"</span>:</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"servers"</span>: [&#123;</span><br><span class="line">    <span class="attr">"address"</span>: <span class="string">"Your domain name"</span>,</span><br><span class="line">    <span class="attr">"port"</span>: <span class="number">443</span></span><br><span class="line">  &#125;]</span><br><span class="line">&#125;,</span><br><span class="line">    <span class="attr">"streamSettings"</span>:</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"network"</span>: <span class="string">"ws"</span>,</span><br><span class="line">        <span class="attr">"security"</span>: <span class="string">"tls"</span>,</span><br><span class="line">        <span class="attr">"wsSettings"</span>:</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"path"</span>: <span class="string">"/comebey520"</span> <span class="comment">//Keep the server and client the same</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Nginx-configuration"><a href="#Nginx-configuration" class="headerlink" title="Nginx configuration"></a>Nginx configuration</h3><figure class="highlight"><figcaption><span>/etc/nginx/nginx.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">user nginx;</span><br><span class="line">worker_processes auto;</span><br><span class="line">error_log /var/log/nginx/error.log;</span><br><span class="line">pid /run/nginx.pid;</span><br><span class="line"></span><br><span class="line">include /usr/share/nginx/modules/*.conf;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections 1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    log_format main'$remote_addr-$remote_user [$time_local] "$request" '</span><br><span class="line">                      '$status $body_bytes_sent "$http_referer" '</span><br><span class="line">                      '"$http_user_agent" "$http_x_forwarded_for"';</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">    access_log /var/log/nginx/access.log main;</span><br><span class="line"></span><br><span class="line">    sendfile on;</span><br><span class="line">    tcp_nopush on;</span><br><span class="line">    tcp_nodelay on;</span><br><span class="line">    keepalive_timeout 65;</span><br><span class="line">    types_hash_max_size 2048;</span><br><span class="line"></span><br><span class="line">    include /etc/nginx/mime.types;</span><br><span class="line">    default_type application/octet-stream;</span><br><span class="line">    include /etc/nginx/conf.d/*.conf;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name domain name;</span><br><span class="line">    rewrite ^/(.*) https://domain name$1 permanent; #fill in your own domain name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    server #key code</span><br><span class="line">&#123;</span><br><span class="line">    # SSL configuration</span><br><span class="line">    listen 443 ssl http2 default_server;</span><br><span class="line">    listen [::]:443 ssl http2 default_server;</span><br><span class="line">    ssl_certificate /path/*.pem; #Your ssl certificate *.crt or *.pem can be</span><br><span class="line">    ssl_certificate_key /path/*.key; #your ssl key</span><br><span class="line">    ssl_ciphers EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+ECDSA+AES128:EECDH+aRSA+AES128:RSA+AES128:EECDH+ECDSA+AES256:EECDH+aRSA+AES256:RSA+AES256:EECDH+ECDSA+3DES:EECDH +aRSA+3DES:RSA+3DES:!MD5; #The suite RSA and ecc are not the same, I will give them separately below</span><br><span class="line">    ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3;</span><br><span class="line">    root /usr/share/nginx/html; #webpage path, here you can also put your own html website to replace it</span><br><span class="line">    server_name domain name; #your server domain name</span><br><span class="line"> </span><br><span class="line">    location /ray &#123;#/ray Remember that the path needs to be consistent with the v2ray server and client. The name can be customized</span><br><span class="line">    proxy_redirect off;</span><br><span class="line">    proxy_pass http://127.0.0.1:port; #This IP address and port need to be consistent with the v2ray server configuration,</span><br><span class="line">    proxy_http_version 1.1;</span><br><span class="line">    proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">    proxy_set_header Connection "upgrade";</span><br><span class="line">    proxy_set_header Host $http_host;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><p>Please copy all code articles on this site for some YouTube UP to indicate the source! Please respect copyright and labor achievements!</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Trojan&lt;br&gt;&lt;progress class=&quot;progress is-primary&quot; value=&quot;15&quot; max=&quot;100&quot;&gt;15%&lt;/progress&gt;&lt;br&gt;V2ay&lt;br&gt;&lt;progress class=&quot;progress is-warning&quot; value=&quot;90&quot; max=&quot;100&quot;&gt;90%&lt;/progress&gt;&lt;/p&gt;
&lt;article class=&quot;message is-success&quot;&gt;&lt;div class=&quot;message-body&quot;&gt;
&lt;p&gt;v2ray vmess multi-layer encryption is too safe to change socks, trojan stands at attention and stands! ! ! Do you really understand v2ray?&lt;/p&gt;
&lt;/div&gt;&lt;/article&gt;
    
    </summary>
    
    
      <category term="-vpn -v2ray -trojan" scheme="https://www.rootfw.com/categories/vpn-v2ray-trojan/"/>
    
    
      <category term="-v2ray -vpn" scheme="https://www.rootfw.com/tags/v2ray-vpn/"/>
    
  </entry>
  
  <entry>
    <title>V2ray vless+WebSocket+TLS+Nginx</title>
    <link href="https://www.rootfw.com/posts/93baa7dd.html"/>
    <id>https://www.rootfw.com/posts/93baa7dd.html</id>
    <published>2020-08-23T05:56:29.000Z</published>
    <updated>2020-09-20T12:46:24.414Z</updated>
    
    <content type="html"><![CDATA[<article class="message is-default"><div class="message-body"><p>Currently VLESS does not have its own encryption, please use it for reliable channels, such as TLS.<br>VLESS is in the public beta. During the test, please ensure that both the client and server v2ray-core are the latest version.<br>The internal test warehouse of VLESS is <a href="https://github.com/rprx/v2ray-vless">rprx/v2ray-vless</a>, and the new version of the PREVIEW series will be merged into [v2fly/v2ray-core] after a period of release (<a href="https://github.com/v2fly/v2ray-core">https://github.com/v2fly/v2ray-core</a>). Please upgrade the <code>v2ray core</code> client to the latest version by yourself</p></div></article><a id="more"></a><h3 id="Straightforward"><a href="#Straightforward" class="headerlink" title="Straightforward"></a>Straightforward</h3><p>No matter what vps you build, please test the server to your local delay, including the line, including vps uplink and downlink. Regarding the choice of vps, I don’t recommend any brand, because the region is different, choose the one that suits you. I have tested the code of each article. Some friends who build V2ray or other FQ services say that the card is slow. Install BBR first. Of course, if you don’t even know the basic performance of your own server, is it a bullshit? Knowledge needs to be accumulated, come on! Please also fight for yourself and respect knowledge! If you encounter any problems during the operation, welcome <a href="https://t.me/RootInstitute">add public telegram group</a> <code>Please indicate the source of the site-wide script for some youtube UPs, please respect the fruits of labor</code></p><h3 id="1-Install-dependencies"><a href="#1-Install-dependencies" class="headerlink" title="1. Install dependencies"></a>1. Install dependencies</h3><h4 id="Debian"><a href="#Debian" class="headerlink" title="Debian"></a>Debian</h4><p>Installation dependencies</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt install curl</span><br></pre></td></tr></table></figure><h4 id="Centos7"><a href="#Centos7" class="headerlink" title="Centos7"></a>Centos7</h4><p>Installation dependencies</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum makecache</span><br><span class="line">yum install curl</span><br></pre></td></tr></table></figure><h3 id="2-Execute-the-following-code-after-installation"><a href="#2-Execute-the-following-code-after-installation" class="headerlink" title="2. Execute the following code after installation"></a>2. Execute the following code after installation</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -O https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;v2fly&#x2F;fhs-install-v2ray&#x2F;master&#x2F;install-release.sh</span><br><span class="line">curl -O https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;v2fly&#x2F;fhs-install-v2ray&#x2F;master&#x2F;install-dat-release.sh</span><br></pre></td></tr></table></figure><!--more--><h3 id="3-Install-and-update-V2Ray"><a href="#3-Install-and-update-V2Ray" class="headerlink" title="3. Install and update V2Ray"></a>3. Install and update V2Ray</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-release.sh</span><br></pre></td></tr></table></figure><h4 id="Code-output"><a href="#Code-output" class="headerlink" title="Code output"></a>Code output</h4><p><code>The latest maintenance version of v2fly pulls the latest data and outputs the following content &quot;+&quot; represents the current output content, &quot;-&quot; represents the information deleted on the basis of the old version</code></p><figure class="highlight diff"><figcaption><span>each line of code "+", "-" is ignored</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+info: unzip is installed.</span></span><br><span class="line"><span class="addition">+info: Extract the V2Ray package to /tmp/tmp.RS0y2YR2ZS/ and prepare it for installation.</span></span><br><span class="line"><span class="addition">+installed: /usr/local/bin/v2ray</span></span><br><span class="line"><span class="addition">+installed: /usr/local/bin/v2ctl</span></span><br><span class="line"><span class="addition">+installed: /usr/local/lib/v2ray/geoip.dat</span></span><br><span class="line"><span class="addition">+installed: /usr/local/lib/v2ray/geosite.dat</span></span><br><span class="line"><span class="addition">+installed: /usr/local/etc/v2ray/config.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/00_log.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/01_api.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/02_dns.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/03_routing.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/04_policy.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/05_inbounds.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/06_outbounds.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/07_transport.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/08_stats.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/09_reverse.json</span></span><br><span class="line"><span class="deletion">-installed: /var/log/v2ray/</span></span><br><span class="line"><span class="addition">+installed: /var/log/v2ray/access.log</span></span><br><span class="line"><span class="addition">+installed: /var/log/v2ray/error.log</span></span><br><span class="line"><span class="addition">+installed: /etc/systemd/system/v2ray.service</span></span><br><span class="line"><span class="addition">+installed: /etc/systemd/system/v2ray@.service</span></span><br><span class="line"><span class="addition">+removed: /tmp/tmp.KojGXm19Pa/</span></span><br><span class="line"><span class="addition">+info: V2Ray v4.27.0 is installed.</span></span><br></pre></td></tr></table></figure><h3 id="4-Install-the-latest-geoip-dat-and-geosite-dat"><a href="#4-Install-the-latest-geoip-dat-and-geosite-dat" class="headerlink" title="4. Install the latest geoip.dat and geosite.dat"></a>4. Install the latest geoip.dat and geosite.dat</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-dat-release.sh</span><br></pre></td></tr></table></figure><h3 id="5-Create-and-edit-configuration-files"><a href="#5-Create-and-edit-configuration-files" class="headerlink" title="5. Create and edit configuration files"></a>5. Create and edit configuration files</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray</span><br></pre></td></tr></table></figure><p>Create a configuration file named config.json under /usr/local/etc/v2ray<br>Copy the following code to config.json</p><figure class="highlight json"><figcaption><span>/usr/local/etc/v2ray/config.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"inbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"port"</span>: <span class="number">36240</span>,</span><br><span class="line">      <span class="attr">"listen"</span>:<span class="string">"127.0.0.1"</span>,</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"vless"</span>,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"decryption"</span>: <span class="string">"none"</span>,</span><br><span class="line">        <span class="attr">"clients"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"id"</span>: <span class="string">"*&amp;*&amp;***&amp;*&amp;*^*&amp;*&amp;*&amp;*&amp;*&amp;*"</span>,</span><br><span class="line">            <span class="attr">"level"</span>: <span class="number">0</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"streamSettings"</span>: &#123;</span><br><span class="line">        <span class="attr">"network"</span>: <span class="string">"ws"</span>,</span><br><span class="line">        <span class="attr">"wsSettings"</span>: &#123;</span><br><span class="line">        <span class="attr">"path"</span>: <span class="string">"/abcde"</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"outbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"freedom"</span>,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>v2ray debugging</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart v2ray</span><br><span class="line">sudo systemctl status -l v2ray</span><br></pre></td></tr></table></figure><p>Set v2ray to boot up</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable v2ray</span><br></pre></td></tr></table></figure><p>Open port 80 (HTTP) and 443 (HTTPS) (If you have watched my previous videos, make sure the firewall rules are set, Google Cloud can ignore it. For other brand servers, please make sure that ports 80 and 443 have been opened. If not, try the following Code operation or server web side<br>Open <code>http80 port</code> and <code>https 443 port</code>)</p><p>You can also use the following commands to open these two ports: Please turn on the firewall yourself</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo firewall-cmd --permanent --zone=public --add-service=http</span><br><span class="line">sudo firewall-cmd --permanent --zone=public --add-service=https</span><br><span class="line">sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure><h3 id="6-Install-NGINX"><a href="#6-Install-NGINX" class="headerlink" title="6. Install NGINX"></a>6. Install NGINX</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Install EPEL warehouse (Google Cloud ignores this step, if you are using another brand of vps server, please install it first if EPEL is not installed)</span></span><br><span class="line">sudo yum install epel-release</span><br><span class="line"></span><br><span class="line"><span class="comment">#Install Nginx [yum remove nginx If you want to delete nginx uninstall command]</span></span><br><span class="line">sudo yum install nginx</span><br><span class="line"></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> nginx.service <span class="comment">#Set the boot to start Nginx</span></span><br><span class="line"></span><br><span class="line">sudo systemctl start nginx.service <span class="comment">#Start Nginx service</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">The debugging code is as follows:</span><br><span class="line">sudo systemctl start nginx.service //Open Nginx</span><br><span class="line">sudo systemctl stop nginx.service //Stop Nginx</span><br><span class="line">sudo systemctl status -l nginx.service //View Nginx running status</span><br><span class="line">sudo systemctl restart nginx.service //Restart Nginx</span><br><span class="line">sudo systemctl <span class="built_in">disable</span> nginx.service //Cancel the boot to start Nginx</span><br><span class="line">sudo systemctl reload nginx.service //Reload Nginx (such as changing Nginx configuration requires reloading data)</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> nginx.service //start on boot</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">The debugging code is as follows: Nginx debugging also does not need to add **.service** after the code, please **sudo systemctl start nginx.service**</span><br><span class="line">And **sudo systemctl <span class="built_in">enable</span> nginx.service** Then you can debug through the following code.</span><br><span class="line"></span><br><span class="line">sudo systemctl start nginx //Open Nginx</span><br><span class="line">sudo systemctl stop nginx //Stop Nginx</span><br><span class="line">sudo systemctl status -l nginx //View Nginx running status</span><br><span class="line">sudo systemctl restart nginx //Restart Nginx</span><br><span class="line">sudo systemctl <span class="built_in">disable</span> nginx //cancel Nginx startup</span><br><span class="line">sudo systemctl reload nginx //Reload Nginx (such as changing Nginx configuration requires reloading data)</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> nginx //start up</span><br></pre></td></tr></table></figure><p>Nginx installed by the above method, all related configuration files are in the /etc/nginx/ directory<br><strong>The main configuration file of Nginx is /etc/nginx/nginx.conf</strong><br>*<em>Nginx log files (access.log and error.log) are located in the /var/log/nginx/ directory. *</em></p><p>If you can’t use it successfully after the setup is complete, it may be due to the SElinux mechanism (if you are a user of <code>CentOS 7</code>, please pay special attention to the SElinux mechanism) preventing Nginx from forwarding data to the intranet<br>If this is the case, there will be no access information in the V2Ray log, and a large number of “Permission Denied” fields will appear in the Nginx log<br>To solve this problem, you need to type the following command in the terminal:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setsebool -P httpd_can_network_connect 1 &#x2F;&#x2F;Very important debian ignore</span><br></pre></td></tr></table></figure><p>To verify whether Nginx is successfully started, you can open <a href="http://YOUR_IP">http://YOUR_IP</a> in your browser. Note: Open it will display the centos webpage, but it prompts insecure websites that SSL encryption is not turned on https</p><h3 id="7-Generate-Certificate"><a href="#7-Generate-Certificate" class="headerlink" title="7. Generate Certificate"></a>7. Generate Certificate</h3><p>*<em>If you already have other certificates, you can ignore them, put the certificate and key in the specified directory of the server, just specify the certificate and key path in Nginx. There are too many ways to apply for a certificate. You can generate a certificate by installing the acme.sh tool or other methods to generate a certificate. You can search on Google. *</em></p><p><strong>1. Install the acem.sh certificate generation tool. The following provides 3 methods to install, choose any one of them to install the certificate tool (Reminder: automatically upgrade acme.sh and enter acme.sh upgrade under root)</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl https://get.acme.sh | sh // If the installation fails, please install curl first and enter yum -y install curl</span><br><span class="line"></span><br><span class="line">wget -O-https://get.acme.sh | sh //If it prompts that the installation fails, please (install wget first) enter yum -y install wget already installed ignore</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/acmesh-official/acme.sh.git // If the installation fails, install git first. Ignore those already installed. Enter yum install git</span><br><span class="line"><span class="built_in">cd</span> ./acme.sh</span><br><span class="line">./acme.sh --install</span><br></pre></td></tr></table></figure><p>Install acme.sh through the above code and prompt red hold error. You can install dependencies according to the actual situation, such as installing socat or netcat<br>       <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">centos7 yum install socat <span class="comment">#Dependency of generating certificate through port 80</span></span><br><span class="line">centos7 yum install netcat</span><br><span class="line"></span><br><span class="line">debian apt-get install openssl cron socat curl</span><br><span class="line">debian apt-get -y install netcat</span><br><span class="line"></span><br><span class="line">After the installation is successful, execute <span class="built_in">source</span> ~/.bashrc to ensure that the <span class="built_in">command</span> <span class="built_in">alias</span> <span class="built_in">set</span> by the script takes effect</span><br></pre></td></tr></table></figure><br><strong>2. Generate the certificate path under the /root/.acme.sh file, you can check it yourself after installation</strong><br>  <strong>Reminder: There are many ways to generate a certificate through acme.sh:</strong><br>  For example — automatic DNS API integration such as: cloudflare DNS API token and use of global API key acme.sh supports most dns to generate certificates<br>  For example — use DNS manual mode, and many other installation methods, if you are a good learner, you can Google</p><p>  The generated certificate is as follows: This video only uses the designated port to generate the certificate. <code>**It is recommended to use the 443 port to generate the certificate**</code> (Generally, a single domain name is sufficient, after all, it is used for overcoming the wall without having to do so many bells and whistles. For baidu.com, it is not recommended to use <a href="http://www.baidu.com">www.baidu.com</a>, because it is the front-end web over the wall, please customize such as tw.baidu.com, the prefix tw can be customized, please control three characters, the primary domain baidu.com and the secondary www .baidu.com can spare you understand)</p><p><strong>1. Apply for a certificate by listening on port 80, if port 80 is occupied, please use port 443, please make sure these ports are open</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~&#x2F;.acme.sh&#x2F;acme.sh --issue -d domain name --standalone -k ec-256</span><br></pre></td></tr></table></figure><p><strong>2. If you use a non-standard port 80 behind the reverse proxy or load balancer, you can use –httpport to specify the port</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~&#x2F;.acme.sh&#x2F;acme.sh --issue -d domain name --standalone --httpport port</span><br></pre></td></tr></table></figure><p><strong>3. Listen on port 443 to issue certificates, please make sure port 443 is open</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~&#x2F;.acme.sh&#x2F;acme.sh --issue -d domain name --alpn -k ec-256</span><br></pre></td></tr></table></figure><p><strong>4. If you use non-standard port 443 behind the reverse proxy or load balancer, you can use –tlsport to specify the port</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~&#x2F;.acme.sh&#x2F;acme.sh --issue -d domain name --alpn --tlsport port</span><br></pre></td></tr></table></figure><p>  <strong>-k means the length of the key, the following values ​​can be ec-256, ec-384, 2048, 3072, 4096, 8192, with ec means that the generated ECC certificate is, and if it is not, it is the RSA certificate. In terms of security, a 256-bit ECC certificate is equivalent to a 3072-bit RSA certificate</strong></p><h3 id="8-Install-the-certificate-and-key-to-the-specified-path"><a href="#8-Install-the-certificate-and-key-to-the-specified-path" class="headerlink" title="8. Install the certificate and key to the specified path"></a>8. Install the certificate and key to the specified path</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;etc&#x2F;v2ray (path can be customized)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ecc installation code sudo ~&#x2F;.acme.sh&#x2F;acme.sh --installcert -d domain name --fullchainpath &#x2F;etc&#x2F;v2ray&#x2F;v2ray.crt --keypath &#x2F;etc&#x2F;v2ray&#x2F;v2ray.key --ecc</span><br><span class="line"></span><br><span class="line">rsa installation code sudo ~&#x2F;.acme.sh&#x2F;acme.sh --installcert -d domain name --fullchainpath &#x2F;etc&#x2F;v2ray&#x2F;v2ray.crt --keypath &#x2F;etc&#x2F;v2ray&#x2F;v2ray.key</span><br></pre></td></tr></table></figure><h3 id="9-Configure-NGINX-conf"><a href="#9-Configure-NGINX-conf" class="headerlink" title="9. Configure NGINX *.conf"></a>9. Configure NGINX *.conf</h3><p>Reminder: <code>Code</code> comments do not need to be deleted and will not affect the operation, I just make it easier to understand<br><strong>vi /etc/nginx/nginx.conf #Enter the edit configuration file: long press the D key on the keyboard to delete all configuration information, and then press the keyboard Ins key to enter the editing mode. Copy the following code and paste it into the configuration for editing, and fill in the corresponding one After configuring the information. Finally, press the shift+: key on the keyboard at the same time, enter wq to save and exit</strong></p><figure class="highlight bash"><figcaption><span>/etc/nginx/nginx.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">user nginx;</span><br><span class="line">worker_processes auto;</span><br><span class="line">error_log /var/<span class="built_in">log</span>/nginx/error.log;</span><br><span class="line">pid /run/nginx.pid;</span><br><span class="line"></span><br><span class="line">include /usr/share/nginx/modules/*.conf;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections 1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    log_format main<span class="string">'$remote_addr-$remote_user [$time_local] "$request" '</span></span><br><span class="line">                      <span class="string">'$status $body_bytes_sent "$http_referer" '</span></span><br><span class="line">                      <span class="string">'"$http_user_agent" "$http_x_forwarded_for"'</span>;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">    access_log /var/<span class="built_in">log</span>/nginx/access.log main;</span><br><span class="line"></span><br><span class="line">    sendfile on;</span><br><span class="line">    tcp_nopush on;</span><br><span class="line">    tcp_nodelay on;</span><br><span class="line">    keepalive_timeout 65;</span><br><span class="line">    types_hash_max_size 2048;</span><br><span class="line"></span><br><span class="line">    include /etc/nginx/mime.types;</span><br><span class="line">    default_type application/octet-stream;</span><br><span class="line">    include /etc/nginx/conf.d/*.conf;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name domain name;</span><br><span class="line">    rewrite ^/(.*) https://domain name<span class="variable">$1</span> permanent; <span class="comment">#fill in your own domain name</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    server <span class="comment">#key code</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"># SSL configuration</span></span><br><span class="line">    listen 443 ssl http2 default_server;</span><br><span class="line">    listen [::]:443 ssl http2 default_server;</span><br><span class="line">    ssl_certificate /path/*.pem; <span class="comment">#Your ssl certificate *.crt or *.pem can be</span></span><br><span class="line">    ssl_certificate_key /path/*.key; <span class="comment">#your ssl key</span></span><br><span class="line">    ssl_ciphers EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+ECDSA+AES128:EECDH+aRSA+AES128:RSA+AES128:EECDH+ECDSA+AES256:EECDH+aRSA+AES256:RSA+AES256:EECDH+ECDSA+3DES:EECDH +aRSA+3DES:RSA+3DES:!MD5; <span class="comment">#The suite RSA and ecc are not the same, I will give them separately below</span></span><br><span class="line">    ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3;</span><br><span class="line">    root /usr/share/nginx/html; <span class="comment">#webpage path, here you can also put your own html website to replace it</span></span><br><span class="line">    server_name domain name; <span class="comment">#your server domain name</span></span><br><span class="line"> </span><br><span class="line">    location /ray &#123;<span class="comment">#/ray Remember that the path needs to be consistent with the v2ray server and client. The name can be customized</span></span><br><span class="line">    proxy_redirect off;</span><br><span class="line">    proxy_pass http://127.0.0.1:port; <span class="comment">#This IP address and port need to be consistent with the v2ray server configuration,</span></span><br><span class="line">    proxy_http_version 1.1;</span><br><span class="line">    proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">    proxy_set_header Connection <span class="string">"upgrade"</span>;</span><br><span class="line">    proxy_set_header Host <span class="variable">$http_host</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>The kit is as follows:</strong><br>RSA</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384;</span><br></pre></td></tr></table></figure><p>ECC</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+ECDSA+AES128:EECDH+aRSA+AES128:RSA+AES128:EECDH+ECDSA+AES256:EECDH+aRSA+AES256:RSA+AES256:EECDH+ECDSA+3DES:EECDH+ aRSA+3DES:RSA+3DES:!MD5;</span><br></pre></td></tr></table></figure><p><strong>After modifying the Nginx configuration, be sure to reload the configuration. Enter sudo systemctl reload nginx.service #This must be done</strong></p><p>Finally, please enter <code>reboot</code> to restart the server<code>(remember to execute)</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure><p>Query whether to enable ssl Open the website <a href="https://myssl.com/ssl.html">https://myssl.com/ssl.html</a> and enter your own domain name, port 443 or open <a href="https://www.ssllabs.com/ssltest/index.html">https://www.ssllabs.com/ssltest/index.html</a> to query, you can also search for the keyword ssl on Google Query, many websites can query, whether the score has reached A level</p><p><strong>Reminder: Please use the 443 port code to generate the certificate through the acme.sh tool as follows: sudo ~/.acme.sh/acme.sh –issue -d domain name –alpn -k ec-256 (listening to port 443 To issue a certificate, please make sure that port 443 is turned on. When you operate port 80 to generate a certificate according to the procedure of the article, you will be prompted that the port is occupied. Of course, if you want to be simpler, you can pass the certificate you have purchased or apply for the pagoda or other certificates, and put the key and certificate directly Copy the copy to the specified path of the server, and configure nginx to point to the certificate and path. Some free certificates will lack the CA certificate, so the website ssl score will be greatly reduced. The solution is to re-add the CA certificate.</strong></p><p><strong>Check whether the website has a lock by entering your domain name in the browser🔒 https is turned on, and the ssl score of the website domain name has reached A. If yes, congratulations on the successful construction. If you have learned it, then the next course will be better The more interesting it gets.</strong></p><h3 id="10-BBr-installation"><a href="#10-BBr-installation" class="headerlink" title="10. BBr installation"></a>10. BBr installation</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget &quot;https:&#x2F;&#x2F;github.com&#x2F;chiakge&#x2F;Linux-NetSpeed&#x2F;raw&#x2F;master&#x2F;tcp.sh&quot; &amp;&amp; chmod +x tcp.sh &amp;&amp; .&#x2F;tcp.sh</span><br></pre></td></tr></table></figure><h3 id="11-v2ray-client"><a href="#11-v2ray-client" class="headerlink" title="11.v2ray client"></a>11.v2ray client</h3><p>Please upgrade the client <code>v2ray core</code> to the latest version, add a custom configuration server, copy the following code and save it as <code>**.json</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;inbounds&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;port&quot;: 1080,</span><br><span class="line">      &quot;listen&quot;: &quot;127.0.0.1&quot;,</span><br><span class="line">      &quot;protocol&quot;: &quot;socks&quot;,</span><br><span class="line">      &quot;sniffing&quot;: &#123;</span><br><span class="line">        &quot;enabled&quot;: true,</span><br><span class="line">        &quot;destOverride&quot;: [&quot;http&quot;, &quot;tls&quot;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;auth&quot;: &quot;noauth&quot;,</span><br><span class="line">        &quot;udp&quot;: false</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">    &quot;outbounds&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;protocol&quot;: &quot;vless&quot;,</span><br><span class="line">            &quot;settings&quot;: &#123;</span><br><span class="line">                &quot;vnext&quot;: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        &quot;address&quot;: &quot;Domain Name&quot;,</span><br><span class="line">                        &quot;port&quot;: 443,</span><br><span class="line">                        &quot;users&quot;: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                &quot;encryption&quot;: &quot;none&quot;,</span><br><span class="line">                                &quot;id&quot;: &quot;UUID replace yourself&quot;,</span><br><span class="line">                                &quot;level&quot;: 0</span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            &quot;streamSettings&quot;: &#123;</span><br><span class="line">                &quot;network&quot;: &quot;ws&quot;,</span><br><span class="line">                &quot;security&quot;: &quot;tls&quot;,</span><br><span class="line">                &quot;wsSettings&quot;: &#123;</span><br><span class="line">                    &quot;path&quot;: &quot;&#x2F;abcde&quot;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="11-Query-tls-on-status"><a href="#11-Query-tls-on-status" class="headerlink" title="11.Query tls on status"></a>11.Query tls on status</h3><p><a href="https://www.ssllabs.com/ssltest/index.html">https://www.ssllabs.com/ssltest/index.html</a> Enter your own domain name to query</p><h3 id="12-If-you-want-to-uninstall-V2Ray-execute-the-following-code"><a href="#12-If-you-want-to-uninstall-V2Ray-execute-the-following-code" class="headerlink" title="12. If you want to uninstall V2Ray, execute the following code"></a>12. If you want to uninstall V2Ray, execute the following code</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-release.sh --remove</span><br></pre></td></tr></table></figure><p><code>Reminder: If you want to improve yourself in a short period of time, you can participate in my training. For many years of practical experience, you can participate in the excellent courses. Basically, you can&#39;t find the VIP courses on all platforms. Seeing blood for a while helps you get through the second line of the governor, everyone can be an expert</code>。<br><a href="https://www.rootfw.com/posts/4b7bc44c.html">Click on course details</a><br><a href="https://t.me/RootInstitute">chat telegram group</a></p><!--[Nginx前端模板下载-1](https://cdn.jsdelivr.net/gh/ComeBey/imghosting/comebey-pic/html.zip)[Nginx前端模板下载-2](https://cdn.jsdelivr.net/gh/ComeBey/imghosting/comebey-pic/Html%20Template.zip)[Nginx前端模板下载-3](https://cdn.jsdelivr.net/gh/ComeBey/imghosting/comebey-pic/3DCEList.zip)<button class="button is-active"><a href="https://cdn.jsdelivr.net/gh/ComeBey/imghosting/comebey-pic/html.zip" class="点击下载">Nginx前端模板下载-1</a></button>  <button class="button">    <span class="icon">    <i class="fas fa-cloud-download-alt"></i>    </span>    <a href="https://cdn.jsdelivr.net/gh/ComeBey/imghosting/comebey-pic/html.zip" class="download">Nginx Theme template download-1</a>  </button></p> -->  </button>  <button class="button is-medium">    <span class="icon">    <i class="fas fa-cloud-download-alt"></i>    </span>    <a href="https://cdn.jsdelivr.net/gh/ComeBey/imghosting/comebey-pic/html.zip" class="download now">Nginx Theme template download</a>]]></content>
    
    <summary type="html">
    
      &lt;article class=&quot;message is-default&quot;&gt;&lt;div class=&quot;message-body&quot;&gt;
&lt;p&gt;Currently VLESS does not have its own encryption, please use it for reliable channels, such as TLS.&lt;br&gt;VLESS is in the public beta. During the test, please ensure that both the client and server v2ray-core are the latest version.&lt;br&gt;The internal test warehouse of VLESS is &lt;a href=&quot;https://github.com/rprx/v2ray-vless&quot;&gt;rprx/v2ray-vless&lt;/a&gt;, and the new version of the PREVIEW series will be merged into [v2fly/v2ray-core] after a period of release (&lt;a href=&quot;https://github.com/v2fly/v2ray-core&quot;&gt;https://github.com/v2fly/v2ray-core&lt;/a&gt;). Please upgrade the &lt;code&gt;v2ray core&lt;/code&gt; client to the latest version by yourself&lt;/p&gt;
&lt;/div&gt;&lt;/article&gt;
    
    </summary>
    
    
      <category term="VPN" scheme="https://www.rootfw.com/categories/VPN/"/>
    
      <category term="v2ray" scheme="https://www.rootfw.com/categories/VPN/v2ray/"/>
    
      <category term="VLESS" scheme="https://www.rootfw.com/categories/VPN/v2ray/VLESS/"/>
    
    
      <category term="v2ray" scheme="https://www.rootfw.com/tags/v2ray/"/>
    
      <category term="vless" scheme="https://www.rootfw.com/tags/vless/"/>
    
  </entry>
  
  <entry>
    <title>Github API</title>
    <link href="https://www.rootfw.com/posts/87f1021.html"/>
    <id>https://www.rootfw.com/posts/87f1021.html</id>
    <published>2020-08-06T13:09:35.000Z</published>
    <updated>2020-09-20T12:06:11.604Z</updated>
    
    <content type="html"><![CDATA[<article class="message is-warning"><div class="message-body"><p>For users who use Github, there are often some automation requirements. For example, my requirement is to regularly backup Github issues and comments locally. The following is a reference for using Github’s API</p></div></article><a id="more"></a><h3 id="Basic-Access-Path-Root-Endpoints"><a href="#Basic-Access-Path-Root-Endpoints" class="headerlink" title="Basic Access Path (Root Endpoints)"></a>Basic Access Path (Root Endpoints)</h3><article class="message is-info"><div class="message-body"><p>When reading the document at the beginning, follow its example to curl directly on the command line, or access it in InSomnia or Postman software, and the 200 status is perfectly displayed. But once I rewrite my username in the link, it will display 404 without page. I thought it was an authorization problem, and then tried various ways in the header HEADER for username and token keys, but it was useless or 404. It turned out that it was not a problem with the method, but the link address was not written correctly!<br>In fact, if you just read it, you don’t need any authorization at all. You can directly enter the link in the command line, Insomnia, web page and other situations to access all public information of anyone.<br>Then check the official path list Root Endpoints to get the link, it seems that how to access it is wrong. Instead, I saw a link in Stackoverflow. I found various correct access paths along the way, summarized as follows:</p></div></article><p>First of all! The visited link cannot have / at the end. For example, <a href="https://api.github.com/users/solomonxie">https://api.github.com/users/solomonxie</a> can access my personal information, but <a href="https://api.github.com/users/solomonxie/">https://api.github.com/users/solomonxie/</a> does not work. The only difference is that there is one more/.<br>Second! Unlike general URL access, Github’s API access links are case sensitive!<br>Personal main information. <a href="https://api.github.com/users/">https://api.github.com/users/</a> username, the data obtained is as follows:<br>image</p><p>Personally owned repo. <a href="https://api.github.com/users/username/repos">https://api.github.com/users/username/repos</a>. Will get a list of repo in JSON format.<br>Repo details. <a href="https://api.github.com/repos/username/warehouse">https://api.github.com/repos/username/warehouse</a> name. The path of the repo began to be different from the personal information.<br>Get the content list of a repo. <a href="https://api.github.com/repos/solomonxie/gists/contents">https://api.github.com/repos/solomonxie/gists/contents</a>, note that this will only return the contents of the root directory.<br>Get the content list of subdirectories in the repo. <a href="https://api.github.com/repos/solomonxie/gists/contents/">https://api.github.com/repos/solomonxie/gists/contents/</a> directory name. It must be noted that the capitalization of the original file name must be completely followed here, otherwise the information cannot be obtained. If it is a deeper content, write the name of the directory in the link column in order.<br>Get information about a file in the repo (not including content). <a href="https://api.github.com/repos/solomonxie/gists/contents/">https://api.github.com/repos/solomonxie/gists/contents/</a> file path. The file path is the full path of the file and is case sensitive. Only basic file information will be returned.<br>Get the original content (Raw) of a file. 1. Extract the download_url link from the above file information, and then you can get its original content. 2. Or visit directly: <a href="https://raw.githubusercontent.com/username/warehouse">https://raw.githubusercontent.com/username/warehouse</a> name/branch name/file path<br>A list of all commits in the repo. <a href="https://api.github.com/repos/username/warehouse">https://api.github.com/repos/username/warehouse</a> name/commits.<br>Details of a certain commit. <a href="https://api.github.com/repos/username/warehouse">https://api.github.com/repos/username/warehouse</a> name/commits/SHA of a certain commit<br>List of issues. <a href="https://api.github.com/repos/username/repository">https://api.github.com/repos/username/repository</a> name/issues.<br>Details of an issue. <a href="https://api.github.com/repos/username/warehouse">https://api.github.com/repos/username/warehouse</a> name/issues/ serial number. Issues are listed in the order of 1, 2, and 3.<br>A list of comments in an issue. <a href="https://api.github.com/repos/username/warehouse">https://api.github.com/repos/username/warehouse</a> name/issues/serial number/comments.<br>Details of a comment. <a href="https://api.github.com/repos/Username/Repository">https://api.github.com/repos/Username/Repository</a> Name/issues/comments/ ID of comment details. The comment ID is obtained from the issues list.</p><h3 id="Query-parameters-Parameters"><a href="#Query-parameters-Parameters" class="headerlink" title="Query parameters (Parameters)"></a>Query parameters (Parameters)</h3><p>If you add query conditions to the basic link above, then the returned data is filtered. For example, it is required to return only the open issues, or to display the list data in pages. Commonly used as follows:</p><p>Paging function. The format is?page=page number&amp;per_page=each page contains number.<br>Such as <a href="https://api.github.com/users/solomonxie/repos?page=2&amp;per_page=3">https://api.github.com/users/solomonxie/repos?page=2&amp;per_page=3</a></p><p>Issue status. The format is?state=state.<br>Such as <a href="https://api.github.com/repos/solomonxie/solomonxie.github.io/issues?state=closed">https://api.github.com/repos/solomonxie/solomonxie.github.io/issues?state=closed</a></p>]]></content>
    
    <summary type="html">
    
      &lt;article class=&quot;message is-warning&quot;&gt;&lt;div class=&quot;message-body&quot;&gt;
&lt;p&gt;For users who use Github, there are often some automation requirements. For example, my requirement is to regularly backup Github issues and comments locally. The following is a reference for using Github’s API&lt;/p&gt;
&lt;/div&gt;&lt;/article&gt;
    
    </summary>
    
    
      <category term="-github" scheme="https://www.rootfw.com/categories/github/"/>
    
    
      <category term="-github" scheme="https://www.rootfw.com/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>V2ray+WS+TLS+Nginx</title>
    <link href="https://www.rootfw.com/posts/d2834d54.html"/>
    <id>https://www.rootfw.com/posts/d2834d54.html</id>
    <published>2020-07-28T14:18:07.000Z</published>
    <updated>2020-09-18T09:06:45.953Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Synchronize-server-time"><a href="#Synchronize-server-time" class="headerlink" title="Synchronize server time"></a>Synchronize server time</h3><h4 id="centos7"><a href="#centos7" class="headerlink" title="centos7"></a>centos7</h4><p>Update server <code>yum update -y</code> (Some systems prompt <strong>NO packages marked for update</strong>, no need to update)<br>Set the server time to be adjusted to the local country time zone <code>date -R</code> is to view the current server time</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">date -R</span><br><span class="line">timedatectl <span class="built_in">set</span>-local-rtc 1</span><br><span class="line">timedatectl <span class="built_in">set</span>-timezone Asia/Shanghai</span><br></pre></td></tr></table></figure><h4 id="Debian"><a href="#Debian" class="headerlink" title="Debian"></a>Debian</h4><figure class="highlight bash"><figcaption><span>E.g</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">date -R</span><br><span class="line">rm -rf /etc/localtime</span><br><span class="line">cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure><h3 id="Install-dependent-programs"><a href="#Install-dependent-programs" class="headerlink" title="Install dependent programs"></a>Install dependent programs</h3><h4 id="debian"><a href="#debian" class="headerlink" title="debian"></a>debian</h4><p>update and Install curl</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt install curl</span><br></pre></td></tr></table></figure><h4 id="centos7-1"><a href="#centos7-1" class="headerlink" title="centos7"></a>centos7</h4><p>update and Install curls</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum makecache</span><br><span class="line">yum install curl</span><br></pre></td></tr></table></figure><h3 id="Continue-code-installation"><a href="#Continue-code-installation" class="headerlink" title="Continue code installation"></a>Continue code installation</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -O https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;v2fly&#x2F;fhs-install-v2ray&#x2F;master&#x2F;install-release.sh</span><br><span class="line">curl -O https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;v2fly&#x2F;fhs-install-v2ray&#x2F;master&#x2F;install-dat-release.sh</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="v2ray-update"><a href="#v2ray-update" class="headerlink" title="v2ray update"></a>v2ray update</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-release.sh</span><br></pre></td></tr></table></figure><h4 id="code-output"><a href="#code-output" class="headerlink" title="code output"></a>code output</h4><p>The output content of different v2ray versions will be different</p><figure class="highlight diff"><figcaption><span>" + " is add，" - " is delete</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+info: unzip is installed.</span></span><br><span class="line"><span class="addition">+info: Extract the V2Ray package to /tmp/tmp.RS0y2YR2ZS/ and prepare it for installation.</span></span><br><span class="line"><span class="addition">+installed: /usr/local/bin/v2ray</span></span><br><span class="line"><span class="addition">+installed: /usr/local/bin/v2ctl</span></span><br><span class="line"><span class="addition">+installed: /usr/local/lib/v2ray/geoip.dat</span></span><br><span class="line"><span class="addition">+installed: /usr/local/lib/v2ray/geosite.dat</span></span><br><span class="line"><span class="addition">+installed: /usr/local/etc/v2ray/config.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/00_log.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/01_api.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/02_dns.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/03_routing.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/04_policy.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/05_inbounds.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/06_outbounds.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/07_transport.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/08_stats.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/09_reverse.json</span></span><br><span class="line"><span class="deletion">-installed: /var/log/v2ray/</span></span><br><span class="line"><span class="addition">+installed: /var/log/v2ray/access.log</span></span><br><span class="line"><span class="addition">+installed: /var/log/v2ray/error.log</span></span><br><span class="line"><span class="addition">+installed: /etc/systemd/system/v2ray.service</span></span><br><span class="line"><span class="addition">+installed: /etc/systemd/system/v2ray@.service</span></span><br><span class="line"><span class="addition">+removed: /tmp/tmp.KojGXm19Pa/</span></span><br><span class="line"><span class="addition">+info: V2Ray v4.27.0 is installed.</span></span><br></pre></td></tr></table></figure><h3 id="install-release-sh"><a href="#install-release-sh" class="headerlink" title="install release.sh"></a>install release.sh</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-dat-release.sh</span><br></pre></td></tr></table></figure><h3 id="edit-configuration-files"><a href="#edit-configuration-files" class="headerlink" title="edit configuration files"></a>edit configuration files</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;local&#x2F;etc</span><br><span class="line">mkdir v2ray</span><br><span class="line">touch config.json</span><br></pre></td></tr></table></figure><p>Create a configuration file named config.json under /usr/local/etc/v2ray<br>Copy the following code to config.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//copy</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">"log"</span> : &#123;</span><br><span class="line">    <span class="attr">"access"</span>: <span class="string">"/var/log/v2ray/access.log"</span>,</span><br><span class="line">    <span class="attr">"error"</span>: <span class="string">"/var/log/v2ray/error.log"</span>,</span><br><span class="line">    <span class="attr">"loglevel"</span>: <span class="string">"warning"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"inbound"</span>: &#123;</span><br><span class="line">    <span class="attr">"port"</span>: <span class="number">9000</span>,</span><br><span class="line">    <span class="attr">"listen"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"protocol"</span>: <span class="string">"vmess"</span>,</span><br><span class="line">    <span class="attr">"settings"</span>: &#123;</span><br><span class="line">      <span class="attr">"clients"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"id"</span>: <span class="string">"eb950add-608e-409d-937f-e797324387093z"</span>,</span><br><span class="line">          <span class="attr">"level"</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">"alterId"</span>: <span class="number">12</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">   <span class="attr">"streamSettings"</span>:&#123;</span><br><span class="line">      <span class="attr">"network"</span>: <span class="string">"ws"</span>,</span><br><span class="line">      <span class="attr">"wsSettings"</span>: &#123;</span><br><span class="line">           <span class="attr">"path"</span>: <span class="string">"/ray"</span> <span class="comment">//Related to nginx configuration (customizable)</span></span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"outbound"</span>: &#123;</span><br><span class="line">    <span class="attr">"protocol"</span>: <span class="string">"freedom"</span>,</span><br><span class="line">    <span class="attr">"settings"</span>: &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"outboundDetour"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"blackhole"</span>,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;&#125;,</span><br><span class="line">      <span class="attr">"tag"</span>: <span class="string">"blocked"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"routing"</span>: &#123;</span><br><span class="line">    <span class="attr">"strategy"</span>: <span class="string">"rules"</span>,</span><br><span class="line">    <span class="attr">"settings"</span>: &#123;</span><br><span class="line">      <span class="attr">"rules"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">          <span class="attr">"ip"</span>: [</span><br><span class="line">            <span class="string">"0.0.0.0/8"</span>,</span><br><span class="line">            <span class="string">"10.0.0.0/8"</span>,</span><br><span class="line">            <span class="string">"100.64.0.0/10"</span>,</span><br><span class="line">            <span class="string">"127.0.0.0/8"</span>,</span><br><span class="line">            <span class="string">"169.254.0.0/16"</span>,</span><br><span class="line">            <span class="string">"172.16.0.0/12"</span>,</span><br><span class="line">            <span class="string">"192.0.0.0/24"</span>,</span><br><span class="line">            <span class="string">"192.0.2.0/24"</span>,</span><br><span class="line">            <span class="string">"192.168.0.0/16"</span>,</span><br><span class="line">            <span class="string">"198.18.0.0/15"</span>,</span><br><span class="line">            <span class="string">"198.51.100.0/24"</span>,</span><br><span class="line">            <span class="string">"203.0.113.0/24"</span>,</span><br><span class="line">            <span class="string">"::1/128"</span>,</span><br><span class="line">            <span class="string">"fc00::/7"</span>,</span><br><span class="line">            <span class="string">"fe80::/10"</span></span><br><span class="line">          ],</span><br><span class="line">          <span class="attr">"outboundTag"</span>: <span class="string">"blocked"</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>v2ray debugging</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart v2ray</span><br><span class="line">sudo systemctl status -l v2ray</span><br></pre></td></tr></table></figure><p>Set v2ray to boot up</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable v2ray</span><br></pre></td></tr></table></figure><p>open <code>http 80 prot</code> and <code>https 443 prot</code></p><figure class="highlight bash"><figcaption><span>Open firewall https 443 prot and htpp 80 prot</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo firewall-cmd --permanent --zone=public --add-service=http</span><br><span class="line">sudo firewall-cmd --permanent --zone=public --add-service=https</span><br><span class="line">sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure><h3 id="install-NGINX"><a href="#install-NGINX" class="headerlink" title="install NGINX"></a>install NGINX</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">sudo yum install epel-release <span class="comment">#epel</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo yum install nginx</span><br><span class="line"></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> nginx.service</span><br><span class="line"></span><br><span class="line">sudo systemctl start nginx.service</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">debugging code：</span><br><span class="line">sudo systemctl start nginx.service                //start Nginx</span><br><span class="line">sudo systemctl stop nginx.service                //stop Nginx</span><br><span class="line">sudo systemctl status -l nginx.service          //start Nginx</span><br><span class="line">sudo systemctl restart nginx.service            //restart Nginx</span><br><span class="line">sudo systemctl <span class="built_in">disable</span> nginx.service           //<span class="built_in">disable</span> Nginx</span><br><span class="line">sudo systemctl reload nginx.service           //reload Nginx (If change the Nginx configuration, you need to reload the data)</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> nginx.service            //<span class="built_in">enable</span> nginx</span><br></pre></td></tr></table></figure><p>Nginx installed by the above method, all related configuration files are in the /etc/nginx/ directory<br><strong>The main configuration file of Nginx is /etc/nginx/nginx.conf</strong><br><strong>Nginx log files (access.log and error.log) are located in the /var/log/nginx/ directory</strong></p><p>If you can’t use it successfully after the setup is complete, it may be due to the SElinux mechanism (if you are a user of <code>CentOS 7</code>, please pay special attention to the SElinux mechanism) that prevents Nginx from forwarding data to the intranet<br>If this is the case, there will be no access information in the V2Ray log, and a large number of “Permission Denied” fields will appear in the Nginx log<br>To solve this problem, you need to type the following command in the terminal:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setsebool -P httpd_can_network_connect 1    &#x2F;&#x2F;Only centos7 use</span><br></pre></td></tr></table></figure><p>To verify whether Nginx is successfully started, you can open <a href="http://YOUR_IP">http://YOUR_IP</a> in the browser. Note: Open it and display the centos webpage, but it prompts insecure websites that SSL encryption is not turned on https</p><h3 id="Generate-tls-certificate"><a href="#Generate-tls-certificate" class="headerlink" title="Generate tls certificate"></a>Generate tls certificate</h3><p><strong>1.Install the acem.sh certificate generation tool. The following 3 methods are provided. Choose any one of the methods to install the certificate tool (Reminder: automatically upgrade acme.sh and enter acme.sh upgrade under root)</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl  https://get.acme.sh | sh   // please install curl first yum -y install curl</span><br><span class="line"></span><br><span class="line">wget -O -  https://get.acme.sh | sh     //please install wget first enter yum -y install wget has been installed ignore</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/acmesh-official/acme.sh.git   // please install git first enter yum install git</span><br><span class="line"><span class="built_in">cd</span> ./acme.sh</span><br><span class="line">./acme.sh --install</span><br></pre></td></tr></table></figure><pre><code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">centos7  yum install socat  <span class="comment">#Generate tls certificate through port 80</span></span><br><span class="line">centos7  yum install netcat</span><br><span class="line"></span><br><span class="line">debian  apt-get install openssl cron socat curl</span><br><span class="line">debian  apt-get -y install netcat</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure></code></pre><p><strong>2. Generate the certificate path under the /root/.acme.sh file, you can check it yourself after installation</strong><br>   <strong>Reminder: There are many ways to generate a certificate through acme.sh:</strong><br>   For example — automatic DNS API integration such as: cloudflare DNS API token and use of global API key acme.sh supports most dns to generate certificates<br>   For example — use DNS manual mode, and many other installation methods, if you are a good learner, you can Google</p><p>The generated certificate is as follows: This video only uses the designated port to generate the certificate. <code>**It is recommended to use the 443 port to generate the certificate**</code> (usually a single domain name is sufficient, after all, it is used to overcome the wall and do not need to do so many fancy multi-domains, such as: main domain baidu.com is not recommended to use <a href="http://www.baidu.com">www.baidu.com</a>, because it is the front-end web that overturns the wall, please customize such as tw.baidu.com, the prefix tw can be customized, please control three characters, the main domain baidu.com and the secondary www .baidu.com can spare you understand)</p><p><strong>Apply for a certificate by listening on port 80, if port 80 is occupied, please use port 443, please make sure these ports are open</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~&#x2F;.acme.sh&#x2F;acme.sh --issue -d domain name --standalone -k ec-256</span><br></pre></td></tr></table></figure><p><strong>Listen to port 443 to issue certificates, please make sure port 443 is open</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~&#x2F;.acme.sh&#x2F;acme.sh --issue -d domain name --alpn -k ec-256</span><br></pre></td></tr></table></figure><p><strong>If you use non-standard port 443 behind the reverse proxy or load balancer, you can use –tlsport to specify the port</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~&#x2F;.acme.sh&#x2F;acme.sh --issue -d domain name --alpn --tlsport port</span><br></pre></td></tr></table></figure><p>  <strong>-k means the length of the key, the following values ​​can be ec-256, ec-384, 2048, 3072, 4096, 8192, with ec means that the generated ECC certificate is, if not, it is the RSA certificate. In terms of security, a 256-bit ECC certificate is equivalent to a 3072-bit RSA certificate</strong></p><h3 id="tls-move"><a href="#tls-move" class="headerlink" title="tls move"></a>tls move</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;etc&#x2F;v2ray （The path can be customized）</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~&#x2F;.acme.sh&#x2F;acme.sh --installcert -d  --fullchainpath &#x2F;etc&#x2F;v2ray&#x2F;v2ray.crt --keypath &#x2F;etc&#x2F;v2ray&#x2F;v2ray.key --ecc</span><br></pre></td></tr></table></figure><h3 id="Configure-conf"><a href="#Configure-conf" class="headerlink" title="Configure *.conf"></a>Configure *.conf</h3><p><strong>vim /etc/nginx/nginx.conf #Enter the edit configuration file: long press the D key on the keyboard to delete all configuration information, and then press the keyboard Ins key to enter the editing mode. Copy the following code and paste it into the configuration for editing, and fill in the corresponding one After configuring the information. Finally, press the shift+: key on the keyboard at the same time, enter wq to save and exit</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">user nginx;</span><br><span class="line">worker_processes auto;</span><br><span class="line">error_log /var/<span class="built_in">log</span>/nginx/error.log;</span><br><span class="line">pid /run/nginx.pid;</span><br><span class="line"></span><br><span class="line">include /usr/share/nginx/modules/*.conf;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections 1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    log_format  main  <span class="string">'$remote_addr - $remote_user [$time_local] "$request" '</span></span><br><span class="line">                      <span class="string">'$status $body_bytes_sent "$http_referer" '</span></span><br><span class="line">                      <span class="string">'"$http_user_agent" "$http_x_forwarded_for"'</span>;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">    access_log  /var/<span class="built_in">log</span>/nginx/access.log  main;</span><br><span class="line"></span><br><span class="line">    sendfile            on;</span><br><span class="line">    tcp_nopush          on;</span><br><span class="line">    tcp_nodelay         on;</span><br><span class="line">    keepalive_timeout   65;</span><br><span class="line">    types_hash_max_size 2048;</span><br><span class="line"></span><br><span class="line">    include  /etc/nginx/mime.types;</span><br><span class="line">    default_type application/octet-stream;</span><br><span class="line">    include /etc/nginx/conf.d/*.conf;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name https://%<span class="variable">$#</span><span class="comment">#@@.com;</span></span><br><span class="line">    rewrite ^/(.*) https://%$$%^.com<span class="variable">$1</span> permanent; <span class="comment">#your URL</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    server </span><br><span class="line">&#123; </span><br><span class="line">    <span class="comment"># SSL configuration</span></span><br><span class="line">    listen 443 ssl http2 default_server;</span><br><span class="line">    listen [::]:443 ssl http2 default_server;</span><br><span class="line">    ssl_certificate /etc/v2ray/*.pem</span><br><span class="line">    ssl_certificate_key /etc/v2ray/*.key;</span><br><span class="line">    ssl_ciphers EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+ECDSA+AES128:EECDH+aRSA+AES128:RSA+AES128:EECDH+ECDSA+AES256:EECDH+aRSA+AES256:RSA+AES256:EECDH+ECDSA+3DES:EECDH+aRSA+3DES:RSA+3DES:!MD5;</span><br><span class="line">    ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3;</span><br><span class="line">    root /usr/share/nginx/html;</span><br><span class="line">    server_name <span class="comment">#your URL</span></span><br><span class="line"> </span><br><span class="line">    location /ray &#123;</span><br><span class="line">    proxy_redirect off;</span><br><span class="line">    proxy_pass http://127.0.0.1:prot;</span><br><span class="line">    proxy_http_version 1.1;</span><br><span class="line">    proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">    proxy_set_header Connection <span class="string">"upgrade"</span>;</span><br><span class="line">    proxy_set_header Host <span class="variable">$http_host</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384;   #RSA套件</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+ECDSA+AES128:EECDH+aRSA+AES128:RSA+AES128:EECDH+ECDSA+AES256:EECDH+aRSA+AES256:RSA+AES256:EECDH+ECDSA+3DES:EECDH+aRSA+3DES:RSA+3DES:!MD5;  <span class="comment">#Ecc</span></span><br></pre></td></tr></table></figure><p><strong>After modifying the Nginx configuration, must be to reload the configuration. Enter sudo systemctl reload nginx.service #This must be done</strong></p><p>Finally, please enter <code>reboot</code> to restart the server<code>(remember to execute)</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure><p>Check whether ssl is enabled. Open the website <a href="https://myssl.com/ssl.html">https://myssl.com/ssl.html</a> and enter your own domain name and port 443 or open <a href="https://www.ssllabs.com/ssltest/index.html">https://www.ssllabs.com/ssltest/index.html</a> to query, you can also search for the keyword ssl on Google Query, many websites can query, whether the score has reached A level</p><p><strong>Reminder: To generate a certificate through the acme.sh tool, please use the 443 port code as follows: sudo ~/.acme.sh/acme.sh –issue -d domain name –alpn -k ec-256 (listen to port 443 To issue a certificate, please make sure that port 443 is turned on. Follow the procedure of the article to operate port 80. When generating a certificate, you will be prompted that the port is occupied. Of course, if you want to be simpler, you can pass the certificate you have purchased or apply for the pagoda or other certificates, and put the key and certificate directly Copy the copy to the specified path of the server, and configure nginx to point to the certificate and path. Some free certificates will lack the CA certificate, so the website ssl score will be greatly reduced. The solution is to re-add the CA certificate.</strong></p><p><strong>Check if you find that the website has a lock by entering your domain name in the browser🔒 https is turned on, and the ssl score of the website domain name has reached A. If yes, congratulations on the successful construction. If you have learned it, then the next course will be better The more interesting it gets.</strong></p><h3 id="BBr-installation"><a href="#BBr-installation" class="headerlink" title="BBr installation"></a>BBr installation</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget &quot;https:&#x2F;&#x2F;github.com&#x2F;chiakge&#x2F;Linux-NetSpeed&#x2F;raw&#x2F;master&#x2F;tcp.sh&quot; &amp;&amp; chmod +x tcp.sh &amp;&amp; .&#x2F;tcp.sh</span><br></pre></td></tr></table></figure><h3 id="uninstall-V2Ray"><a href="#uninstall-V2Ray" class="headerlink" title="uninstall V2Ray"></a>uninstall V2Ray</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-release.sh --remove</span><br></pre></td></tr></table></figure><h3 id="Query-tls-status"><a href="#Query-tls-status" class="headerlink" title="Query tls status"></a>Query tls status</h3><p><a href="https://www.ssllabs.com/ssltest/index.html">https://www.ssllabs.com/ssltest/index.html</a> Enter your own domain name to query</p><p><code>Reminder: If you want to improve yourself in a short period of time, you can participate in my training. For many years of practical experience, you can participate in my training. Basically, you can&#39;t find the VIP courses on all platforms. If you see blood, you can get through the second line of Ren and Du. Everyone can be Expert</code>.<br><a href="https://www.rootfw.com/posts/4b7bc44c.html">course details</a><br><a href="https://t.me/RootInstitute">telegram</a><br><a href="https://cdn.jsdelivr.net/gh/ComeBey/imghosting/comebey-pic/html.zip">template download</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;Synchronize-server-time&quot;&gt;&lt;a href=&quot;#Synchronize-server-time&quot; class=&quot;headerlink&quot; title=&quot;Synchronize server time&quot;&gt;&lt;/a&gt;Synchronize server time&lt;/h3&gt;&lt;h4 id=&quot;centos7&quot;&gt;&lt;a href=&quot;#centos7&quot; class=&quot;headerlink&quot; title=&quot;centos7&quot;&gt;&lt;/a&gt;centos7&lt;/h4&gt;&lt;p&gt;Update server &lt;code&gt;yum update -y&lt;/code&gt; (Some systems prompt &lt;strong&gt;NO packages marked for update&lt;/strong&gt;, no need to update)&lt;br&gt;Set the server time to be adjusted to the local country time zone &lt;code&gt;date -R&lt;/code&gt; is to view the current server time&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;date -R&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;timedatectl &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;-local-rtc 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;timedatectl &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;-timezone Asia/Shanghai&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;


&lt;h4 id=&quot;Debian&quot;&gt;&lt;a href=&quot;#Debian&quot; class=&quot;headerlink&quot; title=&quot;Debian&quot;&gt;&lt;/a&gt;Debian&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;figcaption&gt;&lt;span&gt;E.g&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;date -R&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;rm -rf /etc/localtime&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Install-dependent-programs&quot;&gt;&lt;a href=&quot;#Install-dependent-programs&quot; class=&quot;headerlink&quot; title=&quot;Install dependent programs&quot;&gt;&lt;/a&gt;Install dependent programs&lt;/h3&gt;&lt;h4 id=&quot;debian&quot;&gt;&lt;a href=&quot;#debian&quot; class=&quot;headerlink&quot; title=&quot;debian&quot;&gt;&lt;/a&gt;debian&lt;/h4&gt;&lt;p&gt;update and Install curl&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;apt update&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;apt install curl&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;centos7-1&quot;&gt;&lt;a href=&quot;#centos7-1&quot; class=&quot;headerlink&quot; title=&quot;centos7&quot;&gt;&lt;/a&gt;centos7&lt;/h4&gt;&lt;p&gt;update and Install curls&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;yum makecache&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum install curl&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Continue-code-installation&quot;&gt;&lt;a href=&quot;#Continue-code-installation&quot; class=&quot;headerlink&quot; title=&quot;Continue code installation&quot;&gt;&lt;/a&gt;Continue code installation&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;curl -O https:&amp;#x2F;&amp;#x2F;raw.githubusercontent.com&amp;#x2F;v2fly&amp;#x2F;fhs-install-v2ray&amp;#x2F;master&amp;#x2F;install-release.sh&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;curl -O https:&amp;#x2F;&amp;#x2F;raw.githubusercontent.com&amp;#x2F;v2fly&amp;#x2F;fhs-install-v2ray&amp;#x2F;master&amp;#x2F;install-dat-release.sh&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="vpn" scheme="https://www.rootfw.com/categories/vpn/"/>
    
      <category term="v2ray" scheme="https://www.rootfw.com/categories/vpn/v2ray/"/>
    
    
      <category term="v2ray" scheme="https://www.rootfw.com/tags/v2ray/"/>
    
  </entry>
  
  <entry>
    <title>v2ray configure TLS encryption</title>
    <link href="https://www.rootfw.com/posts/3e3bccee.html"/>
    <id>https://www.rootfw.com/posts/3e3bccee.html</id>
    <published>2020-07-28T06:54:23.000Z</published>
    <updated>2020-09-20T12:32:52.765Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.hostbuf.com/t/988.html">Finalshell SSH connection tool download</a><br><a href="https://mobaxterm.mobatek.net/download-home-edition.html">Mobaxterm SSH connection tool download</a></p><h3 id="1-Server-time-synchronization"><a href="#1-Server-time-synchronization" class="headerlink" title="1. Server time synchronization"></a>1. Server time synchronization</h3><p>Set the hardware clock to be consistent with the local clock, set the time zone to Shanghai date -R is to view the current time of the server<br>centos7 time synchronization</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">date -R</span><br><span class="line">timedatectl <span class="built_in">set</span>-local-rtc 1</span><br><span class="line">timedatectl <span class="built_in">set</span>-timezone Asia/Shanghai</span><br></pre></td></tr></table></figure><a id="more"></a><p>Debian system synchronization time is as follows:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">date -R</span><br><span class="line">rm -rf /etc/localtime</span><br><span class="line">cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure><h4 id="debian"><a href="#debian" class="headerlink" title="debian"></a>debian</h4><p>Installation dependencies</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt install curl</span><br></pre></td></tr></table></figure><h4 id="centos7"><a href="#centos7" class="headerlink" title="centos7"></a>centos7</h4><p>Installation dependencies</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum makecache</span><br><span class="line">yum install curl</span><br></pre></td></tr></table></figure><h3 id="2-Install-dat-and-release-sh"><a href="#2-Install-dat-and-release-sh" class="headerlink" title="2. Install dat and release.sh"></a>2. Install dat and release.sh</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -O https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh</span><br><span class="line">curl -O https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-dat-release.sh</span><br></pre></td></tr></table></figure><h3 id="3-Install-and-update-V2Ray"><a href="#3-Install-and-update-V2Ray" class="headerlink" title="3. Install and update V2Ray"></a>3. Install and update V2Ray</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-release.sh</span><br></pre></td></tr></table></figure><h4 id="Install-v2ray-and-enter-the-following"><a href="#Install-v2ray-and-enter-the-following" class="headerlink" title="Install v2ray and enter the following"></a>Install v2ray and enter the following</h4><p><code>The latest maintenance version of v2fly pulls the latest data and outputs the following content &quot;+&quot; represents the current output content, &quot;-&quot; represents the information deleted on the basis of the old version</code></p><figure class="highlight diff"><figcaption><span>each line of code "+", "-" is ignored</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+info: unzip is installed.</span></span><br><span class="line"><span class="addition">+info: Extract the V2Ray package to /tmp/tmp.RS0y2YR2ZS/ and prepare it for installation.</span></span><br><span class="line"><span class="addition">+installed: /usr/local/bin/v2ray</span></span><br><span class="line"><span class="addition">+installed: /usr/local/bin/v2ctl</span></span><br><span class="line"><span class="addition">+installed: /usr/local/lib/v2ray/geoip.dat</span></span><br><span class="line"><span class="addition">+installed: /usr/local/lib/v2ray/geosite.dat</span></span><br><span class="line"><span class="addition">+installed: /usr/local/etc/v2ray/config.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/00_log.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/01_api.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/02_dns.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/03_routing.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/04_policy.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/05_inbounds.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/06_outbounds.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/07_transport.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/08_stats.json</span></span><br><span class="line"><span class="deletion">-installed: /usr/local/etc/v2ray/09_reverse.json</span></span><br><span class="line"><span class="deletion">-installed: /var/log/v2ray/</span></span><br><span class="line"><span class="addition">+installed: /var/log/v2ray/access.log</span></span><br><span class="line"><span class="addition">+installed: /var/log/v2ray/error.log</span></span><br><span class="line"><span class="addition">+installed: /etc/systemd/system/v2ray.service</span></span><br><span class="line"><span class="addition">+installed: /etc/systemd/system/v2ray@.service</span></span><br><span class="line"><span class="addition">+removed: /tmp/tmp.KojGXm19Pa/</span></span><br><span class="line"><span class="addition">+info: V2Ray v4.27.0 is installed.</span></span><br></pre></td></tr></table></figure><h3 id="4-Install-the-latest-geoip-dat-and-geosite-dat"><a href="#4-Install-the-latest-geoip-dat-and-geosite-dat" class="headerlink" title="4. Install the latest geoip.dat and geosite.dat"></a>4. Install the latest geoip.dat and geosite.dat</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-dat-release.sh</span><br></pre></td></tr></table></figure><h3 id="5-Create-and-edit-configuration-files"><a href="#5-Create-and-edit-configuration-files" class="headerlink" title="5. Create and edit configuration files"></a>5. Create and edit configuration files</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray</span><br></pre></td></tr></table></figure><p>Create a new config.json configuration file under /usr/local/etc/v2ray<br>Copy the following code to config.json</p><figure class="highlight json"><figcaption><span>/usr/local/etc/v2ray</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"inbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"port"</span>: <span class="number">443</span>, <span class="comment">// port 443 is recommended</span></span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"vmess"</span>,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"clients"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"id"</span>: <span class="string">"23ad6b10-8d1ae3e35cd38297"</span>, <span class="comment">//UUID</span></span><br><span class="line">            <span class="attr">"alterId"</span>: <span class="number">64</span> <span class="comment">//extra id</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">"streamSettings"</span>: &#123;</span><br><span class="line">        <span class="attr">"network"</span>: <span class="string">"tcp"</span>, <span class="comment">//The protocol replaces itself such as WS</span></span><br><span class="line">        <span class="attr">"security"</span>: <span class="string">"tls"</span>, <span class="comment">// security must be set to tls to enable TLS</span></span><br><span class="line">        <span class="attr">"tlsSettings"</span>: &#123;</span><br><span class="line">          <span class="attr">"certificates"</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="attr">"certificateFile"</span>: <span class="string">"/etc/v2ray/v2ray.crt"</span>, <span class="comment">// certificate file</span></span><br><span class="line">              <span class="attr">"keyFile"</span>: <span class="string">"/etc/v2ray/v2ray.key"</span> <span class="comment">// key file</span></span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"outbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"freedom"</span>,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>v2ray debugging</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart v2ray</span><br><span class="line">sudo systemctl status -l v2ray</span><br></pre></td></tr></table></figure><p>Set v2ray to boot up</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable v2ray</span><br></pre></td></tr></table></figure><h3 id="6-Generate-a-certificate"><a href="#6-Generate-a-certificate" class="headerlink" title="6. Generate a certificate"></a>6. Generate a certificate</h3><p>*<em>If you already have other certificates, you can ignore them. Put the certificate and key in the specified directory of the server. There are too many ways to apply for a certificate. You can generate a certificate by installing the acme.sh tool or other methods to generate a certificate. You can search on Google. *</em></p><p><strong>1. Install the acem.sh certificate generation tool. The following provides 3 methods to install, choose any one of them to install the certificate tool (Reminder: automatically upgrade acme.sh and enter acme.sh upgrade under root)</strong></p><figure class="highlight bash"><figcaption><span>/root/.acme.sh</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">curl https://get.acme.sh | sh // If the installation fails, please install curl first and enter yum -y install curl</span><br><span class="line"></span><br><span class="line">wget -O-https://get.acme.sh | sh //If it prompts that the installation fails, please (install wget first) enter yum -y install wget already installed ignore</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/acmesh-official/acme.sh.git // If the installation fails, install git first. Ignore those already installed. Enter yum install git</span><br><span class="line"><span class="built_in">cd</span> ./acme.sh</span><br><span class="line">./acme.sh --install</span><br></pre></td></tr></table></figure><p>Install acme.sh through the above code and prompt <code>red</code> to hold wrong. You can install dependencies according to the actual situation, such as installing socat or netcat<br>       <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">centos7 yum install socat <span class="comment">#Dependency of generating certificate through port 80</span></span><br><span class="line">centos7 yum isntall netcat</span><br><span class="line"></span><br><span class="line">debian apt-get install openssl cron socat curl</span><br><span class="line">debian apt-get -y install netcat</span><br><span class="line"></span><br><span class="line">After the installation is successful, execute <span class="built_in">source</span> ~/.bashrc <span class="comment"># to ensure that the command alias set by the script takes effect</span></span><br></pre></td></tr></table></figure></p><p><strong>2. Generate the certificate path under the /root/.acme.sh file, you can check it yourself after installation</strong><br>  <strong>Reminder: There are many ways to generate a certificate through acme.sh:</strong><br>  For example — automatic DNS API integration such as: cloudflare DNS API token and use of global API key acme.sh supports most dns to generate certificates<br>  For example — use DNS manual mode, and many other installation methods, if you are a good learner, you can Google</p><p>  The generated certificate is as follows: This video only uses the specified port to generate the certificate <strong>It is recommended to use the 443 port to generate the certificate</strong> (Generally, a single domain name is sufficient, after all, it is used to overcome the wall and do not need to do so many bells and whistles, such as the main domain baidu. com is not recommended to use <a href="http://www.baidu.com">www.baidu.com</a> because it is the front-end web over the wall, please customize such as tw.baidu.com, the prefix tw can be customized, please do not write too long, the main domain baidu.com and secondary <a href="http://www.baidu">www.baidu</a>. com can spare you understand)</p><p><strong>1. Apply for a certificate by listening on port 80, if port 80 is occupied, please use port 443, please make sure these ports are open</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~&#x2F;.acme.sh&#x2F;acme.sh --issue -d domain name --standalone -k ec-256</span><br></pre></td></tr></table></figure><p><strong>2. If you use a non-standard port 80 behind the reverse proxy or load balancer, you can use –httpport to specify the port</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~&#x2F;.acme.sh&#x2F;acme.sh --issue -d domain name --standalone --httpport port</span><br></pre></td></tr></table></figure><p><strong>3. Listen on port 443 to issue certificates, please make sure port 443 is open</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~&#x2F;.acme.sh&#x2F;acme.sh --issue -d domain name --alpn -k ec-256</span><br></pre></td></tr></table></figure><p><strong>4. If you use non-standard port 443 behind the reverse proxy or load balancer, you can use –tlsport to specify the port</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ~&#x2F;.acme.sh&#x2F;acme.sh --issue -d domain name --alpn --tlsport port</span><br></pre></td></tr></table></figure><p>  <strong>-k means the length of the key, the following values ​​can be ec-256, ec-384, 2048, 3072, 4096, 8192, with ec means that the generated ECC certificate is, and if it is not, it is the RSA certificate. In terms of security, a 256-bit ECC certificate is equivalent to a 3072-bit RSA certificate</strong></p><p>Reminder: If port 80 or 443 is occupied and we cannot apply for the key and certificate, we can block the port through kill and apply again.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">netstat -tlnp|grep 80</span><br><span class="line">or</span><br><span class="line">netstat -tlnp|grep 443</span><br><span class="line">then</span><br><span class="line">kill 1103 (this 1103 is the process port id)</span><br><span class="line"></span><br><span class="line">If it cannot be terminated, it can be terminated forcibly</span><br><span class="line">kill -9 1103</span><br></pre></td></tr></table></figure><h3 id="7-Install-the-certificate-and-key-to-the-specified-path"><a href="#7-Install-the-certificate-and-key-to-the-specified-path" class="headerlink" title="7. Install the certificate and key to the specified path"></a>7. Install the certificate and key to the specified path</h3><p>/etc/v2ray (path can be customized)</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ecc installation code sudo ~/.acme.sh/acme.sh --installcert -d domain name --fullchainpath /etc/v2ray/v2ray.crt --keypath /etc/v2ray/v2ray.key --ecc</span><br><span class="line"></span><br><span class="line">rsa installation code sudo ~/.acme.sh/acme.sh --installcert -d domain name --fullchainpath /etc/v2ray/v2ray.crt --keypath /etc/v2ray/v2ray.key</span><br></pre></td></tr></table></figure><p>Modify /etc/v2ray/v2ray.key to 644 permissions</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 644 &#x2F;etc&#x2F;v2ray&#x2F;v2ray.key</span><br></pre></td></tr></table></figure><h3 id="8-BBr-installation"><a href="#8-BBr-installation" class="headerlink" title="8. BBr installation"></a>8. BBr installation</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget <span class="string">"https://github.com/chiakge/Linux-NetSpeed/raw/master/tcp.sh"</span> &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh</span><br></pre></td></tr></table></figure><h3 id="9-Query-tls-on-status"><a href="#9-Query-tls-on-status" class="headerlink" title="9. Query tls on status"></a>9. Query tls on status</h3><p><a href="https://www.ssllabs.com/ssltest/index.html">https://www.ssllabs.com/ssltest/index.html</a> Enter your own domain name to query<br>About config.json configuration file can be written by yourself, of course, it also includes various other load balancing, reverse proxy. If you want to improve yourself in a short time, you can participate in my training class.</p><h3 id="10-If-you-want-to-uninstall-V2Ray-execute-the-following-code"><a href="#10-If-you-want-to-uninstall-V2Ray-execute-the-following-code" class="headerlink" title="10. If you want to uninstall V2Ray, execute the following code"></a>10. If you want to uninstall V2Ray, execute the following code</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-release.sh --remove</span><br></pre></td></tr></table></figure><p><a href="https://t.me/RootInstitute">chat telegram group</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.hostbuf.com/t/988.html&quot;&gt;Finalshell SSH connection tool download&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://mobaxterm.mobatek.net/download-home-edition.html&quot;&gt;Mobaxterm SSH connection tool download&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;1-Server-time-synchronization&quot;&gt;&lt;a href=&quot;#1-Server-time-synchronization&quot; class=&quot;headerlink&quot; title=&quot;1. Server time synchronization&quot;&gt;&lt;/a&gt;1. Server time synchronization&lt;/h3&gt;&lt;p&gt;Set the hardware clock to be consistent with the local clock, set the time zone to Shanghai date -R is to view the current time of the server&lt;br&gt;centos7 time synchronization&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;date -R&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;timedatectl &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;-local-rtc 1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;timedatectl &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt;-timezone Asia/Shanghai&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="vpn" scheme="https://www.rootfw.com/categories/vpn/"/>
    
      <category term="v2ray" scheme="https://www.rootfw.com/categories/vpn/v2ray/"/>
    
    
      <category term="v2ray" scheme="https://www.rootfw.com/tags/v2ray/"/>
    
  </entry>
  
  <entry>
    <title>v2ray官方新老脚本安装</title>
    <link href="https://www.rootfw.com/posts/f3e24172.html"/>
    <id>https://www.rootfw.com/posts/f3e24172.html</id>
    <published>2020-07-26T08:21:24.000Z</published>
    <updated>2020-09-07T10:08:12.424Z</updated>
    
    <content type="html"><![CDATA[<h3 id="下载-V2Ray"><a href="#下载-V2Ray" class="headerlink" title="下载 V2Ray"></a>下载 V2Ray</h3><ol><li><a href="https://github.com/v2ray/v2ray-core/releases">Github Release: github.com/v2ray/v2ray-core</a></li><li><a href="https://github.com/v2ray/dist/">Github 分流: github.com/v2ray/dist</a></li><li><a href="https://github.com/v2ray/homebrew-v2ray">Homebrew: github.com/v2ray/homebrew-v2ray</a></li><li><a href="https://www.archlinux.org/packages/community/x86_64/v2ray/">Arch Linux: packages/community/x86_64/v2ray</a></li><li><a href="https://snapcraft.io/v2ray-core">Snapcraft: snapcraft.io/v2ray-core</a></li><li>原安装脚本已被弃置，由 <a href="https://github.com/v2fly/fhs-install-v2ray">fhs-install-v2ray</a>替换。</li></ol><a id="more"></a><h3 id="老版本安装"><a href="#老版本安装" class="headerlink" title="老版本安装"></a>老版本安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https:&#x2F;&#x2F;install.direct&#x2F;go.sh)</span><br></pre></td></tr></table></figure><p>此脚本会自动安装以下文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;usr&#x2F;bin&#x2F;v2ray&#x2F;v2ray：V2Ray 程序；</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;v2ray&#x2F;v2ctl：V2Ray 工具；</span><br><span class="line">&#x2F;etc&#x2F;v2ray&#x2F;config.json：配置文件；</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;v2ray&#x2F;geoip.dat：IP 数据文件</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;v2ray&#x2F;geosite.dat：域名数据文件</span><br></pre></td></tr></table></figure><p>此脚本会配置自动运行脚本。自动运行脚本会在系统重启之后，自动运行 V2Ray。目前自动运行脚本只支持带有 Systemd 的系统，以及 Debian / Ubuntu 全系列。</p><p>运行脚本位于系统的以下位置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;etc&#x2F;systemd&#x2F;system&#x2F;v2ray.service: Systemd</span><br><span class="line">&#x2F;etc&#x2F;init.d&#x2F;v2ray: SysV</span><br></pre></td></tr></table></figure><p>脚本运行完成后，你需要：<br>编辑 <code>/etc/v2ray/config.json</code> 文件来配置你需要的代理方式；<br>运行 <code>service v2ray start</code> 来启动 V2Ray 进程；<br>之后可以使用 <code>service v2ray start|stop|status|reload|restart|force-reload</code> 控制 V2Ray 的运行。</p><h3 id="新版本安装"><a href="#新版本安装" class="headerlink" title="新版本安装"></a>新版本安装</h3><h4 id="debian"><a href="#debian" class="headerlink" title="debian"></a>debian</h4><p>安装依赖</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt install curl</span><br></pre></td></tr></table></figure><h4 id="centos7"><a href="#centos7" class="headerlink" title="centos7"></a>centos7</h4><p>安装依赖</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum makecache</span><br><span class="line">yum install curl</span><br></pre></td></tr></table></figure><p>centos或者debian安装完毕依赖执行下面代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -O https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;v2fly&#x2F;fhs-install-v2ray&#x2F;master&#x2F;install-release.sh</span><br><span class="line">curl -O https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;v2fly&#x2F;fhs-install-v2ray&#x2F;master&#x2F;install-dat-release.sh</span><br></pre></td></tr></table></figure><p>安装和更新V2Ray</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-release.sh</span><br></pre></td></tr></table></figure><p>文件路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">info: unzip is installed.</span><br><span class="line">info: Extract the V2Ray package to &#x2F;tmp&#x2F;tmp.RS0y2YR2ZS&#x2F; and prepare it for installation.</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;bin&#x2F;v2ray</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;bin&#x2F;v2ctl</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;lib&#x2F;v2ray&#x2F;geoip.dat</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;lib&#x2F;v2ray&#x2F;geosite.dat</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;00_log.json</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;01_api.json</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;02_dns.json</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;03_routing.json</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;04_policy.json</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;05_inbounds.json</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;06_outbounds.json</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;07_transport.json</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;08_stats.json</span><br><span class="line">installed: &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;09_reverse.json</span><br><span class="line">installed: &#x2F;var&#x2F;log&#x2F;v2ray&#x2F;</span><br><span class="line">installed: &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;v2ray.service</span><br><span class="line">installed: &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;v2ray@.service</span><br></pre></td></tr></table></figure><p>安裝最新發行的 geoip.dat 和 geosite.dat</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-dat-release.sh</span><br></pre></td></tr></table></figure><p>创建编辑配置文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray</span><br></pre></td></tr></table></figure><p>在/usr/local/etc/v2ray下面创建一个新的config.json配置文件<br>复制以下代码到config.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"log"</span>: &#123;</span><br><span class="line">        <span class="attr">"access"</span>: <span class="string">"/var/log/v2ray/access.log"</span>,</span><br><span class="line">        <span class="attr">"error"</span>: <span class="string">"/var/log/v2ray/error.log"</span>,</span><br><span class="line">        <span class="attr">"loglevel"</span>: <span class="string">"warning"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"inbound"</span>: &#123;</span><br><span class="line">        <span class="attr">"port"</span>: <span class="number">12345</span>, <span class="comment">//请在防火墙开启对应的端口</span></span><br><span class="line">        <span class="attr">"protocol"</span>: <span class="string">"vmess"</span>,  <span class="comment">//vmess协议</span></span><br><span class="line">        <span class="attr">"settings"</span>: &#123;</span><br><span class="line">            <span class="attr">"clients"</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"id"</span>: <span class="string">"db790014-700d-9b1c-d987-5aed2afa60ae"</span>,  <span class="comment">//UUid 这个ID可以通过v2ray客户端生成new替换</span></span><br><span class="line">                    <span class="attr">"level"</span>: <span class="number">1</span>,</span><br><span class="line">                    <span class="attr">"alterId"</span>: <span class="number">52</span>  <span class="comment">//额外id</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"outbound"</span>: &#123;</span><br><span class="line">        <span class="attr">"protocol"</span>: <span class="string">"freedom"</span>,</span><br><span class="line">        <span class="attr">"settings"</span>: &#123;&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"inboundDetour"</span>: [],</span><br><span class="line">    <span class="attr">"outboundDetour"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"protocol"</span>: <span class="string">"blackhole"</span>,</span><br><span class="line">            <span class="attr">"settings"</span>: &#123;&#125;,</span><br><span class="line">            <span class="attr">"tag"</span>: <span class="string">"blocked"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">"routing"</span>: &#123;</span><br><span class="line">        <span class="attr">"strategy"</span>: <span class="string">"rules"</span>,</span><br><span class="line">        <span class="attr">"settings"</span>: &#123;</span><br><span class="line">            <span class="attr">"rules"</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">                    <span class="attr">"ip"</span>: [</span><br><span class="line">                        <span class="string">"0.0.0.0/8"</span>,</span><br><span class="line">                        <span class="string">"10.0.0.0/8"</span>,</span><br><span class="line">                        <span class="string">"100.64.0.0/10"</span>,</span><br><span class="line">                        <span class="string">"127.0.0.0/8"</span>,</span><br><span class="line">                        <span class="string">"169.254.0.0/16"</span>,</span><br><span class="line">                        <span class="string">"172.16.0.0/12"</span>,</span><br><span class="line">                        <span class="string">"192.0.0.0/24"</span>,</span><br><span class="line">                        <span class="string">"192.0.2.0/24"</span>,</span><br><span class="line">                        <span class="string">"192.168.0.0/16"</span>,</span><br><span class="line">                        <span class="string">"198.18.0.0/15"</span>,</span><br><span class="line">                        <span class="string">"198.51.100.0/24"</span>,</span><br><span class="line">                        <span class="string">"203.0.113.0/24"</span>,</span><br><span class="line">                        <span class="string">"::1/128"</span>,</span><br><span class="line">                        <span class="string">"fc00::/7"</span>,</span><br><span class="line">                        <span class="string">"fe80::/10"</span></span><br><span class="line">                    ],</span><br><span class="line">                    <span class="attr">"outboundTag"</span>: <span class="string">"blocked"</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>v2ray调试</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart v2ray</span><br><span class="line">sudo systemctl status -l v2ray</span><br></pre></td></tr></table></figure><p>设置v2ray开机启动</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable v2ray</span><br></pre></td></tr></table></figure><h3 id="BBr安装"><a href="#BBr安装" class="headerlink" title="BBr安装"></a>BBr安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget &quot;https:&#x2F;&#x2F;github.com&#x2F;chiakge&#x2F;Linux-NetSpeed&#x2F;raw&#x2F;master&#x2F;tcp.sh&quot; &amp;&amp; chmod +x tcp.sh &amp;&amp; .&#x2F;tcp.sh</span><br></pre></td></tr></table></figure><p>如果想卸载V2Ray执行下面代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install-release.sh --remove</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;下载-V2Ray&quot;&gt;&lt;a href=&quot;#下载-V2Ray&quot; class=&quot;headerlink&quot; title=&quot;下载 V2Ray&quot;&gt;&lt;/a&gt;下载 V2Ray&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/v2ray/v2ray-core/releases&quot;&gt;Github Release: github.com/v2ray/v2ray-core&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/v2ray/dist/&quot;&gt;Github 分流: github.com/v2ray/dist&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/v2ray/homebrew-v2ray&quot;&gt;Homebrew: github.com/v2ray/homebrew-v2ray&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.archlinux.org/packages/community/x86_64/v2ray/&quot;&gt;Arch Linux: packages/community/x86_64/v2ray&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://snapcraft.io/v2ray-core&quot;&gt;Snapcraft: snapcraft.io/v2ray-core&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;原安装脚本已被弃置，由 &lt;a href=&quot;https://github.com/v2fly/fhs-install-v2ray&quot;&gt;fhs-install-v2ray&lt;/a&gt;替换。&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="科学上网" scheme="https://www.rootfw.com/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
      <category term="v2ray" scheme="https://www.rootfw.com/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/v2ray/"/>
    
    
      <category term="v2ray" scheme="https://www.rootfw.com/tags/v2ray/"/>
    
  </entry>
  
  <entry>
    <title>Set server login password</title>
    <link href="https://www.rootfw.com/posts/3828c730.html"/>
    <id>https://www.rootfw.com/posts/3828c730.html</id>
    <published>2020-07-26T07:18:33.000Z</published>
    <updated>2020-09-20T12:48:12.380Z</updated>
    
    <content type="html"><![CDATA[<h3 id="centos7"><a href="#centos7" class="headerlink" title="centos7"></a>centos7</h3><p>After getting root privileges, modify the SSH configuration file <code>/etc/ssh/sshd_config</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line">Change PasswordAuthentication no to yes</span><br><span class="line">Change PermitRootLogin no to yes</span><br></pre></td></tr></table></figure><p>Set a password, enter it twice, enter <code>do not prompt any characters</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure><p>Restart the SSH service, and finally use the account as root and the password for the third-party SSH login that you just set.</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service sshd restart</span><br></pre></td></tr></table></figure><h3 id="Debian-9-and-10"><a href="#Debian-9-and-10" class="headerlink" title="Debian 9 and 10"></a>Debian 9 and 10</h3><a id="more"></a><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt-get install ssh <span class="comment">#Select installation</span></span><br><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line"><span class="comment">#PermitRootLogin prohibit-password changed to PermitRootLogin yes</span></span><br><span class="line"><span class="comment">#PasswordAuthentication no changed to PasswordAuthentication yes</span></span><br></pre></td></tr></table></figure><p>Set a password, enter it twice, enter <code>do not prompt any characters</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure><p>Restart the SSH service, and finally use the account as root and the password for the third-party SSH login that you just set.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo &#x2F;etc&#x2F;init.d&#x2F;ssh restart</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;centos7&quot;&gt;&lt;a href=&quot;#centos7&quot; class=&quot;headerlink&quot; title=&quot;centos7&quot;&gt;&lt;/a&gt;centos7&lt;/h3&gt;&lt;p&gt;After getting root privileges, modify the SSH configuration file &lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;vim /etc/ssh/sshd_config&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Change PasswordAuthentication no to yes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Change PermitRootLogin no to yes&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Set a password, enter it twice, enter &lt;code&gt;do not prompt any characters&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;passwd&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Restart the SSH service, and finally use the account as root and the password for the third-party SSH login that you just set.&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;service sshd restart&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Debian-9-and-10&quot;&gt;&lt;a href=&quot;#Debian-9-and-10&quot; class=&quot;headerlink&quot; title=&quot;Debian 9 and 10&quot;&gt;&lt;/a&gt;Debian 9 and 10&lt;/h3&gt;
    
    </summary>
    
    
      <category term="-Linux -centos7" scheme="https://www.rootfw.com/categories/Linux-centos7/"/>
    
    
      <category term="-linux -Server" scheme="https://www.rootfw.com/tags/linux-Server/"/>
    
  </entry>
  
  <entry>
    <title>速率换算</title>
    <link href="https://www.rootfw.com/posts/20b4bacc.html"/>
    <id>https://www.rootfw.com/posts/20b4bacc.html</id>
    <published>2020-07-24T03:02:19.000Z</published>
    <updated>2020-09-07T10:16:20.826Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="文章已进行加密，需要密码才能继续阅读." data-whm="无效的密码。请检查并重试.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">请输入访问密码.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="7c06bf4204407dd5df881ac98e5e98725c8e1d5b6c67189a4229ee7bd53ed566">30b8cf707bfb14822a9b3111ca4a20858e8f35f5e32a791129e455428ed91cad9d52b4d9fa0b0d23aef712cc796f0e39f3c775d59a81bfa58c2743882fac6abea721c3789e28448136456427056192be7f3a864ab4ee493ddcb5f9dcd1562b9a8c844da8d0cc2b36a1f02874d872dbecec0e8f28fb65cea705116790f6bc46993cdef2945aec30ca97849ed93e5d8360cecb7a7948dc1857003c977845d003b7405d83eecac2293522f99a6d945c4d148ee3e550b11265909961ce58f31ba15f71cdf6947cd76d7f6b8ad7dc482fcb06fdb5ec8d9e0d2f25d018955bec74eee798b4cb9e9248ff9cdb30fae9cb3edddafaa11138ecf7b8d18ad14130e720c47cdc991572387bd9410ca71a7f431c97bc317c53e25878d1b6b31ee2ce12db48b7f7e0cb4401ed2c5c049d32bed37b3733a697a0c0704e1df2abc4ab68d5f470ae751d08acafacb47c6a7555e733510fbb0f8a601a9d912e6f6e81dd9a7860318eb17a0d88a75f8fd84113ff1579a136f4ca169618169e23f1c4f5f83f567f221c78732e701d2c1cb8479da01a89900f2f97e7126cc70e38c1e5b0b270443c3c956aa00efe857f69b37ba83ba45f931e9a20e6ca59198841c381017acfeee331de08b850d49de07d146c106d398b08b99f2a63f5e9ce0fd1f0950f867613224d3cf6b5873b41d3635af1f1d19179836b10e7b563e59125a40d96163d29d4287be124efa02056fdabfb0edaf64ea181d6b2d1138ac631055ab380ab7fc08064fad9c60d9e7436af4be6b640230815ea0a12973e2d5bf0bfb3e653a755a92dbeae917ee4948147a5e4a35548b44395ca889679b2b580b33df070b4e5713f31b546f6edc5d94d43413a84f0368e85371bba4ac867bf5ab0b5ca6bb7393543c2d3b2fc455afce9050d04a93c43eba6e8c9b17d45abe0cf2fa9943df488975bfcea6b828163c080d588fbfc1e2c113fbf50020b4706eff410f7af606717f89f14a1fbcf256aad1f756e5b071062e6c79ed957642e43ca31d17fef77a4402d2353470cee7709d8b21b2107a4e184ec9f2793981a850d4712e8183d27b4e9a5896262ed06c794a7a1c361e7264f0dc80eda6b16a2234572cf4cfbb4f2040e866637767044d666464457c014d811a14badeeb7068a9ad807bbbba9ab637146125829d3307b7d32aacf50876c50521ee353a454b1ee1c489e3ffc627cf4d11424dbb63ce4c811852e0df919347ac3b6b1bb3eeef451495dd5d27118bb52b1ddfd743cb667cd94bf411328ac9ad2eb4d4df9df59f253e6a69cb5716a21b1a6e1312ac1c1416e37b103acec635ecd223ea582976b6c5ddccfdd02f3050c7da99be84ffac5235d1c51198abfdb79c50c2d6d947189bbbe0ef1c98cbed61492d4d2c7ee27c332c4ff41d7fdcc920a2b4127d661d92bf54c4d6698d654a87035bd4c0dc97b6e4705166cf1697c32902a51390db39f3281cd1e7ccfb95c90a08cdb98785caed69f5e72242e63d58776fb959ac6a3bd67d49b175ac6a27330f6ac556a83209a5f9d950566e6ebf2040556afabb33146dc5a10377f02b7e0072b884e067158a417c963e1f6da4c552e18daeeaf3c8bed1cf3b0553cabf97e78c51e1013a18c3b59909e490d1e437990f98384db95bdb68f5a16255d000e0b1a5537a1e6d778a667b85bef0e8e5d0c87ce1717112db04ebfbf67206af618a97e91efc57a91b3611f3201858ccab4419cc0f00665150a89216d8e850a1a2b39aaee69ec0380179a4395e43ca5feab27e85b4ceb130bc3fdf011b2a2e6de6509f5b98febd84ac680e3ba0c1e6253786333ae4b15f41c0b881e6945525f85127723bee9ca18163c2b94f9b0f76508166d21c9f3f1b2e1cfa921f30826c9e375ab27e0627e0ae5ce8aab68163bf9c217d45c75eae53d59a6bfa1f760ff7388bc0a335e1d765ee731358267d7081e62ad09670be2f170557af1759821c5f40aae5d8d69b28f565f0ebd8b64fd30787f46a4070a7cd445f16f0bb758843ea7dc2747321872bf6bc3b5fd0024765c30fc1bca1c819d12bac2d5d74041b27481302c16c0140d7653e6e9f08fe4064382c00dba460a10579325d0e18b20ad679046650cd8424ea9501e930201cb65b978d9035a914760ba0027c61968a287c993032ef469311315fe857ca059dd5c9a3363a1bf575e3e35875097fdac6adf205cde1cbd2dfac1c118916b328e33548c3cf8b7f15fa51324571dd4345386b3bdcc7b6439dd2b6e790328e01d8e62c02b2049fe10be06db0a97bcdf087106f7e017e7e859e63540b08419a8c077c4654cf2659c31477110113b0f2053fd341d5238fa271e158c744b88776e7cb40a88a5771f3ffce787e6e934bc2c5f17176d128682620437cc883fbd668b791e7dbf3bcb1126d849b65d28e7ff6c8a902885b99bc27f7d122b7e094f3982cf9e4ee0ea1fb7280d24d6c25b22484483e3ac8d6e014ec1db749df5aa0171e806c2a9919a44df041047c4ac4259d9e90888f3e156b2e935a9a70d66a5a2cd53a62844160ff0e921898914bfbd2f7c6cdb78c439978e16405f2e991697a5df67afcd9dd9474ccf2e1b6958fe7fdd911744489a9435d599e3f9f545bd0af1d4ac3961db5ceb3672acb404b5adfdb28c4c621fddf82ae901929ed2c2c31e6f5f65ed0148996904e15d8c1d7d7ad67bdb32352553d0002bedc5d38f51f8319a380d9bba17f9fa69aa159c9599309a1878253f0810b5c577d269960147ab72f9e44debb37e638209b004bc652dc02a0ed4463c5990b02737995a8676c3da25f19c7c997f3cf9d0aa92d759d32da5b9dd3d72210d09281e9dafd51b6856562565302183ba6dd34c22e3c145e135832a4c2dee184ad4d4fbc0140f7f89e834e4dc4b12cadad22deb58377a55a26e88ae5000cdaf588752085a10048934d921dd5534be6534e892d5439f1105e16c68ce7d9ed49e1c11311575b9a6bba22f5788075fcd33a9426625d73fd307849557dac956eef52d791e13071997521edf289fa922fe66346fa1e9ae653ff434b23f57089704dc75c7b8fdecc990fa705c7cc6bed4aec3b1eabd4d3f841fe104bea61b387680199049684cb84d807862074db33a36c601cb0c35bd84480585a536901c472cea7933d2312a746306d120c3013ec224026e1d8ea3c72d8236755d7eff83c64946a7ed0f3a05c5aee01e7ad67250f4c6a91d10acccd1684e8edcfea06eef9083443dc0f8fd2ee57ed735a8e6c0a79964b74c9d6222a00a42e05648a01f589386be83539d9818e549816cc310dc380993fa5b1cb7a1e09f2bb47daaf5e92a1b8b268e0b3388a036c1ab1a100887efe7ef0ffd3d4b7b6e559584ed0a46d600548a5cfb51007667cd98e76d3366e9afb397d876a4d8205643dd831854054cf848f01822807046bd6efdbe8e2e19d6f5fb58c353f0c667f98730f2c8720e4f00a34e2b6d28459ffaa9ffeb814d4b1b16372d259a4f149a6ee1341a6e2eb27d10336c77d5c3a9364e6016c74ced37649791f6f5955e793939110168d16150b3bf76a5f9174b013471915cf98a573692a05e5feaf4ebb7377be8f977cb45fe65383bd61622978aac71f3b40cb0b5b740feffbb6617ccb402ddc11af476962d7761b6ae7feafaf6276a273ff665f1f166a66ba511582648a84d912e35cd5c456372ad8fdc15104a9ae01b2ab7702674f46bc70c0fa755e34422ac713ba4083d36b2b9934840c013d118f9891c73a7f8d25feceb554422fd9fd0637ea8f6457acfac2a2524182aa106de81b0982d8c24b8ebd0c11ffa04db46</script></div><script src="/en/lib/blog-encrypt.js"></script><link href="/en/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      无权限访问，仅提供VIP用户学习阅读.
    
    </summary>
    
    
      <category term="VIP培训" scheme="https://www.rootfw.com/categories/VIP%E5%9F%B9%E8%AE%AD/"/>
    
      <category term="文章" scheme="https://www.rootfw.com/categories/VIP%E5%9F%B9%E8%AE%AD/%E6%96%87%E7%AB%A0/"/>
    
    
      <category term="v2ray" scheme="https://www.rootfw.com/tags/v2ray/"/>
    
      <category term="vip" scheme="https://www.rootfw.com/tags/vip/"/>
    
  </entry>
  
  <entry>
    <title>VIP培训课程</title>
    <link href="https://www.rootfw.com/posts/4b7bc44c.html"/>
    <id>https://www.rootfw.com/posts/4b7bc44c.html</id>
    <published>2020-07-22T06:56:56.000Z</published>
    <updated>2020-09-14T05:44:15.084Z</updated>
    
    <content type="html"><![CDATA[<div class="notification is-info"><p>精品课程开课了：欢迎报名，多年实战沉淀跨平台，梯子源码解剖·一键脚本如何写·多服务器中转·匿名IP·linux实战·跨平台实战一针见血开启您的学术世界。本课程内容不在任何平台公开教学，同学们快来吧！<br>感谢大家的支持，原频道Hasan W已经删除不在更新视频，新频道大家可以在YouTube自己搜索关键字comebey 或者 [点击关注]</p></div><a id="more"></a><h2 id="课程目录"><a href="#课程目录" class="headerlink" title="课程目录"></a>课程目录</h2><h3 id="开门见山"><a href="#开门见山" class="headerlink" title="开门见山"></a>开门见山</h3><p>多年实战横跨多平台沉淀，前后端，大数据等等！曾走过数不清的弯路，开发过主流某<code>知名</code>源码架构。因为某些核心点网络上基本学不到，必须不断实践总结的经验，那绝对不是任何平台能轻易学到的知识点。如果你真想学点有用的知识，方可报名。</p><h3 id="初级公开课程"><a href="#初级公开课程" class="headerlink" title="初级公开课程"></a>初级公开课程</h3><p>1.所有目前主流FQ开源部署，源码基础分析<br>2.各种服务器初级流量中转开源部署<br>3.各种机场模板介绍及基本部署<br>4.各种前端后端等等及习惯网络知识</p><p>所有视频我会上传YouTube，从最基础的学起，涵盖所有目前YouTube主流各类FQ原生部署方法，各种网站及博客部署等等网络知识，大家想学什么，可以给我提建议或者意见。包括一些基础的实操。我不想和大家灌输太多没用的理论，我也不想像其他UP主说相声一样，真正实操起来懂的真的没几个懂。youtube讲FQ的圈不大。YouTube缺少真正能把翻墙代码讲清楚讲透的人。从来不缺视频内容搬运，和二次创新。随便找个别人写的博客内容，拼拼凑凑。就开始录视频。最起码的版权是什么都不知道，一个不懂尊重原创作者的up不值得尊重！甚至很多朋友看了其他某些UP讲的视频来问我，说实话我感到很悲哀，如果他们解决不要你的问题，为什么要执着去学他们方法？因为有些视频内容就有误导性。但是反而大家就是喜欢看热闹。并不是点击高的视频内容一定优质，好的视频内容，建立在原创的基础，视频内容发布出来是能马上能解决你问题的，<code>一针见血</code>当然这和个人学习能力也有一定关系。那么在这初级阶段，我讲的每一期视频，只要你用心学习，哪怕多看几遍。我保证很快你能学以致用，且融会贯通。当然大家请支持任何原创视频。<code>公开电报群一个</code></p><h3 id="中级收费课程"><a href="#中级收费课程" class="headerlink" title="中级收费课程"></a>中级收费课程</h3><p>1.主流FQ原生部署中级培训，深入分析源码及功能实现，及相关理论知识。如果基础的理论知识不清楚，就输在起跑线了。<br>2.服务器中转核心知识点，服务器及多服务器延迟测试及基础知识点。相信我中转并不是那么的简单，当特殊人群需要特殊服务器做跳板去特殊地方匿名IP会开启你学术之旅。<br>3.因为特殊原因其他培训内容均不在博客中详细简介</p><p>课程针对真正想学知识，尊重知识的人，主要是大家遇到各种问题以后自己就能解决，培养自己有这种能力。大部分遇到的问题我都会让你自己亲手学会。linux系统各个版本从基础代码学起，结合到各种FQ服务，看懂核心代码真正的含义及基础功能添加，优化自己独一无二脚本。只有看懂了代码，自己知道如何优化，基本上你再去搭建任何翻墙服务是非常轻松的。包括其他等等系列课程<code>中级交流群一个</code>排除一些广告发布商进群。这也是我老群的教训。 费用366为期一年，每天一块钱</p><h3 id="高级收费课程"><a href="#高级收费课程" class="headerlink" title="高级收费课程"></a>高级收费课程</h3><p>主要针对想通过这个行业想变现盈利的朋友，各种FQ脚本深入优化，记住是深入优化，或二次开发。如何写自己的一键脚本。外贸公司中大型穿墙网络代码部署，外网访问各种功能纯代码配置等。搭建机场高级进阶，各种服务器深入学习中转，机场网站前端代码优化，后端功能添加。前端web css。网站安全维护等其他核心知识要点。<code>因为特殊原因其他培训内容均不在博客中详细简介</code> <code>高级交流群一个</code> 费用3685为期一年</p><h3 id="一对一课程"><a href="#一对一课程" class="headerlink" title="一对一课程"></a>一对一课程</h3><p>针对内心有迫切学习的欲望，尊重知识尊重版权的人。远程或直播亲自教学，一个礼拜脱变之路。课程不在此公布。费用5680，添加本人私人联系方式。笨鸟先飞！一个礼拜后可进高级交流群</p><p>所有报名截止到每年9月1号，在一年课程中所有学员中，我会选几名悟性高的学生一起和我共同开发项目。所有报名的同学请保持互相尊重谦虚的良好美德去学习。知识无价，请您尊重！也请您尊重知识产权！</p><p>以上所有视频为comebey原创视频版权所有。收费课程按需求选择购买，收费课程为本人多年实战总结的金品课。`</p>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;notification is-info&quot;&gt;
&lt;p&gt;精品课程开课了：欢迎报名，多年实战沉淀跨平台，梯子源码解剖·一键脚本如何写·多服务器中转·匿名IP·linux实战·跨平台实战一针见血开启您的学术世界。本课程内容不在任何平台公开教学，同学们快来吧！&lt;br&gt;感谢大家的支持，原频道Hasan W已经删除不在更新视频，新频道大家可以在YouTube自己搜索关键字comebey 或者 [点击关注]&lt;/p&gt;
&lt;/div&gt;
    
    </summary>
    
    
      <category term="VIP培训" scheme="https://www.rootfw.com/categories/VIP%E5%9F%B9%E8%AE%AD/"/>
    
      <category term="文章" scheme="https://www.rootfw.com/categories/VIP%E5%9F%B9%E8%AE%AD/%E6%96%87%E7%AB%A0/"/>
    
    
      <category term="vip" scheme="https://www.rootfw.com/tags/vip/"/>
    
  </entry>
  
  <entry>
    <title>服务器之间延迟测试qperf</title>
    <link href="https://www.rootfw.com/posts/70b5ad4f.html"/>
    <id>https://www.rootfw.com/posts/70b5ad4f.html</id>
    <published>2020-07-08T05:58:05.000Z</published>
    <updated>2020-08-23T12:04:47.870Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="文章已进行加密，需要密码才能继续阅读." data-whm="无效的密码。请检查并重试.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">请输入访问密码.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="688f58311a3852dc39b24e263527f709a6fb1819e9f8444d3247ac68ae69dee4">4685652ffaf303450fece6b01c69740b5a6f043dbc3868c6247cca10a5db3124e15d21b32374cb48446f356aa3ffdfaaa97ee2f340498d39660627affdb5152830262557be58bc15cc4d42c0474d5434a4d863189ce221ca1fc73dca4cd65c1d65a95ebbf37b85bdddd2d4ca0110a46c27b595dd3c78ba0264befa057c07e828f01f91577339befc4d689be25380f39e9815d80d17721397fdcca86e32aa7f4f95084109892e17cd9865a5a88b06243b2769507f6942838ab47a5d437c2b4a5f45710ebe7c2103243064b457779c94ceea412d42df0ae8c68f53df197dc418258155d6b863a299f9f0e5bb73547d2fc06788043009754c69f4ea8638e3c317f20b26cbbeba27c97a0e899a43c3f0c7f4456b77537523ed8b329ae7eecde56703221a9bc391ff70d0ac741a4cdf58f8892ed93af0649dbb8f798696ba7db7606bf363eed2c03792b1eaf9068eb804343f8cde01eb2245ff02917cac4bf02b62dc9f2ab7a0c50d72ed152a8a1dac02a2c35fe42587e5bcdbed63936f55b19f2558b9e6b64d7724df4978daf81a241a497512b6805c070834e653e5ea8841f20630c9052693adcadf6e7140d93bdec940639fe0388bf9c08bf478d3292aa958528caf49c9a06d18c54d46849028c2beedcde02fd3e7f79e3fe8f0d0a8c3b8ad49db0870a0778237556ee4f37c2d817bde23e6d9dd1e3f1dab4289c2188dd80446967b90c288eba8b0423a848ff1933209c472cdb7cad449b66377b44a772c91cc529d9baa551624e6ea70e795c29b29b81d1a15a87ddb3ccea55ad19870dd888bbac6b31fa73e3ffa6bd75f41ca9d3d305c6ccc3aee44b0f2ce9b76e05252acf03873ac81c80615c924e7319723b1dc08508937e74f72ce2a7dcd112ca13613d1af0174c7c928f13d00bb34c83191d3c22037bfc58adfe9a460b1473b0af393d56bd4d30460a1e079677c8f64a179577004b3aa0afc8e83fb75d56278286f54269f46a0fd1e380fb79d1793b346b0b6255bfa7c0c1d6f884d5d2b3a8eed4e8a2e18830391577e7794e8b1031cdf53be26b66d20b0e78791910df178934eea66ec197de9d9e0e37778f6df1a96c374b4f7d23033b36fbe40a74073cce29d197397ce4d0842a28c1316a4ebb611f1ffdc90da741f67c0bae5afbf823177cf81b76ee8f3e584b5e014784ab9ab7ea40506d38ce4a93a4d2f95530cbcf9e8eaf57a0391bd3065237924763d5ed7db0cc236fd23a5490cf97c0c208da0e3528efb99f8c90f273c4571d3003511666e22aab29bd9c0441b6d112f564e666099d418324c944750d45ae9c7c5b123f9f4f784419f04cf010a57ae8731602c0110be2de08dfc329c473b1863f8bc2b0ab41e64c48059ebb3da506e025c816214db06b0702465e52e5cf82e0edaf64878d159c502601cfedd397b9ed8a709237563392c9019d41ff77bb72184ea19f1a8aa00f155ee90990cb3f3a21adbb318298ffcb2e0c03126b2e6be67f8c079504d7260b357639270ef6ce5b5e8fc9340393516e6a7635c26f0d70154ac3e4bfbeea0fc8c40e76a35e66f914d13735183caeb97a617e3a05d9cc5b272d8044930740a5a0e21eedeef8ab1bb365022bba2d731f65d525e407ac568812a18d7ce99776ddb021f08ebcfb61a8f2a2f3488650a29c67fd9204960a9a0738c28d9a05de4d2468de9c0f78cd63567b6296da1e6c59483818f7528ae847b537a34b85faada634bc35c6537ea85aa42db7e37d5d9c8c22cecd86434056a5e7e90b93b8d431d0c50efddcaf3369b1bcef9ccc23960b2df722205bc82cc0d0107c7bcb3fd93298acb9b6f54ac01581c7b938e9014fad4dfbf56404c86c06b96920ff6dfb9b01307215e6379d1ff5806ece9d1f30e0878a5fcf8ad18d093f922e795519224f1c61ea1e2b286a6664f57bd8eed1a07ab0c91c1cbe8f32b0c2843d888507b58dc661ca6d1878e8d5239121515e9c6deb9d1929fa77d3885c0042d06e6e57caee6542813371b413946e73e549c298cf896b1251b0f079e46bdf29e28f0b7ed036cca99f434072de9ea7f4410f37f2a378cceebb4cf504a16bfd6f54ee527b1948a784de0609f3ee4ae20e72f2f341abb03a09a621ba83df0f96dfd704e10e95af1225903f9bf7157e420d0c51e473f4d7f3d8069caa3294acc1fd86974aaed533bf69d6065cc5bafa11a2d022728939f9ad290247d9122dcfc11752ef006c6595d3045ae5d58b90474aba633fa06fd558a42829fc38686df1765f2ee51bd1612de3c6f77103435ec1f60c4417f51eaf08a86f28c0edd56be6d43cdd65dcbd55a73339ad7ad9263c8301078ca11bdf4244477f5895eca65b33478a88b68d0ba49c17c589587987a23bfc6051e55e014c2cb763ce00a3d62b5d3eb743ab3d022c93aba19a9f512f887ebc0329b3a4dcdd66bab11562df7a72c670958caa3a2f1df4338ef9e2babbdba1972767352066a88d8dd800fd010c93b4923424f221808bf5f098e01e1c8afa5748e05751c2af9152da3cc460a20df31d734e0de5e2a219961da2e2a2e5d0a3e27e19d37739045d23bf7677fbc19c416bbdc3af8918f734820ab53d5baf6f6d44e46821fe6203a8ad1101f46561b40fbf1cba3eac1f6f52203c7e7ff19814d8150faf029398d63f8e8025e0437bb6efc1bf924062b82e628e2102ba65fd42fe7c656dc7a42428f89fa813d951802b40253907ec607ecfc0fdc4db8868bb8b3e1e6f00537cc872572383525c847efce2e8afff211f8e35720a3d7c2cd525b0a968a5fc3d819f206d88023393e04fe912334da696093c229256f96a37ea3b33370e42a61901bd0af9ed7bc9df9afccff58dcdbe264681fa8073f178fd7851690c6b5dc87686a9250c5cd15974bfe9ef1ffcc5ede60b1c3d7922ab08ffa77b9c0a6426368fd018a5510e6bc24c63682cc55926e368daa0261756f979bb246f8a3bc0721b1fad249538d085ffdb3ee9e9e9d57503ae5b4d3bf3d25ccdb0c2244658012eb10f05df11dd2e131b62e4ebd93051dd4bc2b991be907e769bc2db4feeec900bcd698b495330d7b1a2caea468d77ca174674adee03b2f04dbcd263b86a1e070a2147283c5874d7190653b5cfa63326f5d34f9db0346de8f7144b8980178e1daefba740ae9180f4937fd2063e2bd436bd3ec33bdc6411b7190f57ab506a80374ca3409c9db446571e593d1eb68316f8f75f611b409d894f01f4f582ec42ec047da0a4b1fe8fda75fd70b020a41438fb1e120afca754757bac1d8912e9b059ff0c4be3467492f0eb60653cab395b60d2b3613d4a36247af9e29cb1739386313090e5a755edc8c97596c7f213d319665413ef0f518116ccd9e682632d0bb344fbc9c09289477b490daa7b62bd69d3322b1ce3faa10a97e2b822bd5aeacccf974f097a5f885cc1c1efa597d3fcdcb38bbb1e07556ec0e48949bdae77c9c35d17e7fcd3dc777eec408cb33fef1c1efcaee31afcb8d75da99d330aaaba9c1a3036e61cf7f70c0c9a33b7d03146b915caa530f58a63ecb6b927d83f9ece819505ce8d85be343a2c1906e8e09ff4f4328cd2a85349c5a27ee62bc7ebdadf13c3323977f6068f681919d224906f4c936ab6fbcd7785f4a7abe969d2bd29c2d2fd503813a0f5fb2bf7cca4a41cca994f74163b939d6801397bd324171fce79f0feb9551758b44d6b01feb8f1c8d9eec4fa98476c5073e5728b0fa2d61ab6637468a6c1cd251b3f8c74972c011e9c55bdcc289a0e9a15157730457e367d329168fb83d44b708e2e785f53bc52428f454c681cb5b60a73e7914a6219bf3dbada5ffc86c5ca073770b9dbb9c8aebcd583deb435e3c6329e79a0301db77e54ec40eb0621ae0e7190629852d21957b270c024d32d80d587634922f3d9c33a45468faedf3686b2bee4296beca2d6e7ca447db3dd24f70e0d988a3f5f455fc7253d3c02e14a9332376b58bee421e2b4487528d74edbc67ed553bda6eedf337c27b5f09462502bc637e6ad0faeabc3abc87110a891ed3372dd58088d29bb118b09cabb2364f0603ab22a643c1fd5d3b56ce10e23c76f13e3d4f8abde7e845a3f57898231a9fbf7af0039d17f293ef3bd2e01dfa42358038ebeb5855e41b74d823da9f0fce1315431c0d808f6524985b0cbd2e022430706cb856496693ce169cf5305b0d21d1ae89086b0a3eb9ca7c6951a602288831f61dc5e3cf3347fd25f03f8a7f358d39de54a7e3a21586f81b475a9ce84ff25aee9fe47a9cb1de7d48c3d82fbac1c5069b3ccd655de5f4f2a68e6e22b1e22559984880b03464e53474e3c68fc67fc042ac707263a450a26e7970a322bd08078abf20e891fc86dffcdb8cd187c28148a8cfe4ef09aa001dce092b6f0c90fecd71887b352dd7fed12c27efc0dfecb9b6e4a0d607e218ceb5853ea8ca08d7c143b77ae57947a82ca50af6b97f1e1802cc3534e314fbae2b6822ab50ad57b13952fb33f2f70422ac1b5ed38b3dad9c4fba4367d0b0d1bf8c713654592d676dc9b2c718d960f15451629a1f8b749254f5b481ce236b45cd9181cd5e7e8e415b89384bf54a1a4f6b5e8b1485f4d0aa8d38d1230bee544c306a501eefbaf42bdbec533410578ef41f86b9c13a1681c50b340bcfaba89beccbc4ffe352c24a65f297500a5013719b7e252ca32126d28628adf7fb6894f18f29f740d7911d7f38222e6b0e955722b0e0012fe6cebdd0ba9d073c1807f6002a05de8beae101cd8cd7613acc8530fb2d58ba291c129b93b682e13b78575f765b2a72e170cbb0ffc4abd6bb1a16921f3c3195972a00a244690577e3c0969605e7a14ec047982cc89b09ed8a55ccd1b4dfb0e871b229a6753479a1ae76264314bcba1ce7708745e7f002e79709e73a32b54c5e795b5eafe71fb1b9366f789a01ded3b858df047e7ffbbf8157a94c92423a0db8d275ecf32a5f2668c92e9124f5395197637da888e66a49f59b72b28195cfd5ce573d4aef252d8c37adf1ff5006e540c1d90697b9c4757098a6cd097d13f3322057eb205625e923cf179072c793d147236db2d22cfd8f2567d1067eaf67c26f3d92307e651cc628fc2cfa5c4948da0d84346099bd1bbf80c170ecdf8663f484eb323e3935004cd17f83e153383654b434ad70d331a2568908bf320820506aa1b554e67a3e35cb28a69f663a151222f4ee33fc26bb9712bdb8a576ffc1edd8de6fe8c3e6f75628d7c52210c11a3c89bd74b049f87f1668f8fea9e613aac0eabf8d36a4e15a580228948c9d326a9781eb54876a56659b5ed05ad9696d13006f16964d674af3ed185939e77dc5a0df0e9e03a38531c0859b54df910607e41905cc0e263167672f5cc7561b2e28e19b018047ee371cbdf23085665ffd0aec2e0259b1ac70b78b2c66e14cd0e4fb8f98802240649518b7317f218c33a13a5fb4d6524201fa36e932778527e2ede5d4f3a9e36689ade22c7838bc5ae195312013e143bc917462782e7d95744d7dfdba4178665cbd810f2ae528b4298f7552332b54aad3b813312ae38c546678fbab895e8136e3561ac2412305efbc0023cc0a449a9cddd2b2093867ae389b2edcb5f8dad6ce4bd0322e756b0f601d542633f45e92a5b37fbb3ea08bcb93a6d925a6d172f7979ab289865b8a4c316e18f4499454f75d8d9518f8071a15c7819c83ab65605818ee35bf3b2eed7fcf90d26162961a957879a819e4634079a0cba964dc2edfccca381e9bd506c165da63490f07d955cf04f8a4bf2b9e02b4880f392cf0028131e26f77ac3e049e825004e140e0bdab7613cc2b0b5411ca62e8cd1fe8c690299b78636e2da644ad19548a0daa3c0bc805bdb3e149add9486f65c1126109c005a5efce8b132cdd48e2f5bfa5065bdd867fb0f9ef7f29ceddb55f39fafd4158cd65e1edbc45e6c78622943aaaef570b916453275e23b0df4537b792ed94719b340db03d63085b57ff15b197f907e9813d7e5188ee1d9380d4f45a737c60eb64df79bcc6fe6d9b76d0852eea9917258838dc8ac4b3d2ad15ea4395a9762cbfb9a455e7e1abbaac1a8d3f73a3080e85ad02dcbb5d96a87383463dc300c45f56562fb2f9784308c415dc74080793a26ac429a2fec3b8e44c5430f604cb96a6c10a74287e7769871492d60948378ded1825492c13c06a13ec19f46169c04a00c78ed3723577d02b020caeb757601387b6cbed421637ab6c36aac2f52c64153d378bc8940eab50b93b9e2d6c2d31ea3e43af3dc1e1cc20fdadf40fb0fd12413ffdca6c2884012425541d54d902d56da0d7dbc2d6adc15360cfa4fe01689a8db0c8b3e9d603e3efe8591fb65c9e96c435208c43bf84b5140717161a296f88453e08d70457956df58192857d8e8e1866b0cdbf1a72b2d57a9cc615f4bc6dec17d977f8ece584a17645b54749b0733f64c2885c52c39ff03e608249d57e8f86de5a8f8c0582e1c3844ab3ae4e9217e4513665cb41bdf6b34e03287f3577748ede6aba6d86891be6a8edf85f4c955e52c5c20030a6d082093ab192bb98e16ef98b7692029a702de4c40f19f185fbf85e7e696e04f2a70f09b09586726fac5cdca0ecf544ff4c28285ca92316c53f6abc7ccdf7eca8215bbcfb31947426388c66ddb57be4af71cbac72c4e2ef9e9f6a87d3673b783bc739b31467941d9b11c39335fe22a5b6d418b348305af3d380554858a0c446916afee006d5e75544469bfe2a4424fa85ec14ce51efde518a487a701b0ba2233a287e3fce42de1bb4783b035fd62e9f2ff1966f21718716644d64c50687608b83467e8e59775f07aa5384e7b4e6c26f8661140e40e9c022714d4f39a0365d24d22fed1b56e8eb9e02f159601a93b1b0c0fcd4a52f487a0d6b9bbcd523ec63ef36616312a0054b42fa8b735ff0245f31908011f54b4dfc15d047b53fb1fe0d169b6fdd322d86c3f66160d9170ccf456636b28fd3f41a089aebb5a295b075832b9054df9cd5cb8fa3ed3765ac664774f15f93767efb09b603a7e7a9a63263127dd387b1f40c228b8821786a6e46f31187ea348e21c2294caef32db6bfe96443faae6fe38299af6fb92707194461f3e953ff1b70fcfdf3136c8e0b64105846b926205f89de1c1681124c995b642af3bbe55349d46c808f410adf5f02bbe28c7c2231fd9ce6e5046a98d0c1f88d0316bd5693281ebd7faac4ff3cc6567bb9277474af4dcfc2e76525c99d9e58175262d2c82865ad76373a0bd7bcdae362f7aab63bdfb9d8b18a67c02d104f2ad8f273a0c4ba7f14c1836ba68d72ef4607b9afe45aefe5c55ec0fa611a8816f4204237cde931a40e4fcbef24b5d6fe163ebec00bfe8da09f34a83b6405b2b5c191ca221cadf2f8316997e29ff2d98da2a099ca3ba3c8cff5eed5df69740c3c5f013a5b3b5df9f27a9593d4a4dfd9bde3c980d459f94e561cd249dad21bd8ac68fe68281473b33864bb90977a4806659f60c953a29c907c30638415646902278e3f0e95c843bfc32099a035e7aca4335e6d2caa13c850643e4bcaee18e71c978ca00075c7bb4573c1a9882a5c962254b0dc3c68d132be6cb189e3c74f03986d1d55a8d172b487348c054402e60ab74e572f331b1fb2fc9b015a54629322e9f3eabf8d30896b0929bf8f5a6a106c3be6a5ce456c2e64cdaff3bdd15158ba8892ee04cb26aed15faca320c09dc42b49fc8f78c44c059ac2282ad160c697bec901e2914b6c96bb1223b21f7efb94cc06bf9faa35818458ee1c894d98733fe2673ee455ed2a62e2362cceb19c32aadbafa6268b14b4c160234448ad34fc89921395b4935d694d29eb8e6405fcbbe3137039148518b8aa19b53a68f3641ae9ee209d9bb56d076b058a9dc6626182dc1fa2ca87657befcf3d4158a8d5218de9e419d2b91cde3a0a48992279f24da9762ea3868e24e97c131dca85466aec25c4b0befd102338744687d53ff7935375bf4b7f6c95cb56e2415a4475d957e0ff084c3d3400166fa19d66f08793709c16e3478a17e3c694fc75f4553b04bc9127af77682d6665af9507261c37196d652b84c9b36f03cf3ecec376b727a77d20ce767ec18bc82a3067ca589898147c714bb165f6173105a91801b046001a7572d166196fd9db5ef779f76dbac7e0cdb54afb0b6e7018b5db35a1c106dd884e16f0101994517ee5c588a25d525828629671d7cfaf00ac619456ba28419ea308c288e6a5ca9ff7de4cf93cfd4061d38338c40691664e69a8cc5a7958c31919aad0794e9ba3503109ea155443710d97a73c1510609eefbc8d14ce29aafcf68aff704fc82e1225b59b9c28c82e77ae72790847337a245beb8e6c93040c8e934085bfe13711dd57ac55d164d03a3d094e933bfc3f2eef49259b884c6404fcbf39ead180279c583bf6725d7673ad7b0c48b8d434631c9a1c8825388a64f3d81214df585363134c0b16360e590800d81adc29d91675effb862706b8efb24c348872bff811029e2788f8be0dde343fd70c22dcc51e77b21795b69a3cefd42ea2b0177a682af440ef2c6400e6f048b23dd77a1f8c1ebaab3a2e08333fe06dfb24333d243a317eeaf907544237284e28b3c03ffb1e083c0ae383cf577767fb062826edccc34f5cbcfc3f950b7aac0f271ed5f9ca2dfa1b9cdaaf168377fb8b65cd9af687f3d0b236640c603cb639383a253dfd8bd5373e6ca967dec7bc379d120003bfee7893f9bdc13b2b2a664d5780745733f4772b18a74626cdfc0cece7efba2171ac57c0e8c82a3806a006efe8ec765736e46692947bca8e89a36a5cb3aefe45336075fc6d2c0eb1a405143a3a1acd51b7d719cf77aa71c20b0f81130a6d38ae09fe022a8cc7efbe98e08b065d5f9bf5dc3a4d089edbf5afa37f35ed26d37d70540d68191e8cb6bba7b06c15e7824cac36bb3da7cadec7021b1c7451249cedad0cf14287722738717ffcec4facdceca2c5ca6061c0f63405c33ddcb4f7b657ef4285a14176e979d5261e823a602c2de2b2743a99a27de699dc4ebde9b38dbf56cb7efcc1671fe86ee44249d6f18c0c014cc398738b8964c9f7944683c2bb95742e79bdd86c5dd09ff37dae1298b41c351c3d14290c36336eb27aa34b5f2d7b35e28458b67739308c97819711a1b40da39e09b650420e7c7058f7bd68ae8ead39749d7b7624399c8cb06e5930599651991a3963080d7536b1a482a63d6d168b4df749787076b265ac4c492b5126d4c5b408740b34bbcefd3ce3454c705b38241efb9632052607b9490cdf50fcafa33924cc85c7bed8f74b5fe2a1ac99436baae972afaf90e2013dc61b05e241b4eadce20171d37a0e87a9941cc42aa6766ace478785c974e5fde6f679f1c64923aab14c34f408ff2d8b89495f76a4087e4807ab60b20920be9fd4b67f6a44fbadd05493756e773458f19ac4a05aaaa5cfedabab9a351e68e81b80fc63e8ee06a3be0974a936789ba203a01dd998bf0939ffe055541f200abf837040aa7802aaa41cce8b588d3fb59243644381136d96297b05e63f9f50fef9664be710d09be4b187e7195034cab382f54dbfe40d0130de987eff51247671b1bc21d87a79736f56781031e69d978fa0cfe43a72661be8fb2abc722f2ff9f7a14d21bf0a8cba9debec99f2f69accde32b5bcf17bcc05a34e2f95e2d614ff814a99299a642b641693eddcf0aa5926855c22fb4498885b34f93a1fa689de73469bcf7a1159f89a343f348c8b984b0828d4a2e99e4ed7c2f1c34dd51dcb6e1e022d7cc2facfe6c8726778e00e740b936cd3175dc2d7bc0663abd24e90517f78d6e4368ea47e5f6fce4f26d2ea6b20b7f877d205165269fa6254a8bb7a36f7d211ba54eaa68baf3dc0594ea27a7829275b17d78ba26161d2254f22597b72e72eed3ce8e2bdad576de594917efa7b07871730f8a241746995c6ea7a26eeded4b40ed22e0095600d408fae134af0cb1fab4148b6773e9984fb85140beeeb101d181d7ae3074e671f95e9011badbcd27b144558714f24d1cbf03615f7c5289c99a10d1bf4d20c0615208e4f093f2d36edaa824f0b7f2b0e2e586c6ac592fb5a9e70a31ac75f78e7b4a4f0a32fac05ccdf9424a5e78ca703bafa2b801370a1d3f79ef84bd6c1168dd6a5c0a2c8090ad3b792861f314a1e41e4b1fb5d3eebbc92011f02e2a4d6064fa3c029e243f29f36441ab6f13f893ff36d6fce36cced27bfa89552c4574f835f311e41d68347dfb18d1c1f1135f917e15f29197627d987374629ab87aa5dae095af971fefbc5f0b898f42ac53f0a77a2f7580979bdc77958046c598269475e9a83527052f966e385086c3b4055bc46d9c2294e89da3515ebebd98f8a8aeee027aecdc70932a5376ea8d179418a59efca15b3b50467c2c64926c6ae31df38acd9896d268e8ed3e0c4a2d5a90c5163f8451c881fb6d8655b7fcb3fa92f21650153bcbc7a1e6427a4d400635a5de3029c2871912cc769b3036b87f0fe2c5c391ecca7df70d75c9c9ae3ec1b29e8baea320d36a2a2057b76ea20f4a93671306482954434067d0f17ef9669cde341757208fdd29154abe042c6c94af4b8367c361ba1a47119c1ab1b7d926397edd208069cd48cf76a4fab307f260c86fd3ead60b5a761e694e412d9f8a26399b3fe06b2097de986f14a839af8644e23812191a480c15dc9f65a08d854d9ab97780e4c54093ed298603101773922a8f55b55139cde8573d47948783e22fe0b57b6c7765e8a3a4b18b6487bc2a5e230a091178a71b893f1c0dc777117c86b367f69cb91a95db652b6ff06db3eba236ecd2e346479f3f337f461df38bf2131ce9bea2ec82e5cc85016d835b1394dca07f4042926ddedc58d4a5f8b73439d64ea5b24073e3c9dc21c7e3334c2630908404d4eeae4d04e90ab127d858b59b8d499daf5934aa9be65f6745f052df5d0885fd50ffc49a2dcbf83bcb2bbbe89f3e9f59346223ab521eb7c09f7af19732bb93c6418cae9aa020832524f776a9ca542a9188395fa53e9305a76c8074ac05b0270e29b21aebc20bab1698e81ba144371593f35399af29cade92590b8c7ce6f5b1f70ef63bf911c6b4ad60c6917c0599792e680338d4d4b6ea8877ee6b4e83cd17f0bae48501c8f2eff003e2c7764269bb9f95288c2c686c1bd5184227c54ddf048700b54b5e2f18d45412c90cd8059b33282879d841c8e788c066f7da9dff311545e69dce2152d5454ff615801b2eb45b936e86b446b4b1ab916fe500ed685af968dd0976a522776d5d1d3cae80c11a760ac8c73b40a65107b8e304d250754b6b5b2a1f0e19119c2288da84f160ab93ae5f38b75498a068b4f24a1c51d31d8cbdbb0daf4b3b87bad92b2c6b146a60893ae1e1a2db13ce58e0b465ec8b2098d1d61f5318b357817a1214fc74043023c918f01bd9317f8ad46e735b29dfff51ac2ff04959eff263e8a3673d0aafda6facb8637cc9291c937c859208210aa465a81328ea8dbbce4fea2233518d49f133c9e605ccef6a6b1ce8d097b57142157a55ff549cdc50b7115f484b4a94d4040eee4a7428183cf68a02cb228a288111840ff8c283483ed311ee75b27f2e589d18a63dc5dcc0b54733ebd10e8ef527f7aae9efadcaf3ff04f23acb800fc816d75572f2f31c600d6986876e22349ff191ba49e998a046ed22848b4cd7c8a14897879cd97ed81c6d546abd84a5dd5ccccf224d4621a7a22c184e1f60fa5f8548c34dc65cabd6b34b164f875534c2546c414dc070a5635b87bad52aff1e7bc12b6cdccb2906099d0d1c62929f7b9191d11ac60dd8f81bbcf9b1d093a9d27fedab607a3e949ef1641f2488d0f681ab1be69079b582f8503e7bb84d622ece2d860bda63176d2c60d78d1dcdf0edeb203532fb43230564daf4cd3aeb821bfe393952162cfc3eed54b056b6717faa68bbbf29b651473c39fdb3f1f9ac543d1bfd74060698e1b44fa41c456bb12f6ddae091c057adffe44b4cb8b4b9f4999c0681797c0171d6fbcc4d12e7c6bd4dd75755593707da63102ab906768c9903ad3ac677d322e80c5175927c471be4d3b973efe2739e9cfd97e9f5eae985555185b1b2fea8728a48baba4c95355c90ab01beae2372c034cd5fbb076d3a32d848edc56a674054ff1da6500e9d61c9a483f3940103bc7d0fa5fd4e5b974082c503ea44e8399f9723840f6fe82bcc3eb4fd9f55b533582507124eb85a1c1a93e26df7887d703b33af62ef4c0f071305cf488396d3cdd9fa2456262471c00327021388015c966e16c957b7cdd0f543e8a5fdf5ddbe46a63f3aed3b33c486cbc72f955bd17784df8933d6672d151ef445e651b727adc3162eda6373855f8e81f702bd97dbd71698e817dca823673dc58233d10c11dc5a7ac6d82a117bd80f9fd974d5acd6ea5beb98f007b25531e1775969f73b147c79cb95e61cc0b12e5ea6de6e2117c14625c9868cc1560ff5e497018c9d181e34364cea72e94f85b739f3f0345a65f97eac0e96cc3102be18e5d048bd178998841798a06fe54d42d04bdc98c80b211b55038053e5ec653129e11a768d62a20ac53badb25c953b711abe4ca023a96500fc9a6388b7fc0f75ecc48452b9ea1611ed4c8357082847296e5a4ed8e075276f86d686e2ba74d549cad0fc2349d9f4d47b712899cb8e1df3cbc94e55941bceaaff216a4b138ea35e97e7a5855f37d1de4c4f3d1ab3c315da832ceae589d15779da517c62b3cbdfc3ffcc6f1dcdbab894e47b0b55900ac62a3d5fd2c4ec764e6f4a49fdc462b226e3c9277370d8ee4051b8cdca6c765fc4684de4f7bf3d6e6d5806b88dfdf5200d8610c638003cedef4fb3496a18a9b9e4e70e323e62d012acc834f3c4f5802d792cd1880a0d242fc1da19eda855736e130bb9b8dcdf8b87072c49a5820109f83f6a2088d007520a46b250c12e84caf9d7346eac7b6bc88a80d6dabda4b3ab50579aa05e770fc8af5c0debba665d77a8b6e464f9779835d89e21544ed97791f8d48b79405a33c46b9555f83c6acf93f43dd4f1e1370d71524a51e2f7d70b39fcdaf1fefeee27492fa8036254d4bd27bc9d7561542c189f43038d09e838348bc0ccbcdb035dd350add12dbba18250fb15a644fdaee5b1ab8d155c29e9b05638550342adad33c066edcfad37da8480a213e9b0e7efa7e3fa7e8dcc8acb66220c484f54050dd54df60defdfa818fe755175dd009f7e1f3795b415fddd2e92f9e422e214def44eef0c239519d93f2dbb4325cfbef1bc98b86773df12e28642146e64e9f0f7ffa35a189e900b1217791ed37db1c4c1cb93a4923128185324c639bfbfba8a5d5093c50e0281eff2ad82c9bfcc80dc42e9add4f9cdea5789ee26f532d35f068a395e2f04564b625db95c676bdc1c1006826e332103910cd465e4d75ee02806279db560f775c203320aa6ad270b7eb71d0e33f998b6bdba880f94c6c7776be8792c4a02bbbbf966695e21fadbcb4208c63218f4c6d8ce2d1bc25d45f587dc575c3664b32a8750e79797e8e7fd964eff223a8483b89f60bbe5c2a324ba51cc4e262b641fd3dff3a0591149e8479873fdf3a60fbb4a34840583d486a38b6ac1e9576a497aac0220e340cfa3d74fd7389993ef2c9cc6e8e8f3a72a6e529a6d06a798ae360b17bce0991c48b2a7efc60e2aae411bef6aeeec062961285a9d3b27125352d1205517d46386294b41577b481cce16ef1a1af631c70ad01af402e7a240940b45d8d79639644908a4de289ed65dbcc3aa942d6cc9924ef4d8103463fafa122280c3433a5af03956bc256b7bd6555e79eadb741ee2bb7f1a638f8c01157ff8b36c8f3e36f2af32f476de133a879fad1952d0fb5cd2f7e3d89866410ca5966e8cb546e0b8623ff24983e49808061f7feed31f0f0c230b282ef8c5fb6efeefa1f654c7be4de3de60d6707925b2e087374fdc45028f32f27deb3e7a303bf3a29cd29a1ff674ef96b5aebfdc018f14302fd424f60daeb09b6d4dab698266c9fd2af594e9a49b5177708494500a0b3abbc5bcb1c2da46b72b33652900831d16b240c956f2aacf3aaf440e1efc28f3061102485a3cf3cf0c3938822dd88e2a4a82ea1faa02420bde1a687f4a0097f81cdf8569c7e04bbcdf6c9768d09da542ee0bc709be3e0bdd4660d239d5976db07657daf8527ad7afb029e29b36401171a2f0d07df86aada99dd4815860157673ea6491b25bfff88bdf86f08a7630e7c80dc32a15e6a6429a51e4c12fefd9d7a490efa00200125b0463f446f20ca67ecd716f3e72d9dacebc1096a164f03b345d4d638db34f7c8d5a1e446c1ad374be9920483681b8453a2d8cab29109cb86d11e0bc90e342388218d0c1a98e30e29c8a5aeb26720af47cdc133e6ef28e2983a09220761cceb08cc5883f26ed6dce746dc367283f02bbb191756eeec1a1f71ffe778b4ababeea6bf7e756b27c9cdc793288fd6f608a2f7edc23d3dc138f07b28e24500f4e96d16982302f61102b07a22b7f21fbff772df8014843e8d22c0cfce7b5b0ebbc15dec0294af0b723842925c0c45cd67f7ff197f7497861a1ac2fcf255023e8f9c222f7eae92b7ab9eddaad226c22eef71d2b412815c1dda4b26abeb9f69cd5c35593451ea806c01a128ae64a62d364e96d3ab0639d0d9cc2ec5f195d76583661cf82ee1429584c96d3ddcb11e2a887841dac86de5c237173a6bfb4b3bdacff7d9268032305b8ce9a918a850f90df8f65fbed36c524d929f224dde11e63287b35616676a78dee84599ba011c584d51fac34bedf38a2f52fb8f1740efcd828db1121b3ba152cedd71e3832622aa9ca36aeebd23705bd6cb4fda35ad7385bd36cdd05dc2d6a260a71fabd35c54e12364bcc57a2f083d707fb826cd0caf10cac204bbbb83958190697db8619f716395ebe3f8574182a109d0eae78de888d31a607e66cadf8e02c9f2f6b23668c603347c740da331e1f7c9cd1359800d66b128aafabf39b64d370f4e66be647989ac89729826c5afdd5d57c123281dfb48a4171d7dc9a723406763226643a8fa1ac492227fc82639686cb3facd921c9991de92f6194019defa5cc3f53ce7a1212199d5c4d0dd87961b13a1e182dd3c77b6465710ceb609932672712fb74a5e5791a6aa882d01c09744d7027f696b57b853bd680d393f1dad8818674bf4e8463b9396208650e8a3a79dd77a096e48d1501e291f3c0ecc31ff7b8106b3f04b380c87e43c2815df1025b3ce5d91563b5b7168f0ea017e38b0bcf19156c280e68fd413e159137bef924ec26ed391f9bdaa5ce0db157d0af7aedaddd8073e787254716c59d9f53fe41e5c09c0a7704dab36ec42134f9facc231dba12a77f5c4a3bf84a5e791ed0c99829a0b7db356daa95239c6cd9f7d92b86bd208d07dd46e942ad6551c89f801e4e1095712fbebfa048eb310293a2bf556ffec5257e93cffe8219d8ce6b9274733320be9724ce04a80c60e0386c878876e5f6a02333cbcfecbc965857c0cf1be96b43dba60e8020f6c393caacc18e000ea81003bbe677d1daa3a94754e8f8f4e7a8b3851606b249dd22764f2effcf7df9f8936fa42a7e0571a6390262ad85fa4fbfcd385d30db5f2103ac3111247fb452d9280fdca8e9b4f75025182d06a65fa7466fd3baaafeed2b7ae2442d144d7b96aa2216da3cb4fb9321776ceb11bf81d1b3ceb134082130896da5a42315d898b95e36816745b4aecc6b83c84f6238973b127cffa39335adf89f51405fa457925243ce4d91325ea9bfe265a5ad71c7e92b9e3026c52458df6aada5e2417e07c01fb8e1eaabf99d599e39b09623ddc7465e9add22a0db14772022bf4370677c580e1f583fe7816c6f11805c2e644ca20c4623e387a3c9defe3935cac088cc8451dad3722600a271d2f6708ec06e0f63d36bdffade0c5eeede9c76b5252ee4e0ff5d5d80997f19581b42f34f6d1429b81b0a2a3bff3d4d626b261e43534a3ee7e22c052921fedcd5668a8d9477916c8dc56823fa422c8f5ff6de63b73881ad573a55e44bdfac5da6317949d6d708a31bb73f83bb1e6ab1507876c85cd106e128f6b72e27f0e4497c3463fb266e9f4455a3f8de3bd12da8a24521cfd8a27ff4c68e730d44c5854161763411299c5155a5f83007788287f05ea2d6a7f8148fba7059e407b4f6aeb7984c75396239d9b2bdca19b87ea186f8c72f92bfc9c74039f9f9239ce9581793aa3d3a1269802e839f7ef234e45715df9b60775a8bc6340d379d0705c43a9c9414629b94eeb3cb91f9af45bfb81413c9b9c87a86e14a683bade61c33732aa9f7d6962cf6433f8715e0bfb97159a009a174b220642c8a113a4a5ac38c3b0718bc28670185c75460af6c3fb0f5acbf12c90144ede739546e95cfad6461503cf01777c1c9126c69de1b39f30745b4ff5fc27aee5c2b1e315ca9ff8b31bbdbc133e9a27f7497163afdfba236e0c0378a6d35e89d03721c2315d6e2ce288dd2ae8a6e6d13d54c8e61037ae65dd4a7c3c1551aabc55877f63bff6278852d3c5735d15d7bd618f81f1ba5e28cd24065049655847292ee38c6bb276347c3d2f09869f0f3ad5589c52867da706035097a51b07fa1b53e52f6de0f2465fea6a847942d28f416ce8e8acfb2ffcd26c079d9359282f2c69dc1498ff1f3ebe1f3b929ae823bfffcafe4c9568922b7b467b13acc55bfae6cb9b179ebd31f279b7f6a4d25609a61cfd872ea4ad4ac111df7650f619db7b66206097bd8683bf34eb7845368fa5da0b914a507b7ec51dfad0381f30b5519d09e93b0e86628ec217f5c85d1f1c02c842d1b81be3fa6eae28beae4e1bca1529cd4eddfb7ed3998384d3788e0eb21af78ee0391416fa732e5fdcad2e0d0a9dc70c7c7f19c6eb45ca7cffe8f0cf6590c0a634ae9620968e8944cd5e38bd750af65c0ae8315229b3ed3083026318760852865dd082f3d9eaf1348373ccc5ca5811d5e1b4ee6dee91b81dbda18fbd781a664eb69f5bd99193cbf2511d028104afeb019d2ef171002bd932cefffd406081f67c92b2d51697a1b35012d44285f93bf99e08e27414230941a54e7e7d367abfccd9843734c6681721aaa2f7dd86a601a527d7d12993189c0e326c12219590779bf85cab7b82ff13ecf839b146786813c0da699cff63f758839f3984339521bff773358bfad128ac9079bff7216b4d68c652c86ff7cde5b05d5588a9d5e1d0b5df4b548ee02f4253aee1f9bd784b575e650ee27da86a73e1a79e3cade9c249a2f19f471efb07f90dde53cc490d00611236090890cdf226c4a8fc403920ed82ee7f942d7aaded4e922dd8d63763db2fb211a8b76fd1016db46bbc7aed24e4999e1ea1d19739b773a616308dea61c61896bebf6ca10e9929933cd36f71a3f71cab4e0a8b2d108719a9facaf51f9e645bbaf7b24a38a09c023ae8213b0bb306b2a47f73b1e64dad1641ef6cfd532815f94c7dd3b5ae0ed8375d1d182348560a0446a10de93135c542da6bbb81cef206810be72a45233ebf8cebf2930f6f57f33c03df12b932ad87e82e11eefe221a91e32d1ba5bc6e14a6d2698e8cdbe91e5eb9e7dee68f208c9f04831dba94b0e6bd6240f0cb19c049c0127b5daa3c3e93e95ef56689f9eadf3b71b497e4ba0c3de2c0d32e21d911f067994842bcc55242cb8be4aac9fb8e68a1dc0b0ce85c893d2f8b3976685c391cb368dc5bb26b984ec49bd5b304aba0def9939498426eb46b18aba83410bdc6154244086b13c06f90d7d0d6da169321e7d37d94544dac5222f4bfd204c363da1be9b32b79f2b2e8bfca1d71032f091ffa7332024810ab35e046608fea6bdd7a82dc9978de2c571ed63c890a8cf7a7f11363f4e758b16b4e280f82c73537c0d90948d6213d60fd5dd0488d290437e8674a7fa36885b0258c2bb18c270110c1d71a122fced61e875e5b074fd6e4ceea4047e054ec287e02c0f6b84f57a9b01e210a26b25ef1dc77744a75c976c01cfcd6de498744cb2a961e760909a3138c5f7e98026a42e0fb2b5c56b203d7a7b2200857ea7bb869af41aac520cc5a4361b55e536e8b3a8efa1d17204d76e7ba0436ba523f0fa64b06ebc15349bbe61a37ae7643d6f4ea579c81bed81c71c657220679110cac967ddb501d2cd73e0bbd45014cf3ae52ffa2180a8f1ba4db08e82780711c93461d99674eaa32ffd049447853db053aeece4506a39ef046a2758c13b2e16410265f4eb20f546960ab5d92089d5961230e935c2204d6e89a21d9418ec39eab9f290540a12035581903896576049b0822c1a2ad26e06f59d29fb174fe1c9ea78e663313d34cdffbf910c638f74239edc5c488fa31fcc015241c7026fdc581d789c9fbc2bae620520091aa2d6646cfcfe0d593fcadc6e19e6a63e60a001a4643c34f91607857e01f87f8a391d20742b38d49c6f6406c69987466d3edea430492c956d059458a164c776a9869f7ad0d5cf4ea3e165b80de49f18134b5df7a479d0fff2ee3fad25997cd94eb81c467f3ceeddad4cbf7f8e89ccd73297598fb43ebf10ee4fd87a2d3e6f36cf3891fb766d485b157057526c9fe9eb71afdf89709ab31f5e276fd9647f102cc09d467e84671d85bd7a864a32c48c774b76454b756659bb7633b6e395a492e3c1b8e2a2405bbf5144cad9e197b92d4a6e23688ecb20a98040f35c8e57d615fa9ff28768d06163ac518cfa95b33da04427087ec8940304d51db73c5e9367b5f714274d321e5a2d92db1c1121f686089963c81fa4faa7272d57c89de698650471eaf41b6517fc68d2da36d7c944299a9d4d2d79980057db65b8325683e9c10fda9bc462c421aed30aebe7eb9d85fec13fd375ca185bd7867fb4f8206681dcdd598dd992155ab4b161bc8a8f06cc3229da3c4ad17ca6384b551e8121022451fa9af72b6747fe0368935f35fed85c4019a8f4a4d7f664abdb0bc35194d9c4a0546ccb6b5ee32a8457dc336dd7f0e37adbe996dd35f56b7bc270dfc04e4ded9067ed0055ea877e36f20814363d779b30461ea5e822624b4b83e91ec9e50f2cb0eb491549e76bb41aac02fb91d4fd6cc550c7da22cdc0f31815e0b82f691f52c6d9d831fe5be0895ca6cf6b2e942e1e1ee15afe0b7f4b99e49c1e5e0ab9dfab12d6dfc4b19d4fe2eb2ac429e3996bc599ff6eae3d1d08e7483536a91b94e3c2946cda521d1fd8442fa62fe1d40425e720b0df4827b374cb9494a7602752c16db7428c328969917a8bd352594f512862b0db6d2c65514d0baee8f021222060d903027fdec964540496bb7b28792e790a5190bbb06552b8fa6b7cbbe8577e9a6f034f9366c4ec5332fb1761e52e04bcf82282671167aec2bafc6590deb2264fcab09ac6b0952a28aae62056e035bfeff8981b590c519124539e7057dc0a62b99923c4c151243130cae4b3d3956fffcf58fd1c3a6a30ca67b7c62c5f0b47fc47ff2abb61b93726a83075de450278610bc91c8e16b5226d918c099bae3e553f4134e0bcb3bfc90e654fffbdb6105010ef21134ae31d3e6f9ad09727e72dab80713b0c17dc9525e20105e36d3829159ece284f8c89cd024d983154e0a2a7a2ac365eee39b829e914b024d47d4c6b5770d4256255399c55a80a947c9e290fdfb9585858beb0927b30ef7297c057d0d24b3c7a731f7ccbd0f38aa020353e534733d452009bcaca2c25652b761e3c733f942b14ba465b5c25581c19539ec978fdbd14706f758c4f687ed471b8f13fabd34d294d7e447448e4c006cdf24eede40fd32ccd4fc8530e936c6263b3d171c34bd4247252f35a90a9c4ff0d5e3e923604bd6d2207891328909891e7ce7d1c838a1cc94004c21e196585c8fce0bd19eb1b3e3e0538e10e625869877c9ebf7cbbc67d9d90bb33a409ec74cca785d1237d9e6923ebc41026ab566f80ad68b2c26eafc0f4cd7cdbfcd437b0b0f6795f6bd86f4e919dedcf82d67d27264225990e67775dfd06d51d78b34d31eb91d0678751b3dbd019405e63e2ddb4956b6aae5253933bffaee448db3561e964ce24a89daccd7a3e4febd3f72e59cc0066f219fe572091c8ddd3201cd320641c3ffac37a494500c271d6344792d22b012cfd533b248a88c3041a1fd2e4d11d0dde65b9eecc68dcb4834cd0c392f10c72ce136cd731c03a91850fd4bcbb44179707ff7a7ed7aabeaf033e21019c71a2172e76ca2c2340439c86a2b66bea022bbe07774e6e135fa648c24b9d694a38131e91eb9de2585f87f252f1911c4333bc1401758f763445172761dc146ddefc3b3bbbcc685f21cee5da6fcfc852f8b5b7bccd1f2db5f2ea79ab48a5a6e71d83f01bb998e5ec7c0e10458b17c32cc06e99bca3df5c78a4fff247c6739fc2151d62d513d043ca8cdf2cb56e7efe724b230d0dd5013ab7f34e5368b89c3ac913b5319d94b9f8419ecde459165d9ad61269f70d73f9f035688cff470b9f306994385d1965eb8c6b680c5a77d2cf84c08a69aca677ee20c26567b9ec618b5acb0ac69d0774f4727e64e7495472e48aad3a30d822807ade584201f08d0fa0d4be579a618fac1e407d1599724ecae53ce7159727de57ccec1959d48a41489c2b63fc372b63bbb98c8bd19234601e4f159ec5930d0bfaa2093cb36579b5a76ad2f5624a7bf9a58c1fd5ef7726ce83daf4233d27f7b2b4acc37b7220678fc683f112a493ab2c19efee17fdcb2c71db724b25f0763f92b58f44dc3de73ac92dabb7ce37878b734760c0a2c84de55fc9e8c25b96318581612c3acab07680e8de92a925ebdcd7c4ae9eb818758e27bc457c56d65869a8fc5567e11422492c1a575e066c6167dca56f7b79a97cba264347185ca8e11cd9587fb7230171deb3318aec588afebff88aa482760f5062103fd1750c06fb113f58267fc5b2d30728050ce7e4bca4d69cdcceb16989d726aaabc2c0cd616791dd9a453342b2b9e6198f3b1ac5411cc31bbcc67a7cb275d58b6be3167176322a36a41c6ca957b1a1d9ac2dcf80ab19515e6af264210470facabcc5f449f4e2ab0d7e780cae88c973f45a8dc4ef7fae2688da242a1262fd849d4abc11ce0307e21d0e74937b9a3e2fbbe4d84a083a832d2e3763d53f72e01cdde025c3f297744ed7482a62cc08e5a4a6f9b24f4f925ef30bb516749c5db2a02212ff49ed46791334afcd0ef2145cdace12feb0748eb1a5e49f77069bf990de0336557a88b55f6af2b1f28a757673ea27b0197ccea43bc0bfee9344125a0e323205520894db38d200f4972187c2673f54927c3307cba7e2e1fa036a871a0f161229ccba56d44f231749fbf2251b464b9724a29ef86e8002a93df2ce806b6949ac7c3244dfc439e43d89943e9e5142d85e08a1ba472e47a80f87e904737fc8c3ea214d0f5ab66acefaa788081dbac3cf1c8dccf236700a379e4eb8e6f12256eeed4adbb075a1f796281f1fd1193183fd5cbe13dbe6bf498078c9c86cbe854367b7d0311d77a410c8dd3f726bb8dd3c004332706fef009e69a72079001ffaac060a4789ed887d4f68760d1cf3df08a3c4ae215d1d4877a21dd6708d2742448daeccab17ef6e0d6c943219865adb1945f4d26015930ae02ba44b7a51280649d51caea43ebfc5854bbeb31b57f78379aa8a9fabd4c4ba640bb09bb6d83f5504a163d2f07d4d84b19c2fcdd7d9ede07411a323d341118a5d726675e2793e331a500a639ff448af950bfca298bd31801af6e1992055b109a3cfc874a6a82fea6dfa4a13ff2adb5cbfe744b69a0357784a0bceef63b3457cb393a55d48320d8ede864f0c10e3ddaa01a14af59aee8aed4c07e32db16d8f9d1f4d2474c21e7670639fddc821c340332a7012e008453a3fe89fa8a264f834caa44bd3a1ebf7650c69439d30758bfc961e090ce56e48717aca6bc83d9c7342df52f7c214eeaece4bd17ac725a62b2af0148e0817326dcb95e46b763581f9292e06048e1f5da89f0ee3e1941be63f33f5839eaf78b83b2fc3c15cb87776dcabd7216b23a361501df6328922816bafe999b9cfcf00911eb4180caf241a269e0ccf0a67c4b005871dedb9fd8b63fa126e768200b32918cb9d07815c6ecbc8583df3713b2b7fa3eda6898e55a4722c3b46d76c4c6820cd333d6f90a704ce690137b68c070014302e54524ddec512ed196d75c3df09c8888c8f7331de61ae7a1f5184ea67f5c55432be8dd3308e604b4fe6201618aad71570f47d25b5f74e73d389097a83aeaf22e43948f5eb0cc357f9549dc325fbc126dc606b69a4dd5f37c24a947d729950b1fc1f3985c9588cb0499551255649bae181d86581043087e2b4538ef9a83cd4d9119c6ca45b99c8661515b77a9a2984822de7ad8fa6cb6d96d848f9f5b8e1c690ee180bb7899c90f2b204d2eb4ea8289c42c129949b5154ad25c744d369665fe95b8e66c9b8841879e0646bed5c2a6f510fd6edaf506b121b20521ad3437b04cb1d3eff60c2a47e23a620a1b7787825df62140d06e12eff66d91b4795e966035bf1c12a4f1df410e1f99978b40ccda5f26e8580d213cfe7e3ff400a77533a9d8ac5171391d4dbf395456ba53393c0753f0d585f6ce4838325501611d0ee37f7b584962bfce2bf09265c1c7c69f0c7b315483e978e5ed6bf95a970b542fd4a06106cabfbff57398a7cc397a4004b6132a4c45b924e741d17d5e235cbc2d2d7daa82336d607b13b0b94151981f06272469ba453f7bdb183772c38f9e41ff7d29d66554d5a1c4b0337ed7eddda65a0b7810c1e3ef183379456b2f952066070554eed80f856574a63e4a800098e49a5227c310fea00076c039d43b8743a94da15de4bef845f9f9ce29f8a4879e84aada94a69550b4e618bc52f3ddf3fb88fd430d934a85981abf02268a0a9f9a8468ea7bc6d20b2097a0847cf755061049b335fbad5bd07fa1e035f8583af035759ffb52cd874c3d610154d26fd9454ac0f6be55b25ce08e6d60cdd22258f596f72a042a439c4946f5c677f53ce004a8fe1794ee2faf2ca600e69191536aca357b1f2a671f3de183bb752cb09723b1740f907198f90d555bb7892e5c550a73598362576490fd9d29b55419c2fa66aa8662345b7cfac813a7649de9474b481e72d2781a0851f0019322fe0f5bc60cea7d35c66a0a2d116489f6afe60c893405d9de9196a4556b07a673fd9d4ee6d5583ba4c8223095593b40699ba88083ee24f969aa543b9323ed09fa012188a3d467f538306211245cd36089a3185583a3e553c2066c39adcdb6e3900c591475653aef95a654d4b211f262d99b78e8ef30d64a5f8059db33bf9bf19be0dbf391fee27c4028ffa1b2e3a691f5810f4d61a13f52879d8b9e40255893debcbe154326eb770cbaf8f0140837753e53a9265063b04f51df09f10c43e10ea0819c7282947b32a78d386ff5096203f60b73d09a375fb4ba3848dff853f23d6ce00046d6e4baad77d86004d988b35a2c5f127322b4629b77dd9884b1b335ed72f1e0f474c45219c1ef34017b90070d21247254682d10d1e7af4c9b643d84c5ed861d4d066f46f571382bc7a3686bb019b084855df615f5879bd2de6714f83e0c590057dfc1e2c62a0cffcb87174b87be9a88819a346e6ee4a3d04ad3acde703a07bdcd5e8025bd303a93880f80d70035d100b6c727858a8bd6e30de4adb3b43e93c275110ee777813ed8e9a5786e578f293b3ff7297c84a93d54ca8d7f854d67e6ff6b9b7cd39930ec0c3a4ba362f274c3d3c0007f582f63ae282bc1ae04fc271b04bffa54f3d7281015cd4c4993d1f5d5ad4a5cd5ac5d479f316577fb03a6ca12ded8bd78413277ba0ed57090dac9ba88a0e952f20575f2c51a63917e24b050c9613d567f3841c5eb4a4ef1f4fe88029e47f77ac77c2b34cfe74f16bea0d2551362e9bdfd9d18f9890562bc516907609dfb63393f816469cef8fdc6fcaa7d7814bbb0dc262f7f2608453ddd12958650fae71bd15a4d484d3ff7e5fda943cf16bb23f9558abde185dbce64b088547097266bf1ddf07c81b34a678b6e51be801706a469a71b4d19e00fa3e5a66c83faebe440d498653aa0496f26211a0b256c687ad477646315ccbdf79e788fe4c1c0b5cb9fa8f5f31974d71a371c4071144812a3e245a774f3cb2497c330ae2327b2bf82b077ffd1387ece0b327f94967db04809983228096c7a04a5ee6a7a8fe9400fc22c3ee8388c8e1781cbda200c078e0299bd55b8b0f35de09b8eec17d02341c6e698905b9b5d258a1658736b16855e77d8da01750b208b29b8814f46923cf23e626999c8d619e8d32f99d08a8223b5bc993863c3fdeab96494d941e0c4e734411672ad1fd919d1d3f2cb1190c6b5225f3c90e5d1540a5a01736bbde73bc4cfbd9b9e573467d5d8d143854a4ec8c57cd3add9720b47f2fcef83768eb54df384e12ff8d226aa2fee57745bc4a3cfec2dafffef63126c209cc553c08bcbb5979956942476a031ac08184deb6720ed887014d0f7ec2d6f47e18ecc71cc2fbedf95c736af3ff85760f65f77047f3b6ae4dd6a9be8d10f9ccab9c3f37cebd0071a158868e913588b7b6f1246043e1433ee089aa99a1ec1e572ef2eb828ba3e4b6cfbf58ed32233135b4c2de2b6a7cc294a58404685aef6bc371689418fddb16e1e88c518a236fa26fccdce75ef283bed2959eac2fb53a864982c6697e84ebe59fa65b685824b134686236310cbdc1e1d4f03ccd048b2c073d4719ff4152b82a106ec52c5ab8a1e73a472275d7ff2778a0f3c1c206f5248c0ca4409708070118ff03e10f916a331803f5a24af0b902998ef2ea2a3de393700206ed625f56159f9393b9fc456a9d3b4b3833305358360c1f622b360451ee1ac3d739ce7fbe551d7b268600c614a0b16acaca29277a66e00d6295de7cc13785631ace187fd8f55c96e8dbdc2556b7d643e9725eb79af8bd8ab7619a9b38092532c4df0f892bfcc2f666728</script></div><script src="/en/lib/blog-encrypt.js"></script><link href="/en/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      无权限访问，仅提供VIP用户学习阅读
    
    </summary>
    
    
      <category term="VIP培训" scheme="https://www.rootfw.com/categories/VIP%E5%9F%B9%E8%AE%AD/"/>
    
      <category term="文章" scheme="https://www.rootfw.com/categories/VIP%E5%9F%B9%E8%AE%AD/%E6%96%87%E7%AB%A0/"/>
    
    
      <category term="v2ray" scheme="https://www.rootfw.com/tags/v2ray/"/>
    
      <category term="Linux" scheme="https://www.rootfw.com/tags/Linux/"/>
    
      <category term="vip" scheme="https://www.rootfw.com/tags/vip/"/>
    
  </entry>
  
  <entry>
    <title>加密库</title>
    <link href="https://www.rootfw.com/posts/b7316760.html"/>
    <id>https://www.rootfw.com/posts/b7316760.html</id>
    <published>2020-06-29T13:41:40.000Z</published>
    <updated>2020-08-06T11:35:13.277Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="文章已进行加密，需要密码才能继续阅读." data-whm="无效的密码。请检查并重试.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">请输入访问密码.</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="5de3ad4800c1527e7a06c56b9734b93e7ab7ac4a82ef9b6e041f5db389d21aa9">7b3fe121a03b5a70b907c517bebb08583c561160c515efa0ff6dffb11a426a501808a7a5a59cc1dbc4359504f719d68ffc4782bee37ebd9fc169d9fa914daf0ec72b5d0ab310e9c20a7d1cbd8fb9cb10ca515edd707c49aaf97be0e5fa7fbb66f61793b9661a9b6dac531fdad0d0bd613a68e00646cefe1886725dcb21922dbd6ace4f200616136718fc9de3cce721176362f018c61f2c7218e36ace3d502e5ce34ec52f658f1904d245f96548e7036918af88150d08ccb5c94455f50c62001022b2a1038031bd0b22895c2018c552eabdb5733443e315cddff82160850bc6a461dade55b880085f8979637ecc61fd98078eeaeadb89998d21d347313fded9f8f9bb89957a7faa7ff12ebb9a23023154e247b5a7f26036f79c8a4cac92c773b6c3d01fe0d0e088919974c6d0d30ac0a07ce4560bff137d0ef6e0f1907d422afba6ae375dcd242d0483890e8ccb021a28b53dc7d325a4bb92378d1c8ba4f7443d1ed994f04b1d2ea33b708976c58b8d4845a884d3fbed6cb1640bb11e8cc00bfb02e76c4c7724ca2c113c82a07102923d1d2471fb11a1666576235debf1956a45f83a7b8c3a01cf18b41f83ac9a1d625f23d2d3d9a3678c0955df032952b7cf78dce8b80c9d867382de563a640c9c8cdd4e6a41f34bb652e76ca480f874fc67d5ce3075b28d94c18b3bbc78760cf3f611d85749203980ab194ee73162a6b22d95758fce1ee54e320c16be91560175c700fbcc5bce684babda9a19a70d1ba68da9ca4cf080b52ac2d52d801ed8a6912e49e3ebeb417be97775c495b06aefe2c07e69b4a4b73c1042445bd0120a4ab79335430f5ebd0bf7c80859aa16b6d2c12b758bf69d881f6ead4bea1d12e32daddb3a8c9a2977a6f25ab412b396f89e76c53ac38bf689b66a128babaa1a6b76f62ed772b833fd8adf6e0992d4ddc87b96f027922c5843f35df2cd0be87827c2c09cc681a661a2e486ef8435d0ec03d0d5ec25a666504ed5039be01aeb311414ad8d253e3e684e270c6d97eac27fa1ca75316a922372d95abb36e2073cd66fa654974a88b6d644bc82e99d3cd967ae080e6ef292fc989c1158443f60996813124a43c22cdfb6ba1288506fd7896d414a4786c63899ce75143cc16729959b74def3be6b7db9a8ea945489d528d556621693cf2f9144d31b0f4396d2ae513aa38a6e64427478707f4589d5c8c092fd74681b1b4823e2483665ff655e60f37a4ef9f165b72e9e16754bfe5e2d87a36fc6cc1e0e42045498a8314dc63d188da07562a12832f441d9c517e629d3db1dfb6f580ef58c6e6f4239b03882c812c7940c979e3e19f6bd698c1cdddf366d94a0aa232a7a0fa238291e34afea47c3f603f43c3246a8fcabf63a1e7d8b6d032f873e67b04ccdbdb1e7b2a4ef5463a0fe3da75cb70e31d2fb60e32e0fd5899ea87ac5fc8693c6c3e9d84da248dfc270c4f3634cd5ec840448885670a78635c5debf76e4e8e85a8aa8e789f8181a0e39534ee1e8bf13454a3464ece24e2f07dd575f6b0d870b562c0b7b18b671d38f0d3b3f74d5d65ffc42505b656525a65c60513de5e8bf7d8194c27e7b245e7112e4fb7dca1c51766f0aa8e6b9a3ed4f5b00bbf75595431389082f6c6aea707073336e1dea928b12950f0190ccb36c47c71f9ed3e3029eb7caab5b06de1102bc36db31ad6e9e66ad4bf9a922663c0da57de5ab65b674dd16a767b4013ec1364330ee213aa331ae045a94d85ca0b1646a060f2c58da73495ca49db273ee44ee01e0d0f025ed29e8f08245461ff5092d2f5e33ffd1e5470fd35230326f42aa9cac7dc0539cfe37d9381fbee6c542d0193d02492b6abba94c6bc63d6830f6b0944af9a46ea8740e0c22d199a4e0c480df7103be393eda142108104ec4f64ebacbea3a2f5a0b3d7ab55c65846fc4772fc47806b8c0e0888b3250b3aee0957c947e0100a56c9838b60021d15ca3ae7944108df0cf0733669d1cf787f44c2dfc8952ea71a734edd3c73be9efa9242a1a481a0afb6f1fe9aa86611db5b178e9d20c3290b1186c323ca4141de6203f688d55bfdfbdb3416e9900ddb7c4075c224bc5d902d8cd407230222a7c4536b3e177aaa6f5a3e6b79edd3d17934ad79521ede7b1082654aa415a880289a5d048847a8e3c9560a35ffc5854fff9125317531260e624516e76b24e41e208c7e4bd34282ddd33e6e9a97eebc516bac05b79098ec734936d9ce150e475f306537b8fe40216bdbb389ccc5f156d78f8b803408768bd185c31636a3fb52690ba8caad0b1c1c7a63ea8bbdb25d228d320746194e1d81f8e00a9b24c9139eb5435b6e6ce9aa1757dffe1161ff5242ebe61d50f39fdd451ede640b4dcdabf8cd98986f9eb88f7318a901677f227b892725ceba3a66fabb22d1a10f8440cb4bbca292c81c5c0902afdf3a2c9170a8e3000b5164c19c5c7302d34ff7c7c6fa3a037d68312566f96ea7e2f9f6939ad0d522e5bfc4a5e0802d5751191e18349613e37c07dac76abb370733a30e0fb7ed2b149369b9180241b6cd440a6a33918b0f3788b0902122aa6263947a3ca4ff0cd047ad79fe737942d31ab8d2e98f6e38e3313bf695e59a20d31e427d06e88a2a332d1176cbfe4bc0b023910dee1fe59d09dd42e41d6d11e62775034f7379a9c8aa7cf50c9876fb6b9e61aa43da190927d903b4349eecba0d1b3f0cdbc2f28d407a54bea149e7622bd8a146c991c4b72601d7d4615537b071b61116860481a80bf4082eb87ccb45180966e5126473c8129dc61049991c9ef181f34b3d070a46c426e493ed4eafa9ba3559462918a74be2d8e85ae7d8e7b79300eba955d4ece6b56daca5aa2a7b8bfbd99ac0cf0fb6ee7ea7cfa5ae01d9cbbdfa58a6137adeab208a6c290c350e97e4a9b7623d3b0ae97773cfbb144c1a74df1d72e333f818a9a668b1e4b38f39b9af49fb98448e52e98b34021f2ecaeb950e2be7031cba690ba948d23b027</script></div><script src="/en/lib/blog-encrypt.js"></script><link href="/en/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      无权限访问，需要密码才能继续阅读.
    
    </summary>
    
    
      <category term="科学上网" scheme="https://www.rootfw.com/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
      <category term="v2ray" scheme="https://www.rootfw.com/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/v2ray/"/>
    
    
      <category term="v2ray" scheme="https://www.rootfw.com/tags/v2ray/"/>
    
  </entry>
  
  <entry>
    <title>防火墙设置</title>
    <link href="https://www.rootfw.com/posts/8189ee31.html"/>
    <id>https://www.rootfw.com/posts/8189ee31.html</id>
    <published>2020-06-27T14:52:27.000Z</published>
    <updated>2020-08-06T11:34:11.308Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、查看防火墙状态"><a href="#一、查看防火墙状态" class="headerlink" title="一、查看防火墙状态"></a>一、查看防火墙状态</h2><p><strong>firewalld的基本使用</strong><br><strong>systemctl是CentOS7的服务管理工具中主要的工具，它融合之前service和chkconfig的功能于一体</strong><br>启动：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start firewalld</span><br></pre></td></tr></table></figure><a id="more"></a><p>查看： </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalld</span><br></pre></td></tr></table></figure><p>停止：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br></pre></td></tr></table></figure><p>禁用：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure><p><strong>服务：/sbin/chkconfig –add foo 把新生成的foo.service 放到/usr/lib/systemd/system/下面，然后采用load命令导入 systemctl load foo.service</strong><br>启动一个服务：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start firewalld.service</span><br></pre></td></tr></table></figure><p>关闭一个服务：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br></pre></td></tr></table></figure><p>重启一个服务：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart firewalld.service</span><br></pre></td></tr></table></figure><p>显示一个服务的状态：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalld.service</span><br></pre></td></tr></table></figure><p>在开机时启用一个服务：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> firewalld.service</span><br></pre></td></tr></table></figure><p>一般需要重启一下机器，不然后面做的设置可能不会生效</p><h2 id="二、开放或限制端口"><a href="#二、开放或限制端口" class="headerlink" title="二、开放或限制端口"></a>二、开放或限制端口</h2><p>1、开放端口<br>如我们需要开启Shell连接时需要使用的22端口</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=22/tcp --permanent</span><br></pre></td></tr></table></figure><p>其中–permanent的作用是使设置永久生效，不加的话机器重启之后失效</p><p>重新载入一下防火墙设置，使设置生效</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>可通过如下命令查看是否生效</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --query-port=22/tcp</span><br></pre></td></tr></table></figure><p>如下命令可查看当前系统打开的所有端口</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --list-ports</span><br></pre></td></tr></table></figure><h2 id="三、限制端口"><a href="#三、限制端口" class="headerlink" title="三、限制端口"></a>三、限制端口</h2><p>比如我们现在需要关掉刚刚打开的22端口</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --remove-port=22/tcp --permanent</span><br></pre></td></tr></table></figure><p>重新载入一下防火墙设置，使设置生效</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>再去查看系统所有开放的端口，已经看到没有22端口了</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --list-ports</span><br></pre></td></tr></table></figure><h2 id="四、批量开放或限制端口"><a href="#四、批量开放或限制端口" class="headerlink" title="四、批量开放或限制端口"></a>四、批量开放或限制端口</h2><p>批量开放端口，如从100到500这之间的端口我们全部要打开</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=100-500/tcp --permanent</span><br></pre></td></tr></table></figure><p>重新载入一下防火墙设置，使设置生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>查看系统所有开放的端口，可以看到从100到500的端口已被全部开放</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --list-ports</span><br></pre></td></tr></table></figure><p>同理，批量限制端口为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --remove-port&#x3D;100-500&#x2F;tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><h2 id="五、开放或限制IP"><a href="#五、开放或限制IP" class="headerlink" title="五、开放或限制IP"></a>五、开放或限制IP</h2><p>1.限制IP地址访问<br>比如限制IP为192.168.0.200的地址禁止访问80端口即禁止访问机器</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --add-rich-rule&#x3D;&quot;rule family&#x3D;&quot;ipv4&quot; source address&#x3D;&quot;192.168.0.200&quot; port protocol&#x3D;&quot;tcp&quot; port&#x3D;&quot;80&quot; reject&quot;</span><br></pre></td></tr></table></figure><p>重新载入一下防火墙设置，使设置生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>查看已经设置的规则</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --list-rich-rules</span><br></pre></td></tr></table></figure><p>2.解除IP地址限制<br>解除刚才被限制的192.168.0.200</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --add-rich-rule&#x3D;&quot;rule family&#x3D;&quot;ipv4&quot; source address&#x3D;&quot;192.168.0.200&quot; port protocol&#x3D;&quot;tcp&quot; port&#x3D;&quot;80&quot; accept&quot;</span><br></pre></td></tr></table></figure><p>重新载入一下防火墙设置，使设置生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>再查看规则设置发现已经没有192.168.0.200的限制了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --list-rich-rules</span><br></pre></td></tr></table></figure><p>如设置未生效，可尝试直接编辑规则文件，删掉原来的设置规则，重新载入一下防火墙即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;firewalld&#x2F;zones&#x2F;public.xml</span><br></pre></td></tr></table></figure><p>3.限制IP地址段<br>如我们需要限制10.0.0.0-10.0.0.255这一整个段的IP，禁止他们访问</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --add-rich-rule&#x3D;&quot;rule family&#x3D;&quot;ipv4&quot; source address&#x3D;&quot;10.0.0.0&#x2F;24&quot; port protocol&#x3D;&quot;tcp&quot; port&#x3D;&quot;80&quot; reject&quot;</span><br></pre></td></tr></table></figure><p>其中10.0.0.0/24表示为从10.0.0.0这个IP开始，24代表子网掩码为255.255.255.0，共包含256个地址，即从0-255共256个IP，即正好限制了这一整段的IP地址，具体的设置规则可参考下表</p><p>重新载入一下防火墙设置，使设置生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>查看规则，确认是否生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone&#x3D;public --list-rich-rules</span><br></pre></td></tr></table></figure><p>同理，打开限制为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --add-rich-rule&#x3D;&quot;rule family&#x3D;&quot;ipv4&quot; source address&#x3D;&quot;10.0.0.0&#x2F;24&quot; port protocol&#x3D;&quot;tcp&quot; port&#x3D;&quot;80&quot; accept&quot;</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;一、查看防火墙状态&quot;&gt;&lt;a href=&quot;#一、查看防火墙状态&quot; class=&quot;headerlink&quot; title=&quot;一、查看防火墙状态&quot;&gt;&lt;/a&gt;一、查看防火墙状态&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;firewalld的基本使用&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;systemctl是CentOS7的服务管理工具中主要的工具，它融合之前service和chkconfig的功能于一体&lt;/strong&gt;&lt;br&gt;启动：&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;systemctl start firewalld&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Linux" scheme="https://www.rootfw.com/categories/Linux/"/>
    
      <category term="centos7" scheme="https://www.rootfw.com/categories/Linux/centos7/"/>
    
    
      <category term="防火墙" scheme="https://www.rootfw.com/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"/>
    
      <category term="Linux" scheme="https://www.rootfw.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Shadowsocks native deployment</title>
    <link href="https://www.rootfw.com/posts/80f65055.html"/>
    <id>https://www.rootfw.com/posts/80f65055.html</id>
    <published>2020-06-27T11:17:37.000Z</published>
    <updated>2020-09-20T12:11:00.646Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-Preparation"><a href="#1-Preparation" class="headerlink" title="1. Preparation"></a>1. Preparation</h2><p><strong>1.root permission</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br></pre></td></tr></table></figure><p><strong>2. System package update</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum update</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="2-Download-and-install-pip"><a href="#2-Download-and-install-pip" class="headerlink" title="2. Download and install pip"></a>2. Download and install pip</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl <span class="string">"https://bootstrap.pypa.io/get-pip.py"</span> -o <span class="string">"get-pip.py"</span> <span class="comment">#download pip</span></span><br><span class="line"></span><br><span class="line">python get-pip.py <span class="comment">#install pip</span></span><br></pre></td></tr></table></figure><h2 id="3-Install-SS-and-configure-SS-parameters"><a href="#3-Install-SS-and-configure-SS-parameters" class="headerlink" title="3. Install SS and configure SS parameters"></a>3. Install SS and configure SS parameters</h2><p><strong>1. Install shadowsocks</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install shadowsocks</span><br></pre></td></tr></table></figure><p><strong>2. Enter <code>vi /etc/shadowsocks.json</code> with root authority to configure shadowsocks parameters. <code>If you can&#39;t enter vi, you can use nano or vim to configure</code></strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/shadowsocks.json</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"server"</span>:<span class="string">"0.0.0.0"</span>,</span><br><span class="line">    <span class="attr">"server_port"</span>:<span class="number">8388</span>,</span><br><span class="line">    <span class="attr">"password"</span>:<span class="string">"password"</span>,</span><br><span class="line">    <span class="attr">"method"</span>:<span class="string">"aes-256-cfb"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Four-Create-a-startup-script"><a href="#Four-Create-a-startup-script" class="headerlink" title="Four. Create a startup script"></a>Four. Create a startup script</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/systemd/system/shadowsocks.service</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Shadowsocks</span><br><span class="line">[Service]</span><br><span class="line">TimeoutStartSec=0</span><br><span class="line">ExecStart=/usr/bin/ssserver -c/etc/shadowsocks.json</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p><strong>Reminder: <code>Shadowsocks needs to install the libsodium encryption library, otherwise you can only use</code>“aes-256-cfb”<code>and other encryption protocols cannot be used. Please execute the following code:</code></strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/jedisct1/libsodium/releases/download/1.0.18-RELEASE/libsodium-1.0.18.tar.gz</span><br><span class="line"></span><br><span class="line">tar xf libsodium-1.0.18.tar.gz &amp;&amp; <span class="built_in">cd</span> libsodium-1.0.18</span><br></pre></td></tr></table></figure><h2 id="5-Debugging-service"><a href="#5-Debugging-service" class="headerlink" title="5. Debugging service"></a>5. Debugging service</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> shadowsocks <span class="comment">#Make the service ss service effective and start up</span></span><br><span class="line"></span><br><span class="line">systemctl start shadowsocks <span class="comment">#start ss</span></span><br><span class="line"></span><br><span class="line">systemctl status shadowsocks -l <span class="comment">#View status</span></span><br></pre></td></tr></table></figure><p>Then install BBR acceleration by yourself<br>Reminder: Do you really understand? It is easy to use for friends who know how to use ss, and for friends who do not know how to use ss, even if you are using v2ray or trojan GFW, it is easy to wall your IP. No matter you use any circumvention software, most of the situations are People, in whose hands it is used, shadowsocks can also be used with services such as NGINX, and CDN can also be added. Don’t be broken by some UP main belts. Any problem will be a bullshit if it can’t stand the verification.</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-Preparation&quot;&gt;&lt;a href=&quot;#1-Preparation&quot; class=&quot;headerlink&quot; title=&quot;1. Preparation&quot;&gt;&lt;/a&gt;1. Preparation&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;1.root permission&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo -i&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;2. System package update&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;yum update&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="-Shadowsocks -vpn" scheme="https://www.rootfw.com/categories/Shadowsocks-vpn/"/>
    
    
      <category term="-SS -Shadowsocks -vpn" scheme="https://www.rootfw.com/tags/SS-Shadowsocks-vpn/"/>
    
  </entry>
  
  <entry>
    <title>v2ray定时重启服务crontab</title>
    <link href="https://www.rootfw.com/posts/a8ffa798.html"/>
    <id>https://www.rootfw.com/posts/a8ffa798.html</id>
    <published>2020-06-16T09:40:18.000Z</published>
    <updated>2020-08-08T08:18:27.353Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-服务器同步本地时间"><a href="#1-服务器同步本地时间" class="headerlink" title="1.服务器同步本地时间"></a>1.服务器同步本地时间</h3><p><strong>以下centos7同步时间选择其中一种</strong><br>方法一.校准时间同步本地时间  date -R 查看vps时间</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo -i   <span class="comment">#root权限</span></span><br><span class="line">yum -y install ntp ntpdate   <span class="comment">#安装ntpdate工具</span></span><br><span class="line">ntpdate cn.pool.ntp.org     <span class="comment">#设置系统时间与本地网络时间同步</span></span><br><span class="line">hwclock --systohc      <span class="comment">#将系统时间写入硬件时间</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>方法二.校准时间同步    date -R 查看vps时间</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yum install ntp            //安装ntp服务</span><br><span class="line">systemctl <span class="built_in">enable</span> ntpd      //开机启动服务</span><br><span class="line">systemctl start ntpd       //启动服务</span><br><span class="line">timedatectl <span class="built_in">set</span>-timezone Asia/Shanghai    //更改时区</span><br><span class="line">timedatectl <span class="built_in">set</span>-ntp yes        //启用ntp同步</span><br><span class="line">ntpq -p                   //同步时间</span><br></pre></td></tr></table></figure><p>方法三.校准时间同步上海时间时区   date -R 查看vps时间</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">date -R               //查看服务器时间</span><br><span class="line">timedatectl <span class="built_in">set</span>-local-rtc 1</span><br><span class="line">timedatectl <span class="built_in">set</span>-timezone Asia/Shanghai</span><br><span class="line">date -R               //查看服务器时间</span><br></pre></td></tr></table></figure><p>Debian系统同步时间如下：<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">date -R                //查看服务器时间</span><br><span class="line">rm -rf /etc/localtime</span><br><span class="line">cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class="line">date -R               //查看服务器时间</span><br></pre></td></tr></table></figure></p><h3 id="2-crontab服务"><a href="#2-crontab服务" class="headerlink" title="2.crontab服务"></a>2.crontab服务</h3><p>1.开启crontab,如果提示错误需要安装crontab,则输入代码无任何提示表示已经开启</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/service crond start</span><br></pre></td></tr></table></figure><p>2.输入提示绿色返回值证明已经安装并且开启</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/service crond status        <span class="comment">#输入提示绿色返回值证明已经安装并且开启</span></span><br></pre></td></tr></table></figure><p>3.安装crontab：(有些系统没有安装crontab则需要安装,如果系统本身已经安装了请跳过这一步骤)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install crontabs    <span class="comment">#安装crontab</span></span><br></pre></td></tr></table></figure><h3 id="服务操作说明："><a href="#服务操作说明：" class="headerlink" title="服务操作说明："></a>服务操作说明：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/sbin/service crond start               <span class="comment">#启动服务</span></span><br><span class="line">/sbin/service crond stop              <span class="comment">#关闭服务</span></span><br><span class="line">/sbin/service crond restart            <span class="comment">#重启服务</span></span><br><span class="line">/sbin/service crond reload             <span class="comment">#重新载入配置</span></span><br><span class="line">/sbin/service crond status            <span class="comment">#查看crond是否正常运行</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/v2ray/config.json     <span class="comment">#进入配置文件信息</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"log"</span>: &#123;</span><br><span class="line">    <span class="string">"loglevel"</span>: <span class="string">"warning"</span>,    //可用info和debug和error和warning和none等5种模式</span><br><span class="line">    <span class="string">"access"</span>: <span class="string">"/var/log/v2ray/access.log"</span>,    // 这是路径 </span><br><span class="line">    <span class="string">"error"</span>: <span class="string">"/var/log/v2ray/error.log"</span>     // 这是路径 </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"inbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"port"</span>: 16823,   //端口自定义</span><br><span class="line">      <span class="string">"protocol"</span>: <span class="string">"vmess"</span>,   </span><br><span class="line">      <span class="string">"settings"</span>: &#123;</span><br><span class="line">        <span class="string">"clients"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">"id"</span>: <span class="string">"b831381d-6324-4d53-ad4f-8cda48b30811"</span>,   //uuid自定义</span><br><span class="line">            <span class="string">"alterId"</span>: 64   //额外ID自定义</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"outbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"protocol"</span>: <span class="string">"freedom"</span>,  </span><br><span class="line">      <span class="string">"settings"</span>: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5.<strong>crontab -e</strong><br>输入i键,复制以下代码ctrl+c,黏贴ctrl+v然后输入shift+:在输入wq保存并且退出加入计划任务,可自定义添加需要的功能</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*/<span class="number">1</span> * * * * date &gt;&gt; ~/a.log <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">*/<span class="number">1</span> * * * * sudo journalctl -b -u v2ray &gt;&gt; ~/a.log <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">*/<span class="number">1</span> * * * * cat /<span class="keyword">var</span>/log/v2ray/access.log &gt;&gt; ~/c.log <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">*/<span class="number">1</span> * * * * cat /<span class="keyword">var</span>/log/v2ray/error.log &gt;&gt; ~/b.log <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">*/<span class="number">1</span> * * * * /bin/systemctl restart v2ray.service &gt;&gt; ~/a.log <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br></pre></td></tr></table></figure><h3 id="以上脚本可自行编写多功能脚本"><a href="#以上脚本可自行编写多功能脚本" class="headerlink" title="以上脚本可自行编写多功能脚本"></a>以上脚本可自行编写多功能脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">crontab -l                <span class="comment">#查看已经添加的crontab任务</span></span><br><span class="line"></span><br><span class="line">tail或者(cat) ~/a.log或者~/b.log  <span class="comment">#查看最近10条日志</span></span><br><span class="line"></span><br><span class="line">more /root/a.log或者/b.log       <span class="comment">#查看所有日志</span></span><br><span class="line"></span><br><span class="line">tail -f /var/<span class="built_in">log</span>/cron          <span class="comment">#查看正常运行的crontab计划任务</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#验证crontab计划任务v2ray运行状态</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#可以根据特定字段过滤输出</span></span><br><span class="line">journalctl -b       <span class="comment">#显示本次启动后的所有日志：</span></span><br><span class="line"></span><br><span class="line">journalctl -f     <span class="comment">#查看正在输出的进程</span></span><br><span class="line"></span><br><span class="line">sudo journalctl -b -u v2ray   <span class="comment">#查看brook状态</span></span><br><span class="line"></span><br><span class="line">man 1 journalctl    <span class="comment">#查看所有 journalctl使用方法</span></span><br><span class="line"></span><br><span class="line">rm -rf ~/a.log 或者~/b.log   <span class="comment">#日志清除方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#实例1：每1分钟执行一次command</span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">* * * * * <span class="built_in">command</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">实例2：每小时的第3和第15分钟执行</span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">3,15 * * * * <span class="built_in">command</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">#实例3：在上午8点到11点的第3和第15分钟执行</span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">3,15 8-11 * * * <span class="built_in">command</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">#实例4：每隔两天的上午8点到11点的第3和第15分钟执行</span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">3,15 8-11 */2 * * <span class="built_in">command</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">#实例5：每个星期一的上午8点到11点的第3和第15分钟执行</span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">3,15 8-11 * * 1 <span class="built_in">command</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">#实例6：每晚的21:30重启smb </span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">30 21 * * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">#实例7：每月1、10、22日的4 : 45重启smb </span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">45 4 1,10,22 * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">#实例8：每周六、周日的1 : 10重启smb</span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">10 1 * * 6,0 /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">#实例9：每天18 : 00至23 : 00之间每隔30分钟重启smb </span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">0,30 18-23 * * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">#实例10：每星期六的晚上11 : 00 pm重启smb </span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">0 23 * * 6 /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">#实例11：每一小时重启smb </span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">* */1 * * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">#实例12：晚上11点到早上7点之间，每隔一小时重启smb </span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">* 23-7/1 * * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">#实例13：每月的4号与每周一到周三的11点重启smb </span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">0 11 4 * mon-wed /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">实例14：一月一号的4点重启smb </span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">0 4 1 jan * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">#实例14：每小时执行/etc/cron.hourly目录内的脚本</span></span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line"></span><br><span class="line">01   *   *   *   *     root run-parts /etc/cron.hourly</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-服务器同步本地时间&quot;&gt;&lt;a href=&quot;#1-服务器同步本地时间&quot; class=&quot;headerlink&quot; title=&quot;1.服务器同步本地时间&quot;&gt;&lt;/a&gt;1.服务器同步本地时间&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;以下centos7同步时间选择其中一种&lt;/strong&gt;&lt;br&gt;方法一.校准时间同步本地时间  date -R 查看vps时间&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo -i   &lt;span class=&quot;comment&quot;&gt;#root权限&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum -y install ntp ntpdate   &lt;span class=&quot;comment&quot;&gt;#安装ntpdate工具&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;ntpdate cn.pool.ntp.org     &lt;span class=&quot;comment&quot;&gt;#设置系统时间与本地网络时间同步&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hwclock --systohc      &lt;span class=&quot;comment&quot;&gt;#将系统时间写入硬件时间&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="科学上网" scheme="https://www.rootfw.com/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
      <category term="v2ray" scheme="https://www.rootfw.com/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/v2ray/"/>
    
    
      <category term="v2ray" scheme="https://www.rootfw.com/tags/v2ray/"/>
    
  </entry>
  
  <entry>
    <title>SSR multi-user script construction</title>
    <link href="https://www.rootfw.com/posts/43d67d1c.html"/>
    <id>https://www.rootfw.com/posts/43d67d1c.html</id>
    <published>2020-06-16T08:20:33.000Z</published>
    <updated>2020-09-20T12:09:32.255Z</updated>
    
    <content type="html"><![CDATA[<p>Build environment centos7/debian system</p><h3 id="sudo-i"><a href="#sudo-i" class="headerlink" title="sudo -i"></a>sudo -i</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br></pre></td></tr></table></figure><h3 id="Install-Curl-on-ubuntu-system"><a href="#Install-Curl-on-ubuntu-system" class="headerlink" title="Install Curl on ubuntu system"></a>Install Curl on ubuntu system</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update -y &amp;&amp; apt-get install curl -y</span><br></pre></td></tr></table></figure><h3 id="Centos-install-Curl-and-wget"><a href="#Centos-install-Curl-and-wget" class="headerlink" title="Centos install Curl and wget"></a>Centos install Curl and wget</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum update -y &amp;&amp; yum install curl -y</span><br><span class="line">yum install wget</span><br></pre></td></tr></table></figure><h3 id="Install-one-click-script"><a href="#Install-one-click-script" class="headerlink" title="Install one-click script"></a>Install one-click script</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ComeBey/more-user-ssr/master/hasan.sh &amp;&amp; chmod +x hasan.sh &amp;&amp; bash hasan.sh</span><br></pre></td></tr></table></figure><h3 id="Invoke-command-debugging"><a href="#Invoke-command-debugging" class="headerlink" title="Invoke command debugging"></a>Invoke command debugging</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash hasan.sh</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Build environment centos7/debian system&lt;/p&gt;
&lt;h3 id=&quot;sudo-i&quot;&gt;&lt;a href=&quot;#sudo-i&quot; class=&quot;headerlink&quot; title=&quot;sudo -i&quot;&gt;&lt;/a&gt;sudo -i&lt;/h3&gt;&lt;figure 
      
    
    </summary>
    
    
      <category term="-Science online -SSR" scheme="https://www.rootfw.com/categories/Science-online-SSR/"/>
    
    
      <category term="-SSR -Over the wall" scheme="https://www.rootfw.com/tags/SSR-Over-the-wall/"/>
    
  </entry>
  
  <entry>
    <title>Brook crontab use</title>
    <link href="https://www.rootfw.com/posts/10db3eaa.html"/>
    <id>https://www.rootfw.com/posts/10db3eaa.html</id>
    <published>2020-06-10T04:45:36.000Z</published>
    <updated>2020-09-20T12:03:51.664Z</updated>
    
    <content type="html"><![CDATA[<p>Choose one of the following synchronization time. If you cannot synchronize the local time, please google the next one (keywords such as centos7 or centos6 or debian time synchronization local time)<br><strong>Method 1. Calibrate time and synchronize local time date -R view vps time sudo -i root permission to enter</strong><br>``<br>yum -y install ntp ntpdate //install ntpdate tool<br>ntpdate cn.pool.ntp.org //Set the system time to synchronize with the local network time<br>hwclock –systohc //write system time into hardware time</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">**Method 2. Calibrate time to synchronize local time date -R to view vps time**</span><br><span class="line">&#96;&#96;</span><br><span class="line">yum install ntp &#x2F;&#x2F;install ntp service</span><br><span class="line">systemctl enable ntpd &#x2F;&#x2F;Start the service</span><br><span class="line">systemctl start ntpd &#x2F;&#x2F;Start the service</span><br><span class="line">timedatectl set-timezone Asia&#x2F;Shanghai&#x2F;&#x2F;Change time zone</span><br><span class="line">timedatectl set-ntp yes &#x2F;&#x2F;Enable ntp synchronization</span><br><span class="line">ntpq -p &#x2F;&#x2F;Sync time</span><br></pre></td></tr></table></figure><p>&lt;! -More-&gt;</p><p>** crontab service **<br>``<br>/ sbin / service crond start (open crontab without any prompt indicating it has been opened)<br>/sbin/service crond status (view status)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Install crontab: (Some systems do not have crontab installed, you need to install it, if the system itself is already installed, please skip this step)</span><br><span class="line"></span><br><span class="line">** yum install crontabs ** (install crontab)</span><br><span class="line"></span><br><span class="line">##Service operation instructions:</span><br><span class="line">&#96;&#96;</span><br><span class="line">&#x2F; sbin &#x2F; service crond start (start service)</span><br><span class="line"></span><br><span class="line">&#x2F; sbin &#x2F; service crond stop (turn off the service)</span><br><span class="line"></span><br><span class="line">&#x2F;sbin&#x2F;service crond restart (restart service)</span><br><span class="line"></span><br><span class="line">&#x2F; sbin &#x2F; service crond reload (reload configuration&#x2F;&#x2F;reload configuration)</span><br><span class="line"></span><br><span class="line">&#x2F;sbin&#x2F;service crond status (check whether crond is running normally)</span><br></pre></td></tr></table></figure><p>crontab -e (Enter the i key, copy the following code ctrl + c, paste ctrl + v to join the scheduled task, you can customize and add the required functions)</p><p>``</p><ul><li>/ 1 * * * *Date&gt;&gt;~/a.log 2&gt;&amp;1</li><li>/ 1 * * * * sudo journalctl -b -u brook &gt;&gt;~/ a.log 2&gt;&amp;1</li><li>/ 1 * * * * /bin/systemctl restart brook.service &gt;&gt;~/a.log 2&gt;&amp;1<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line">&#96;&#96;</span><br><span class="line">crontab -l (view the crontab tasks that have been added)</span><br><span class="line">tail~&#x2F;a.log View the last 10 logs</span><br><span class="line">More&#x2F;root&#x2F;a.log View all logs</span><br><span class="line">tail -f &#x2F;var&#x2F;log&#x2F;cron to view normal running crontab scheduled tasks</span><br><span class="line">Verify the running status of crontab scheduled task brook</span><br><span class="line">The output can be filtered according to specific segments</span><br><span class="line">journalctl -b displays all logs after this startup:</span><br><span class="line"></span><br><span class="line">journalctl -f view the progress being output</span><br><span class="line"></span><br><span class="line">sudo journalctl -b -u Brook view Brooke status</span><br><span class="line"></span><br><span class="line">man 1 journalctl view all the usage of journalctl</span><br><span class="line"></span><br><span class="line">rm -rf~&#x2F;a.log log clearing method</span><br><span class="line"></span><br><span class="line">Example 1: execute a command every 1 minute</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">* * * * *Command</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 2: Execute at the 3rd and 15th minutes of every hour</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">3,15 * * * *Command</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 3: Execute at the 3rd and 15th minutes from 8 am to 11 am</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">3,15 8-11 * * *Command</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 4: Execute at the 3rd and 15th minutes from 8 am to 11 am every two days</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">3,15 8-11 * &#x2F; 2 * *Command</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 5: Execute on the 3rd and 15th minutes from 8 am to 11 am every Monday</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">3,15 8-11 * * 1 command</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 6: Restart at 21:30 every night</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">30 21 * * * &#x2F;etc&#x2F;init.d&#x2F;smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 7: Restart at 4:45 on the 1, 10, and 22 of each month</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">45 4 1,10,22 * * &#x2F;etc&#x2F;init.d&#x2F;smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 8: Restart at 1:10 every Saturday and Sunday</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">10 1 * * 6,0 &#x2F;etc&#x2F;init.d&#x2F;smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 9: Restart smb every 30 minutes from 18:00 to 23:00 every day</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">0,30 18-23 * * * &#x2F;etc&#x2F;init.d&#x2F;smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 10: restart every Saturday at 11:00 pm</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">0 23 * * 6 &#x2F;etc&#x2F;init.d&#x2F;smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 11: Restart smb every hour</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">* * &#x2F; 1 * * * &#x2F;etc&#x2F;init.d&#x2F;smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 12: Between 11 pm and 7 am, restart smb every hour</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">* 23-7 &#x2F; 1 * * * &#x2F;etc&#x2F;init.d&#x2F;smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 13: Restart smb on the 4th of every month and 11 o’clock every Monday to Wednesday</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">0 11 4 * mon-wed &#x2F;etc&#x2F;init.d&#x2F;smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 14: restart smb at 4 o&#39;clock on January 1st</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">0 4 1 jan * &#x2F;etc&#x2F;init.d&#x2F;smb restart</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">Example 15: Execute the script in the &#x2F;etc&#x2F;cron.hourly directory every hour</span><br><span class="line"></span><br><span class="line">command:</span><br><span class="line"></span><br><span class="line">01 * * * *Root running component &#x2F;etc&#x2F;cron.hourly</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Choose one of the following synchronization time. If you cannot synchronize the local time, please google the next one (keywords such as 
      
    
    </summary>
    
    
      <category term="vpn" scheme="https://www.rootfw.com/categories/vpn/"/>
    
      <category term="Brook" scheme="https://www.rootfw.com/categories/vpn/Brook/"/>
    
    
      <category term="Brook" scheme="https://www.rootfw.com/tags/Brook/"/>
    
      <category term="Restart regularly" scheme="https://www.rootfw.com/tags/Restart-regularly/"/>
    
  </entry>
  
  <entry>
    <title>Brook centos7官方脚本搭建</title>
    <link href="https://www.rootfw.com/posts/c695a206.html"/>
    <id>https://www.rootfw.com/posts/c695a206.html</id>
    <published>2020-06-10T01:58:30.000Z</published>
    <updated>2020-09-20T12:05:17.822Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-Update-server"><a href="#1-Update-server" class="headerlink" title="1. Update server"></a>1. Update server</h3><ol><li>Enter sudo -i to enter root privileges, you can choose to upgrade the kernel, yum update -y upgrades the kernel</li><li>yum install wget download wget tool<br>wget <a href="https://github.com/txthinking/brook/releases/download/v20190205/brook">https://github.com/txthinking/brook/releases/download/v20190205/brook</a> download brook server version</li><li>Enter cp brook /usr/bin to copy brook to the bin directory</li><li>chmod +x /usr/bin/brook gives the current path brook executable permissions</li><li>brook -h #View help</li><li>nohup ./brook server -l :80 -p pass1234 &amp; add brook port and password and let brook run in the background</li></ol><p><strong>Copy the following code</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br><span class="line">yum update -y</span><br><span class="line">yum install wget</span><br><span class="line">wget https://github.com/txthinking/brook/releases/download/v20190205/brook</span><br><span class="line">cp brook /usr/bin</span><br><span class="line">chmod +x /usr/bin/brook</span><br><span class="line">nohup ./brook server -l :80 -p pass1234 &amp;</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="Brook-settings-start-with-the-system"><a href="#Brook-settings-start-with-the-system" class="headerlink" title="Brook settings start with the system"></a>Brook settings start with the system</h3><p>vi /etc/systemd/system/brook.service Create brook.service startup script with vi<br>To<br>Press “i” to enter insert mode, enter the script as follows</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    [Unit]</span><br><span class="line">    Description &#x3D; This is brook</span><br><span class="line">                </span><br><span class="line">    [Service]</span><br><span class="line">    ExecStart &#x3D; &#x2F;usr&#x2F;bin&#x2F;.&#x2F;brook server -l :80 -p pass1234</span><br><span class="line">                </span><br><span class="line">    [Install]</span><br><span class="line">    WantedBy &#x3D; multi-user.target</span><br><span class="line">To</span><br></pre></td></tr></table></figure><p>Press Esc, enter “shift+:”, enter wq, press Enter, save and exit</p><p>Give executable attributes and take effect:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;brook.service</span><br></pre></td></tr></table></figure><p>Open brook.service service</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;brook.service</span><br></pre></td></tr></table></figure><p>reboot restart vps</p><h3 id="Check-if-brook-service-is-running-normally"><a href="#Check-if-brook-service-is-running-normally" class="headerlink" title="Check if brook service is running normally"></a>Check if brook service is running normally</h3><p>The following code:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">service brook status -l will return to green if started normally active (running)</span><br><span class="line">service brook start start brook service</span><br><span class="line">service brook stop stop brook running</span><br><span class="line">service brook restart restart brook service</span><br></pre></td></tr></table></figure><p>systemctl list-unit-files Check whether the Brook script takes effect. After re-modifying the Brook password, we need to reload the information and enter systemctl daemon-reload or restart vps and enter reboot</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;1-Update-server&quot;&gt;&lt;a href=&quot;#1-Update-server&quot; class=&quot;headerlink&quot; title=&quot;1. Update server&quot;&gt;&lt;/a&gt;1. Update server&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;Enter sudo -i to enter root privileges, you can choose to upgrade the kernel, yum update -y upgrades the kernel&lt;/li&gt;
&lt;li&gt;yum install wget download wget tool&lt;br&gt;wget &lt;a href=&quot;https://github.com/txthinking/brook/releases/download/v20190205/brook&quot;&gt;https://github.com/txthinking/brook/releases/download/v20190205/brook&lt;/a&gt; download brook server version&lt;/li&gt;
&lt;li&gt;Enter cp brook /usr/bin to copy brook to the bin directory&lt;/li&gt;
&lt;li&gt;chmod +x /usr/bin/brook gives the current path brook executable permissions&lt;/li&gt;
&lt;li&gt;brook -h #View help&lt;/li&gt;
&lt;li&gt;nohup ./brook server -l :80 -p pass1234 &amp;amp; add brook port and password and let brook run in the background&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Copy the following code&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo -i&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum update -y&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;yum install wget&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;wget https://github.com/txthinking/brook/releases/download/v20190205/brook&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cp brook /usr/bin&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;chmod +x /usr/bin/brook&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;nohup ./brook server -l :80 -p pass1234 &amp;amp;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="vpn" scheme="https://www.rootfw.com/categories/vpn/"/>
    
      <category term="brook" scheme="https://www.rootfw.com/categories/vpn/brook/"/>
    
    
      <category term="brook" scheme="https://www.rootfw.com/tags/brook/"/>
    
  </entry>
  
  <entry>
    <title>v2ray下载安装</title>
    <link href="https://www.rootfw.com/posts/65f94be0.html"/>
    <id>https://www.rootfw.com/posts/65f94be0.html</id>
    <published>2020-06-09T13:29:49.000Z</published>
    <updated>2020-08-06T11:22:28.791Z</updated>
    
    <content type="html"><![CDATA[<h1 id="v2ray主要特征"><a href="#v2ray主要特征" class="headerlink" title="v2ray主要特征"></a>v2ray主要特征</h1><ul><li>多入口多出口: 一个 V2Ray 进程可并发支持多个入站和出站协议，每个协议可独立工作。</li><li>可定制化路由: 入站流量可按配置由不同的出口发出。轻松实现按区域或按域名分流，以达到最优的网络性能。</li><li>多协议支持: V2Ray 可同时开启多个协议支持，包括 Socks、HTTP、Shadowsocks、VMess 等。每个协议可单独设置– 传输载   　体，比如 TCP、mKCP、WebSocket 等。</li><li>隐蔽性: V2Ray 的节点可以伪装成正常的网站（HTTPS），将其流量与正常的网页流量混淆，以避开第三方干扰。</li><li>反向代理: 通用的反向代理支持，可实现内网穿透功能。</li><li>多平台支持: 原生支持所有常见平台，如 Windows、Mac OS、Linux，并已有第三方支持移动平台</li></ul><a id="more"></a><h1 id="v2ray在以下平台中可使用"><a href="#v2ray在以下平台中可使用" class="headerlink" title="v2ray在以下平台中可使用"></a>v2ray在以下平台中可使用</h1><ul><li>Windows 7 及之后版本（x86 / amd64）；</li><li>Mac OS X 10.10 Yosemite 及之后版本（amd64）；</li><li>Linux 2.6.23 及之后版本（x86 / amd64 / arm / arm64 / mips64 / mips）；包括但不限于 Debian 7 / 8、Ubuntu 12.04 / 14.04 及后续版本、CentOS 6 / 7、Arch Linux；</li><li>FreeBSD (x86 / amd64)；</li><li>OpenBSD (x86 / amd64)；</li><li>Dragonfly BSD (amd64)；</li><li>IOS/安卓/软路由等</li></ul><h1 id="下载-v2ray"><a href="#下载-v2ray" class="headerlink" title="下载 v2ray"></a>下载 v2ray</h1><ul><li><p><a href="https://github.com/v2ray/v2ray-core/releases">Github Release: github.com/v2ray/v2ray-core</a></p></li><li><p><a href="https://github.com/v2ray/dist/">Github 分流: github.com/v2ray/dist</a></p></li><li><p><a href="https://github.com/v2ray/homebrew-v2ray">Homebrew: github.com/v2ray/homebrew-v2ray</a></p></li><li><p><a href="https://www.archlinux.org/packages/community/x86_64/v2ray/">Arch Linux: packages/community/x86_64/v2ray</a></p></li><li><p><a href="https://snapcraft.io/v2ray-core">Snapcraft: snapcraft.io/v2ray-core</a></p></li><li><p>压缩包均为 zip 格式，找到对应平台的压缩包，下载解压即可使用。</p></li></ul><h1 id="验证安装包"><a href="#验证安装包" class="headerlink" title="验证安装包"></a>验证安装包</h1><ul><li>V2Ray 提供两种验证方式：</li></ul><ol><li>安装包 zip 文件的 SHA1 / SHA256 摘要，在每个安装包对应的.dgst文件中可以找到。</li><li>可运行程序（v2ray 或 v2ray.exe）的 gpg 签名，文件位于安装包中的 v2ray.sig 或 v2ray.exe.sig。签名公钥可以在<a href="https://raw.githubusercontent.com/v2ray/v2ray-core/master/release/verify/official_release.asc">代码库</a>中找到。</li></ol><h1 id="Windows-和-Mac-OS-安装方式"><a href="#Windows-和-Mac-OS-安装方式" class="headerlink" title="Windows 和 Mac OS 安装方式"></a>Windows 和 Mac OS 安装方式</h1><ul><li>通过上述方式下载的压缩包，解压之后可看到 v2ray 或 v2ray.exe。直接运行即可。</li></ul><h1 id="Linux-发行版仓库"><a href="#Linux-发行版仓库" class="headerlink" title="Linux 发行版仓库"></a>Linux 发行版仓库</h1><ul><li>部分发行版可能已收录 V2Ray 到其官方维护和支持的软件仓库/软件源中。</li><li>出于兼容性、适配性考虑，您可以考虑选用由您发行版开发团队维护的软件包或下文的安装脚本亦或基于已发布的二进制文件或源代&emsp;码安装。</li></ul><h1 id="Linux-安装脚本"><a href="#Linux-安装脚本" class="headerlink" title="Linux 安装脚本"></a>Linux 安装脚本</h1><ul><li><p>V2Ray 提供了一个在 Linux 中的自动化安装脚本。这个脚本会自动检测有没有安装过 V2Ray，如果没有，则进行完整的安装和配  置；如果之前安装过 V2Ray，则只更新 V2Ray 二进制程序而不更新配置。</p></li><li><p>以下指令假设已在 su 环境下，如果不是，请先运行 sudo su。</p></li><li><p>运行下面的指令下载并安装 V2Ray。当 yum 或 apt-get 可用的情况下，此脚本会自动安装 unzip 和 daemon。</p></li><li><p>这两个组件是安   装 V2Ray 的必要组件。如果你使用的系统不支持 yum 或 apt-get，请自行安装 unzip 和 daemon</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://install.direct/go.sh)</span><br></pre></td></tr></table></figure></li><li><p>此脚本会自动安装以下文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;usr&#x2F;bin&#x2F;v2ray&#x2F;v2ray：V2Ray 程序；</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;v2ray&#x2F;v2ctl：V2Ray 工具；</span><br><span class="line">&#x2F;etc&#x2F;v2ray&#x2F;config.json：配置文件；</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;v2ray&#x2F;geoip.dat：IP 数据文件</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;v2ray&#x2F;geosite.dat：域名数据文件</span><br></pre></td></tr></table></figure></li><li><p>此脚本会配置自动运行脚本。自动运行脚本会在系统重启之后，自动运行 V2Ray。目前自动运行脚本只支持带有 Systemd 的系     统，以及 Debian / Ubuntu 全系列。</p></li><li><p>运行脚本位于系统的以下位置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/etc/systemd/system/v2ray.service: Systemd</span><br><span class="line">/etc/init.d/v2ray: SysV</span><br></pre></td></tr></table></figure></li><li><p>脚本运行完成后，你需要：</p></li><li><p>输入<strong>vi/etc/v2ray/config.json</strong>文件来配置你需要的代理方式；</p></li><li><p>运行 service v2ray start 来启动 V2Ray 进程；</p></li><li><p>之后可以使用 <strong>service v2ray start|stop|status|reload|restart|force-reload</strong> 控制 V2Ray 的运行。</p></li><li><p>go.sh 参数</p></li><li><p>go.sh 支持如下参数，可在手动安装时根据实际情况调整：</p></li><li><p>-p 或 –proxy: 使用代理服务器来下载 V2Ray 的文件，格式与 curl 接受的参数一致，比如 “socks5://127.0.0.1:1080” 或  “<a href="http://127.0.0.1:3128&quot;。">http://127.0.0.1:3128&quot;。</a></p></li><li><p>-f 或 –force: 强制安装。在默认情况下，如果当前系统中已有最新版本的 V2Ray，go.sh 会在检测之后就退出。如果需要强制   重装一遍，则需要指定该参数。</p></li><li><p>version: 指定需要安装的版本，比如 “v1.13”。默认值为最新版本。</p></li><li><p>local: 使用一个本地文件进行安装。如果你已经下载了某个版本的 V2Ray，则可通过这个参数指定一个文件路径来进行安装。</p></li></ul><h1 id="示例如下："><a href="#示例如下：" class="headerlink" title="示例如下："></a>示例如下：</h1><ul><li><p>使用地址为 127.0.0.1:1080 的 SOCKS 代理下载并安装最新版本：./go.sh -p socks5://127.0.0.1:1080</p></li><li><p>安装本地的 v1.13 版本：./go.sh –version v1.13 –local /path/to/v2ray.zip</p></li><li><p>V2Ray 提供了两个预编译的 Docker image：</p></li><li><p>v2ray/official: 包含最新发布的版本，每周跟随新版本更新；</p></li><li><p>v2ray/dev: 包含由最新的代码编译而成的程序文件，随代码库更新；</p></li><li><p>两个 image 的文件结构相同：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/etc/v2ray/config.json                  <span class="comment">#配置文件</span></span><br><span class="line">/usr/bin/v2ray/v2ray                   <span class="comment"># V2Ray 主程序</span></span><br><span class="line">/usr/bin/v2ray/v2ctl                   <span class="comment">#V2Ray 辅助工具</span></span><br><span class="line">/usr/bin/v2ray/geoip.dat              <span class="comment"># IP 数据文件</span></span><br><span class="line">/usr/bin/v2ray/geosite.dat           <span class="comment"># 域名数据文件</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;v2ray主要特征&quot;&gt;&lt;a href=&quot;#v2ray主要特征&quot; class=&quot;headerlink&quot; title=&quot;v2ray主要特征&quot;&gt;&lt;/a&gt;v2ray主要特征&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;多入口多出口: 一个 V2Ray 进程可并发支持多个入站和出站协议，每个协议可独立工作。&lt;/li&gt;
&lt;li&gt;可定制化路由: 入站流量可按配置由不同的出口发出。轻松实现按区域或按域名分流，以达到最优的网络性能。&lt;/li&gt;
&lt;li&gt;多协议支持: V2Ray 可同时开启多个协议支持，包括 Socks、HTTP、Shadowsocks、VMess 等。每个协议可单独设置– 传输载   　体，比如 TCP、mKCP、WebSocket 等。&lt;/li&gt;
&lt;li&gt;隐蔽性: V2Ray 的节点可以伪装成正常的网站（HTTPS），将其流量与正常的网页流量混淆，以避开第三方干扰。&lt;/li&gt;
&lt;li&gt;反向代理: 通用的反向代理支持，可实现内网穿透功能。&lt;/li&gt;
&lt;li&gt;多平台支持: 原生支持所有常见平台，如 Windows、Mac OS、Linux，并已有第三方支持移动平台&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="科学上网" scheme="https://www.rootfw.com/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
      <category term="v2ray" scheme="https://www.rootfw.com/categories/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/v2ray/"/>
    
    
      <category term="v2ray" scheme="https://www.rootfw.com/tags/v2ray/"/>
    
  </entry>
  
</feed>
